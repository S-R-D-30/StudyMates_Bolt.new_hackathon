(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Rd={exports:{}},Za={},Fd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=Symbol.for("react.element"),Bm=Symbol.for("react.portal"),qm=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),Jm=Symbol.for("react.context"),Qm=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Gm=Symbol.for("react.memo"),Km=Symbol.for("react.lazy"),dc=Symbol.iterator;function Zm(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var zd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bd=Object.assign,qd={};function _r(e,t,r){this.props=e,this.context=t,this.refs=qd,this.updater=r||zd}_r.prototype.isReactComponent={};_r.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vd(){}Vd.prototype=_r.prototype;function lo(e,t,r){this.props=e,this.context=t,this.refs=qd,this.updater=r||zd}var oo=lo.prototype=new Vd;oo.constructor=lo;Bd(oo,_r.prototype);oo.isPureReactComponent=!0;var uc=Array.isArray,Hd=Object.prototype.hasOwnProperty,co={current:null},Wd={key:!0,ref:!0,__self:!0,__source:!0};function Jd(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Hd.call(t,n)&&!Wd.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:_n,type:e,key:i,ref:l,props:a,_owner:co.current}}function Xm(e,t){return{$$typeof:_n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uo(e){return typeof e=="object"&&e!==null&&e.$$typeof===_n}function e0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hc=/\/+/g;function Pi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?e0(""+e.key):t.toString(36)}function ua(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case _n:case Bm:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Pi(l,0):n,uc(a)?(r="",e!=null&&(r=e.replace(hc,"$&/")+"/"),ua(a,t,r,"",function(d){return d})):a!=null&&(uo(a)&&(a=Xm(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(hc,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",uc(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Pi(i,o);l+=ua(i,t,r,c,a)}else if(c=Zm(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Pi(i,o++),l+=ua(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Bn(e,t,r){if(e==null)return e;var n=[],a=0;return ua(e,n,"","",function(i){return t.call(r,i,a++)}),n}function t0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},ha={transition:null},s0={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ha,ReactCurrentOwner:co};function Qd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Bn,forEach:function(e,t,r){Bn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bn(e,function(){t++}),t},toArray:function(e){return Bn(e,function(t){return t})||[]},only:function(e){if(!uo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=_r;Z.Fragment=qm;Z.Profiler=Hm;Z.PureComponent=lo;Z.StrictMode=Vm;Z.Suspense=Ym;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;Z.act=Qd;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bd({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=co.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Hd.call(t,c)&&!Wd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:_n,type:e.type,key:a,ref:i,props:n,_owner:l}};Z.createContext=function(e){return e={$$typeof:Jm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wm,_context:e},e.Consumer=e};Z.createElement=Jd;Z.createFactory=function(e){var t=Jd.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Qm,render:e}};Z.isValidElement=uo;Z.lazy=function(e){return{$$typeof:Km,_payload:{_status:-1,_result:e},_init:t0}};Z.memo=function(e,t){return{$$typeof:Gm,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ha.transition;ha.transition={};try{e()}finally{ha.transition=t}};Z.unstable_act=Qd;Z.useCallback=function(e,t){return ze.current.useCallback(e,t)};Z.useContext=function(e){return ze.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};Z.useEffect=function(e,t){return ze.current.useEffect(e,t)};Z.useId=function(){return ze.current.useId()};Z.useImperativeHandle=function(e,t,r){return ze.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return ze.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return ze.current.useReducer(e,t,r)};Z.useRef=function(e){return ze.current.useRef(e)};Z.useState=function(e){return ze.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return ze.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return ze.current.useTransition()};Z.version="18.3.1";Fd.exports=Z;var C=Fd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=C,n0=Symbol.for("react.element"),a0=Symbol.for("react.fragment"),i0=Object.prototype.hasOwnProperty,l0=r0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o0={key:!0,ref:!0,__self:!0,__source:!0};function Yd(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)i0.call(t,n)&&!o0.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:n0,type:e,key:i,ref:l,props:a,_owner:l0.current}}Za.Fragment=a0;Za.jsx=Yd;Za.jsxs=Yd;Rd.exports=Za;var s=Rd.exports,Gd={exports:{}},rt={},Kd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,U){var E=I.length;I.push(U);e:for(;0<E;){var Y=E-1>>>1,G=I[Y];if(0<a(G,U))I[Y]=U,I[E]=G,E=Y;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var U=I[0],E=I.pop();if(E!==U){I[0]=E;e:for(var Y=0,G=I.length,mt=G>>>1;Y<mt;){var pt=2*(Y+1)-1,Ss=I[pt],re=pt+1,At=I[re];if(0>a(Ss,E))re<G&&0>a(At,Ss)?(I[Y]=At,I[re]=E,Y=re):(I[Y]=Ss,I[pt]=E,Y=pt);else if(re<G&&0>a(At,E))I[Y]=At,I[re]=E,Y=re;else break e}}return U}function a(I,U){var E=I.sortIndex-U.sortIndex;return E!==0?E:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,p=null,m=3,y=!1,f=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var U=r(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=I)n(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(d)}}function j(I){if(v=!1,x(I),!f)if(r(c)!==null)f=!0,B(N);else{var U=r(d);U!==null&&H(j,U.startTime-I)}}function N(I,U){f=!1,v&&(v=!1,g(w),w=-1),y=!0;var E=m;try{for(x(U),p=r(c);p!==null&&(!(p.expirationTime>U)||I&&!O());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,m=p.priorityLevel;var G=Y(p.expirationTime<=U);U=e.unstable_now(),typeof G=="function"?p.callback=G:p===r(c)&&n(c),x(U)}else n(c);p=r(c)}if(p!==null)var mt=!0;else{var pt=r(d);pt!==null&&H(j,pt.startTime-U),mt=!1}return mt}finally{p=null,m=E,y=!1}}var b=!1,S=null,w=-1,_=5,D=-1;function O(){return!(e.unstable_now()-D<_)}function Q(){if(S!==null){var I=e.unstable_now();D=I;var U=!0;try{U=S(!0,I)}finally{U?P():(b=!1,S=null)}}else b=!1}var P;if(typeof h=="function")P=function(){h(Q)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,M=q.port2;q.port1.onmessage=Q,P=function(){M.postMessage(null)}}else P=function(){k(Q,0)};function B(I){S=I,b||(b=!0,P())}function H(I,U){w=k(function(){I(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){f||y||(f=!0,B(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var E=m;m=U;try{return I()}finally{m=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var E=m;m=I;try{return U()}finally{m=E}},e.unstable_scheduleCallback=function(I,U,E){var Y=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?Y+E:Y):E=Y,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=E+G,I={id:u++,callback:U,priorityLevel:I,startTime:E,expirationTime:G,sortIndex:-1},E>Y?(I.sortIndex=E,t(d,I),r(c)===null&&I===r(d)&&(v?(g(w),w=-1):v=!0,H(j,E-Y))):(I.sortIndex=G,t(c,I),f||y||(f=!0,B(N))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var U=m;return function(){var E=m;m=U;try{return I.apply(this,arguments)}finally{m=E}}}})(Zd);Kd.exports=Zd;var c0=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=C,st=c0;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xd=new Set,cn={};function qs(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(cn[e]=t,e=0;e<t.length;e++)Xd.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,u0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mc={},pc={};function h0(e){return il.call(pc,e)?!0:il.call(mc,e)?!1:u0.test(e)?pc[e]=!0:(mc[e]=!0,!1)}function m0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function p0(e,t,r,n){if(t===null||typeof t>"u"||m0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var ho=/[\-:]([a-z])/g;function mo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ho,mo);Ie[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ho,mo);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ho,mo);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function po(e,t,r,n){var a=Ie.hasOwnProperty(t)?Ie[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(p0(t,r,a,n)&&(r=null),n||a===null?h0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qt=d0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qn=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),fo=Symbol.for("react.strict_mode"),ll=Symbol.for("react.profiler"),eu=Symbol.for("react.provider"),tu=Symbol.for("react.context"),xo=Symbol.for("react.forward_ref"),ol=Symbol.for("react.suspense"),cl=Symbol.for("react.suspense_list"),go=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),su=Symbol.for("react.offscreen"),fc=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=fc&&e[fc]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Ei;function Vr(e){if(Ei===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ei=t&&t[1]||""}return`
`+Ei+e}var Ti=!1;function Di(e,t){if(!e||Ti)return"";Ti=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ti=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vr(e):""}function f0(e){switch(e.tag){case 5:return Vr(e.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return e=Di(e.type,!1),e;case 11:return e=Di(e.type.render,!1),e;case 1:return e=Di(e.type,!0),e;default:return""}}function dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case er:return"Fragment";case Xs:return"Portal";case ll:return"Profiler";case fo:return"StrictMode";case ol:return"Suspense";case cl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tu:return(e.displayName||"Context")+".Consumer";case eu:return(e._context.displayName||"Context")+".Provider";case xo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case go:return t=e.displayName||null,t!==null?t:dl(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return dl(e(t))}catch{}}return null}function x0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(t);case 8:return t===fo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ru(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function g0(e){var t=ru(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vn(e){e._valueTracker||(e._valueTracker=g0(e))}function nu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ru(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ul(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function au(e,t){t=t.checked,t!=null&&po(e,"checked",t,!1)}function hl(e,t){au(e,t);var r=xs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ml(e,t.type,r):t.hasOwnProperty("defaultValue")&&ml(e,t.type,xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ml(e,t,r){(t!=="number"||ka(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hr=Array.isArray;function ur(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Hr(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xs(r)}}function iu(e,t){var r=xs(t.value),n=xs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hn,ou=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y0=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(e){y0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yr[t]=Yr[e]})});function cu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yr.hasOwnProperty(e)&&Yr[e]?(""+t).trim():t+"px"}function du(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=cu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var v0=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xl(e,t){if(t){if(v0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vl=null,hr=null,mr=null;function bc(e){if(e=Tn(e)){if(typeof vl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ri(t),vl(e.stateNode,e.type,t))}}function uu(e){hr?mr?mr.push(e):mr=[e]:hr=e}function hu(){if(hr){var e=hr,t=mr;if(mr=hr=null,bc(e),t)for(e=0;e<t.length;e++)bc(t[e])}}function mu(e,t){return e(t)}function pu(){}var Li=!1;function fu(e,t,r){if(Li)return e(t,r);Li=!0;try{return mu(e,t,r)}finally{Li=!1,(hr!==null||mr!==null)&&(pu(),hu())}}function un(e,t){var r=e.stateNode;if(r===null)return null;var n=ri(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var bl=!1;if(Vt)try{var $r={};Object.defineProperty($r,"passive",{get:function(){bl=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{bl=!1}function b0(e,t,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Gr=!1,Sa=null,Ca=!1,wl=null,w0={onError:function(e){Gr=!0,Sa=e}};function j0(e,t,r,n,a,i,l,o,c){Gr=!1,Sa=null,b0.apply(w0,arguments)}function N0(e,t,r,n,a,i,l,o,c){if(j0.apply(this,arguments),Gr){if(Gr){var d=Sa;Gr=!1,Sa=null}else throw Error(L(198));Ca||(Ca=!0,wl=d)}}function Vs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wc(e){if(Vs(e)!==e)throw Error(L(188))}function k0(e){var t=e.alternate;if(!t){if(t=Vs(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return wc(a),e;if(i===n)return wc(a),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function gu(e){return e=k0(e),e!==null?yu(e):null}function yu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yu(e);if(t!==null)return t;e=e.sibling}return null}var vu=st.unstable_scheduleCallback,jc=st.unstable_cancelCallback,S0=st.unstable_shouldYield,C0=st.unstable_requestPaint,ge=st.unstable_now,_0=st.unstable_getCurrentPriorityLevel,vo=st.unstable_ImmediatePriority,bu=st.unstable_UserBlockingPriority,_a=st.unstable_NormalPriority,P0=st.unstable_LowPriority,wu=st.unstable_IdlePriority,Xa=null,Lt=null;function E0(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Xa,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:L0,T0=Math.log,D0=Math.LN2;function L0(e){return e>>>=0,e===0?32:31-(T0(e)/D0|0)|0}var Wn=64,Jn=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Wr(o):(i&=l,i!==0&&(n=Wr(i)))}else l=r&~a,l!==0?n=Wr(l):i!==0&&(n=Wr(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wt(t),a=1<<r,n|=e[r],t&=~a;return n}function I0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-wt(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=I0(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ju(){var e=Wn;return Wn<<=1,!(Wn&4194240)&&(Wn=64),e}function Ii(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=r}function A0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function bo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var se=0;function Nu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ku,wo,Su,Cu,_u,Nl=!1,Qn=[],ls=null,os=null,cs=null,hn=new Map,mn=new Map,ss=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nc(e,t){switch(e){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(t.pointerId)}}function Ur(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Tn(t),t!==null&&wo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function U0(e,t,r,n,a){switch(t){case"focusin":return ls=Ur(ls,e,t,r,n,a),!0;case"dragenter":return os=Ur(os,e,t,r,n,a),!0;case"mouseover":return cs=Ur(cs,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return hn.set(i,Ur(hn.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,mn.set(i,Ur(mn.get(i)||null,e,t,r,n,a)),!0}return!1}function Pu(e){var t=Ds(e.target);if(t!==null){var r=Vs(t);if(r!==null){if(t=r.tag,t===13){if(t=xu(r),t!==null){e.blockedOn=t,_u(e.priority,function(){Su(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yl=n,r.target.dispatchEvent(n),yl=null}else return t=Tn(r),t!==null&&wo(t),e.blockedOn=r,!1;t.shift()}return!0}function kc(e,t,r){ma(e)&&r.delete(t)}function O0(){Nl=!1,ls!==null&&ma(ls)&&(ls=null),os!==null&&ma(os)&&(os=null),cs!==null&&ma(cs)&&(cs=null),hn.forEach(kc),mn.forEach(kc)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,Nl||(Nl=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,O0)))}function pn(e){function t(a){return Or(a,e)}if(0<Qn.length){Or(Qn[0],e);for(var r=1;r<Qn.length;r++){var n=Qn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ls!==null&&Or(ls,e),os!==null&&Or(os,e),cs!==null&&Or(cs,e),hn.forEach(t),mn.forEach(t),r=0;r<ss.length;r++)n=ss[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)Pu(r),r.blockedOn===null&&ss.shift()}var pr=Qt.ReactCurrentBatchConfig,Ea=!0;function R0(e,t,r,n){var a=se,i=pr.transition;pr.transition=null;try{se=1,jo(e,t,r,n)}finally{se=a,pr.transition=i}}function F0(e,t,r,n){var a=se,i=pr.transition;pr.transition=null;try{se=4,jo(e,t,r,n)}finally{se=a,pr.transition=i}}function jo(e,t,r,n){if(Ea){var a=kl(e,t,r,n);if(a===null)qi(e,t,n,Ta,r),Nc(e,n);else if(U0(a,e,t,r,n))n.stopPropagation();else if(Nc(e,n),t&4&&-1<$0.indexOf(e)){for(;a!==null;){var i=Tn(a);if(i!==null&&ku(i),i=kl(e,t,r,n),i===null&&qi(e,t,n,Ta,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else qi(e,t,n,null,r)}}var Ta=null;function kl(e,t,r,n){if(Ta=null,e=yo(n),e=Ds(e),e!==null)if(t=Vs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function Eu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_0()){case vo:return 1;case bu:return 4;case _a:case P0:return 16;case wu:return 536870912;default:return 16}default:return 16}}var as=null,No=null,pa=null;function Tu(){if(pa)return pa;var e,t=No,r=t.length,n,a="value"in as?as.value:as.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return pa=a.slice(e,1<n?1-n:void 0)}function fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function Sc(){return!1}function nt(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yn:Sc,this.isPropagationStopped=Sc,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=nt(Pr),En=fe({},Pr,{view:0,detail:0}),z0=nt(En),Mi,Ai,Rr,ei=fe({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(Mi=e.screenX-Rr.screenX,Ai=e.screenY-Rr.screenY):Ai=Mi=0,Rr=e),Mi)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),Cc=nt(ei),B0=fe({},ei,{dataTransfer:0}),q0=nt(B0),V0=fe({},En,{relatedTarget:0}),$i=nt(V0),H0=fe({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=nt(H0),J0=fe({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q0=nt(J0),Y0=fe({},Pr,{data:0}),_c=nt(Y0),G0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z0[e])?!!t[e]:!1}function So(){return X0}var ep=fe({},En,{key:function(e){if(e.key){var t=G0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tp=nt(ep),sp=fe({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=nt(sp),rp=fe({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),np=nt(rp),ap=fe({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ip=nt(ap),lp=fe({},ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),op=nt(lp),cp=[9,13,27,32],Co=Vt&&"CompositionEvent"in window,Kr=null;Vt&&"documentMode"in document&&(Kr=document.documentMode);var dp=Vt&&"TextEvent"in window&&!Kr,Du=Vt&&(!Co||Kr&&8<Kr&&11>=Kr),Ec=" ",Tc=!1;function Lu(e,t){switch(e){case"keyup":return cp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tr=!1;function up(e,t){switch(e){case"compositionend":return Iu(t);case"keypress":return t.which!==32?null:(Tc=!0,Ec);case"textInput":return e=t.data,e===Ec&&Tc?null:e;default:return null}}function hp(e,t){if(tr)return e==="compositionend"||!Co&&Lu(e,t)?(e=Tu(),pa=No=as=null,tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Du&&t.locale!=="ko"?null:t.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mp[e.type]:t==="textarea"}function Mu(e,t,r,n){uu(n),t=Da(t,"onChange"),0<t.length&&(r=new ko("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zr=null,fn=null;function pp(e){Hu(e,0)}function ti(e){var t=nr(e);if(nu(t))return e}function fp(e,t){if(e==="change")return t}var Au=!1;if(Vt){var Ui;if(Vt){var Oi="oninput"in document;if(!Oi){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Oi=typeof Lc.oninput=="function"}Ui=Oi}else Ui=!1;Au=Ui&&(!document.documentMode||9<document.documentMode)}function Ic(){Zr&&(Zr.detachEvent("onpropertychange",$u),fn=Zr=null)}function $u(e){if(e.propertyName==="value"&&ti(fn)){var t=[];Mu(t,fn,e,yo(e)),fu(pp,t)}}function xp(e,t,r){e==="focusin"?(Ic(),Zr=t,fn=r,Zr.attachEvent("onpropertychange",$u)):e==="focusout"&&Ic()}function gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ti(fn)}function yp(e,t){if(e==="click")return ti(t)}function vp(e,t){if(e==="input"||e==="change")return ti(t)}function bp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:bp;function xn(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!il.call(t,a)||!Nt(e[a],t[a]))return!1}return!0}function Mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,t){var r=Mc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mc(r)}}function Uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ou(){for(var e=window,t=ka();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ka(e.document)}return t}function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=Ou(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uu(r.ownerDocument.documentElement,r)){if(n!==null&&_o(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Ac(r,i);var l=Ac(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jp=Vt&&"documentMode"in document&&11>=document.documentMode,sr=null,Sl=null,Xr=null,Cl=!1;function $c(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cl||sr==null||sr!==ka(n)||(n=sr,"selectionStart"in n&&_o(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xr&&xn(Xr,n)||(Xr=n,n=Da(Sl,"onSelect"),0<n.length&&(t=new ko("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sr)))}function Gn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rr={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionend:Gn("Transition","TransitionEnd")},Ri={},Ru={};Vt&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function si(e){if(Ri[e])return Ri[e];if(!rr[e])return e;var t=rr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ru)return Ri[e]=t[r];return e}var Fu=si("animationend"),zu=si("animationiteration"),Bu=si("animationstart"),qu=si("transitionend"),Vu=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(e,t){Vu.set(e,t),qs(t,[e])}for(var Fi=0;Fi<Uc.length;Fi++){var zi=Uc[Fi],Np=zi.toLowerCase(),kp=zi[0].toUpperCase()+zi.slice(1);ws(Np,"on"+kp)}ws(Fu,"onAnimationEnd");ws(zu,"onAnimationIteration");ws(Bu,"onAnimationStart");ws("dblclick","onDoubleClick");ws("focusin","onFocus");ws("focusout","onBlur");ws(qu,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function Oc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,N0(n,t,void 0,e),e.currentTarget=null}function Hu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Oc(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Oc(a,o,d),i=c}}}if(Ca)throw e=wl,Ca=!1,wl=null,e}function ce(e,t){var r=t[Dl];r===void 0&&(r=t[Dl]=new Set);var n=e+"__bubble";r.has(n)||(Wu(t,e,2,!1),r.add(n))}function Bi(e,t,r){var n=0;t&&(n|=4),Wu(r,e,n,t)}var Kn="_reactListening"+Math.random().toString(36).slice(2);function gn(e){if(!e[Kn]){e[Kn]=!0,Xd.forEach(function(r){r!=="selectionchange"&&(Sp.has(r)||Bi(r,!1,e),Bi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kn]||(t[Kn]=!0,Bi("selectionchange",!1,t))}}function Wu(e,t,r,n){switch(Eu(t)){case 1:var a=R0;break;case 4:a=F0;break;default:a=jo}r=a.bind(null,t,r,e),a=void 0,!bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qi(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ds(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}fu(function(){var d=i,u=yo(r),p=[];e:{var m=Vu.get(e);if(m!==void 0){var y=ko,f=e;switch(e){case"keypress":if(fa(r)===0)break e;case"keydown":case"keyup":y=tp;break;case"focusin":f="focus",y=$i;break;case"focusout":f="blur",y=$i;break;case"beforeblur":case"afterblur":y=$i;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=np;break;case Fu:case zu:case Bu:y=W0;break;case qu:y=ip;break;case"scroll":y=z0;break;case"wheel":y=op;break;case"copy":case"cut":case"paste":y=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pc}var v=(t&4)!==0,k=!v&&e==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var h=d,x;h!==null;){x=h;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,g!==null&&(j=un(h,g),j!=null&&v.push(yn(h,j,x)))),k)break;h=h.return}0<v.length&&(m=new y(m,f,null,r,u),p.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==yl&&(f=r.relatedTarget||r.fromElement)&&(Ds(f)||f[Ht]))break e;if((y||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,y?(f=r.relatedTarget||r.toElement,y=d,f=f?Ds(f):null,f!==null&&(k=Vs(f),f!==k||f.tag!==5&&f.tag!==6)&&(f=null)):(y=null,f=d),y!==f)){if(v=Cc,j="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=Pc,j="onPointerLeave",g="onPointerEnter",h="pointer"),k=y==null?m:nr(y),x=f==null?m:nr(f),m=new v(j,h+"leave",y,r,u),m.target=k,m.relatedTarget=x,j=null,Ds(u)===d&&(v=new v(g,h+"enter",f,r,u),v.target=x,v.relatedTarget=k,j=v),k=j,y&&f)t:{for(v=y,g=f,h=0,x=v;x;x=Js(x))h++;for(x=0,j=g;j;j=Js(j))x++;for(;0<h-x;)v=Js(v),h--;for(;0<x-h;)g=Js(g),x--;for(;h--;){if(v===g||g!==null&&v===g.alternate)break t;v=Js(v),g=Js(g)}v=null}else v=null;y!==null&&Rc(p,m,y,v,!1),f!==null&&k!==null&&Rc(p,k,f,v,!0)}}e:{if(m=d?nr(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var N=fp;else if(Dc(m))if(Au)N=vp;else{N=gp;var b=xp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=yp);if(N&&(N=N(e,d))){Mu(p,N,r,u);break e}b&&b(e,m,d),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&ml(m,"number",m.value)}switch(b=d?nr(d):window,e){case"focusin":(Dc(b)||b.contentEditable==="true")&&(sr=b,Sl=d,Xr=null);break;case"focusout":Xr=Sl=sr=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,$c(p,r,u);break;case"selectionchange":if(jp)break;case"keydown":case"keyup":$c(p,r,u)}var S;if(Co)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else tr?Lu(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(Du&&r.locale!=="ko"&&(tr||w!=="onCompositionStart"?w==="onCompositionEnd"&&tr&&(S=Tu()):(as=u,No="value"in as?as.value:as.textContent,tr=!0)),b=Da(d,w),0<b.length&&(w=new _c(w,e,null,r,u),p.push({event:w,listeners:b}),S?w.data=S:(S=Iu(r),S!==null&&(w.data=S)))),(S=dp?up(e,r):hp(e,r))&&(d=Da(d,"onBeforeInput"),0<d.length&&(u=new _c("onBeforeInput","beforeinput",null,r,u),p.push({event:u,listeners:d}),u.data=S))}Hu(p,t)})}function yn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Da(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=un(e,r),i!=null&&n.unshift(yn(e,i,a)),i=un(e,t),i!=null&&n.push(yn(e,i,a))),e=e.return}return n}function Js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rc(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=un(r,i),c!=null&&l.unshift(yn(r,c,o))):a||(c=un(r,i),c!=null&&l.push(yn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Cp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(Cp,`
`).replace(_p,"")}function Zn(e,t,r){if(t=Fc(t),Fc(e)!==t&&r)throw Error(L(425))}function La(){}var _l=null,Pl=null;function El(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,Ep=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(Tp)}:Tl;function Tp(e){setTimeout(function(){throw e})}function Vi(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),pn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);pn(t)}function ds(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Er,vn="__reactProps$"+Er,Ht="__reactContainer$"+Er,Dl="__reactEvents$"+Er,Dp="__reactListeners$"+Er,Lp="__reactHandles$"+Er;function Ds(e){var t=e[Tt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ht]||r[Tt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bc(e);e!==null;){if(r=e[Tt])return r;e=Bc(e)}return t}e=r,r=e.parentNode}return null}function Tn(e){return e=e[Tt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ri(e){return e[vn]||null}var Ll=[],ar=-1;function js(e){return{current:e}}function ue(e){0>ar||(e.current=Ll[ar],Ll[ar]=null,ar--)}function le(e,t){ar++,Ll[ar]=e.current,e.current=t}var gs={},Oe=js(gs),Je=js(!1),$s=gs;function yr(e,t){var r=e.type.contextTypes;if(!r)return gs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qe(e){return e=e.childContextTypes,e!=null}function Ia(){ue(Je),ue(Oe)}function qc(e,t,r){if(Oe.current!==gs)throw Error(L(168));le(Oe,t),le(Je,r)}function Ju(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(L(108,x0(e)||"Unknown",a));return fe({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,$s=Oe.current,le(Oe,e),le(Je,Je.current),!0}function Vc(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Ju(e,t,$s),n.__reactInternalMemoizedMergedChildContext=e,ue(Je),ue(Oe),le(Oe,e)):ue(Je),le(Je,r)}var Ft=null,ni=!1,Hi=!1;function Qu(e){Ft===null?Ft=[e]:Ft.push(e)}function Ip(e){ni=!0,Qu(e)}function Ns(){if(!Hi&&Ft!==null){Hi=!0;var e=0,t=se;try{var r=Ft;for(se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ft=null,ni=!1}catch(a){throw Ft!==null&&(Ft=Ft.slice(e+1)),vu(vo,Ns),a}finally{se=t,Hi=!1}}return null}var ir=[],lr=0,Aa=null,$a=0,it=[],lt=0,Us=null,zt=1,Bt="";function _s(e,t){ir[lr++]=$a,ir[lr++]=Aa,Aa=e,$a=t}function Yu(e,t,r){it[lt++]=zt,it[lt++]=Bt,it[lt++]=Us,Us=e;var n=zt;e=Bt;var a=32-wt(n)-1;n&=~(1<<a),r+=1;var i=32-wt(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,zt=1<<32-wt(t)+a|r<<a|n,Bt=i+e}else zt=1<<i|r<<a|n,Bt=e}function Po(e){e.return!==null&&(_s(e,1),Yu(e,1,0))}function Eo(e){for(;e===Aa;)Aa=ir[--lr],ir[lr]=null,$a=ir[--lr],ir[lr]=null;for(;e===Us;)Us=it[--lt],it[lt]=null,Bt=it[--lt],it[lt]=null,zt=it[--lt],it[lt]=null}var et=null,Xe=null,he=!1,bt=null;function Gu(e,t){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Xe=ds(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Us!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,et=e,Xe=null,!0):!1;default:return!1}}function Il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ml(e){if(he){var t=Xe;if(t){var r=t;if(!Hc(e,t)){if(Il(e))throw Error(L(418));t=ds(r.nextSibling);var n=et;t&&Hc(e,t)?Gu(n,r):(e.flags=e.flags&-4097|2,he=!1,et=e)}}else{if(Il(e))throw Error(L(418));e.flags=e.flags&-4097|2,he=!1,et=e}}}function Wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Xn(e){if(e!==et)return!1;if(!he)return Wc(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!El(e.type,e.memoizedProps)),t&&(t=Xe)){if(Il(e))throw Ku(),Error(L(418));for(;t;)Gu(e,t),t=ds(t.nextSibling)}if(Wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xe=ds(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=et?ds(e.stateNode.nextSibling):null;return!0}function Ku(){for(var e=Xe;e;)e=ds(e.nextSibling)}function vr(){Xe=et=null,he=!1}function To(e){bt===null?bt=[e]:bt.push(e)}var Mp=Qt.ReactCurrentBatchConfig;function Fr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jc(e){var t=e._init;return t(e._payload)}function Zu(e){function t(g,h){if(e){var x=g.deletions;x===null?(g.deletions=[h],g.flags|=16):x.push(h)}}function r(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(g,h){return g=ps(g,h),g.index=0,g.sibling=null,g}function i(g,h,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<h?(g.flags|=2,h):x):(g.flags|=2,h)):(g.flags|=1048576,h)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,x,j){return h===null||h.tag!==6?(h=Zi(x,g.mode,j),h.return=g,h):(h=a(h,x),h.return=g,h)}function c(g,h,x,j){var N=x.type;return N===er?u(g,h,x.props.children,j,x.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&Jc(N)===h.type)?(j=a(h,x.props),j.ref=Fr(g,h,x),j.return=g,j):(j=ja(x.type,x.key,x.props,null,g.mode,j),j.ref=Fr(g,h,x),j.return=g,j)}function d(g,h,x,j){return h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation?(h=Xi(x,g.mode,j),h.return=g,h):(h=a(h,x.children||[]),h.return=g,h)}function u(g,h,x,j,N){return h===null||h.tag!==7?(h=As(x,g.mode,j,N),h.return=g,h):(h=a(h,x),h.return=g,h)}function p(g,h,x){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Zi(""+h,g.mode,x),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case qn:return x=ja(h.type,h.key,h.props,null,g.mode,x),x.ref=Fr(g,null,h),x.return=g,x;case Xs:return h=Xi(h,g.mode,x),h.return=g,h;case Xt:var j=h._init;return p(g,j(h._payload),x)}if(Hr(h)||Ar(h))return h=As(h,g.mode,x,null),h.return=g,h;ea(g,h)}return null}function m(g,h,x,j){var N=h!==null?h.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:o(g,h,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qn:return x.key===N?c(g,h,x,j):null;case Xs:return x.key===N?d(g,h,x,j):null;case Xt:return N=x._init,m(g,h,N(x._payload),j)}if(Hr(x)||Ar(x))return N!==null?null:u(g,h,x,j,null);ea(g,x)}return null}function y(g,h,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(x)||null,o(h,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qn:return g=g.get(j.key===null?x:j.key)||null,c(h,g,j,N);case Xs:return g=g.get(j.key===null?x:j.key)||null,d(h,g,j,N);case Xt:var b=j._init;return y(g,h,x,b(j._payload),N)}if(Hr(j)||Ar(j))return g=g.get(x)||null,u(h,g,j,N,null);ea(h,j)}return null}function f(g,h,x,j){for(var N=null,b=null,S=h,w=h=0,_=null;S!==null&&w<x.length;w++){S.index>w?(_=S,S=null):_=S.sibling;var D=m(g,S,x[w],j);if(D===null){S===null&&(S=_);break}e&&S&&D.alternate===null&&t(g,S),h=i(D,h,w),b===null?N=D:b.sibling=D,b=D,S=_}if(w===x.length)return r(g,S),he&&_s(g,w),N;if(S===null){for(;w<x.length;w++)S=p(g,x[w],j),S!==null&&(h=i(S,h,w),b===null?N=S:b.sibling=S,b=S);return he&&_s(g,w),N}for(S=n(g,S);w<x.length;w++)_=y(S,g,w,x[w],j),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?w:_.key),h=i(_,h,w),b===null?N=_:b.sibling=_,b=_);return e&&S.forEach(function(O){return t(g,O)}),he&&_s(g,w),N}function v(g,h,x,j){var N=Ar(x);if(typeof N!="function")throw Error(L(150));if(x=N.call(x),x==null)throw Error(L(151));for(var b=N=null,S=h,w=h=0,_=null,D=x.next();S!==null&&!D.done;w++,D=x.next()){S.index>w?(_=S,S=null):_=S.sibling;var O=m(g,S,D.value,j);if(O===null){S===null&&(S=_);break}e&&S&&O.alternate===null&&t(g,S),h=i(O,h,w),b===null?N=O:b.sibling=O,b=O,S=_}if(D.done)return r(g,S),he&&_s(g,w),N;if(S===null){for(;!D.done;w++,D=x.next())D=p(g,D.value,j),D!==null&&(h=i(D,h,w),b===null?N=D:b.sibling=D,b=D);return he&&_s(g,w),N}for(S=n(g,S);!D.done;w++,D=x.next())D=y(S,g,w,D.value,j),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?w:D.key),h=i(D,h,w),b===null?N=D:b.sibling=D,b=D);return e&&S.forEach(function(Q){return t(g,Q)}),he&&_s(g,w),N}function k(g,h,x,j){if(typeof x=="object"&&x!==null&&x.type===er&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case qn:e:{for(var N=x.key,b=h;b!==null;){if(b.key===N){if(N=x.type,N===er){if(b.tag===7){r(g,b.sibling),h=a(b,x.props.children),h.return=g,g=h;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&Jc(N)===b.type){r(g,b.sibling),h=a(b,x.props),h.ref=Fr(g,b,x),h.return=g,g=h;break e}r(g,b);break}else t(g,b);b=b.sibling}x.type===er?(h=As(x.props.children,g.mode,j,x.key),h.return=g,g=h):(j=ja(x.type,x.key,x.props,null,g.mode,j),j.ref=Fr(g,h,x),j.return=g,g=j)}return l(g);case Xs:e:{for(b=x.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){r(g,h.sibling),h=a(h,x.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else t(g,h);h=h.sibling}h=Xi(x,g.mode,j),h.return=g,g=h}return l(g);case Xt:return b=x._init,k(g,h,b(x._payload),j)}if(Hr(x))return f(g,h,x,j);if(Ar(x))return v(g,h,x,j);ea(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,h!==null&&h.tag===6?(r(g,h.sibling),h=a(h,x),h.return=g,g=h):(r(g,h),h=Zi(x,g.mode,j),h.return=g,g=h),l(g)):r(g,h)}return k}var br=Zu(!0),Xu=Zu(!1),Ua=js(null),Oa=null,or=null,Do=null;function Lo(){Do=or=Oa=null}function Io(e){var t=Ua.current;ue(Ua),e._currentValue=t}function Al(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fr(e,t){Oa=e,Do=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(Oa===null)throw Error(L(308));or=e,Oa.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var Ls=null;function Mo(e){Ls===null?Ls=[e]:Ls.push(e)}function eh(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Mo(t)):(r.next=a.next,a.next=r),t.interleaved=r,Wt(e,n)}function Wt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var es=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function th(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function us(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Wt(e,r)}return a=n.interleaved,a===null?(t.next=t,Mo(n)):(t.next=a.next,a.next=t),n.interleaved=t,Wt(e,r)}function xa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bo(e,r)}}function Qc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ra(e,t,r,n){var a=e.updateQueue;es=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var p=a.baseState;l=0,u=d=c=null,o=i;do{var m=o.lane,y=o.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,v=o;switch(m=t,y=r,v.tag){case 1:if(f=v.payload,typeof f=="function"){p=f.call(y,p,m);break e}p=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,m=typeof f=="function"?f.call(y,p,m):f,m==null)break e;p=fe({},p,m);break e;case 2:es=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[o]:m.push(o))}else y={eventTime:y,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=y,c=p):u=u.next=y,l|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=p),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Rs|=l,e.lanes=l,e.memoizedState=p}}function Yc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(L(191,a));a.call(n)}}}var Dn={},It=js(Dn),bn=js(Dn),wn=js(Dn);function Is(e){if(e===Dn)throw Error(L(174));return e}function $o(e,t){switch(le(wn,t),le(bn,e),le(It,Dn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fl(t,e)}ue(It),le(It,t)}function wr(){ue(It),ue(bn),ue(wn)}function sh(e){Is(wn.current);var t=Is(It.current),r=fl(t,e.type);t!==r&&(le(bn,e),le(It,r))}function Uo(e){bn.current===e&&(ue(It),ue(bn))}var me=js(0);function Fa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wi=[];function Oo(){for(var e=0;e<Wi.length;e++)Wi[e]._workInProgressVersionPrimary=null;Wi.length=0}var ga=Qt.ReactCurrentDispatcher,Ji=Qt.ReactCurrentBatchConfig,Os=0,pe=null,Ne=null,Pe=null,za=!1,en=!1,jn=0,Ap=0;function Me(){throw Error(L(321))}function Ro(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nt(e[r],t[r]))return!1;return!0}function Fo(e,t,r,n,a,i){if(Os=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ga.current=e===null||e.memoizedState===null?Rp:Fp,e=r(n,a),en){i=0;do{if(en=!1,jn=0,25<=i)throw Error(L(301));i+=1,Pe=Ne=null,t.updateQueue=null,ga.current=zp,e=r(n,a)}while(en)}if(ga.current=Ba,t=Ne!==null&&Ne.next!==null,Os=0,Pe=Ne=pe=null,za=!1,t)throw Error(L(300));return e}function zo(){var e=jn!==0;return jn=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function ht(){if(Ne===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Pe===null?pe.memoizedState:Pe.next;if(t!==null)Pe=t,Ne=e;else{if(e===null)throw Error(L(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Nn(e,t){return typeof t=="function"?t(e):t}function Qi(e){var t=ht(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ne,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Os&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=p,l=n):c=c.next=p,pe.lanes|=u,Rs|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Nt(n,t.memoizedState)||(We=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,pe.lanes|=i,Rs|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yi(e){var t=ht(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Nt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rh(){}function nh(e,t){var r=pe,n=ht(),a=t(),i=!Nt(n.memoizedState,a);if(i&&(n.memoizedState=a,We=!0),n=n.queue,Bo(lh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,kn(9,ih.bind(null,r,n,a,t),void 0,null),Ee===null)throw Error(L(349));Os&30||ah(r,t,a)}return a}function ah(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ih(e,t,r,n){t.value=r,t.getSnapshot=n,oh(t)&&ch(e)}function lh(e,t,r){return r(function(){oh(t)&&ch(e)})}function oh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nt(e,r)}catch{return!0}}function ch(e){var t=Wt(e,1);t!==null&&jt(t,e,1,-1)}function Gc(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t.queue=e,e=e.dispatch=Op.bind(null,pe,e),[t.memoizedState,e]}function kn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dh(){return ht().memoizedState}function ya(e,t,r,n){var a=_t();pe.flags|=e,a.memoizedState=kn(1|t,r,void 0,n===void 0?null:n)}function ai(e,t,r,n){var a=ht();n=n===void 0?null:n;var i=void 0;if(Ne!==null){var l=Ne.memoizedState;if(i=l.destroy,n!==null&&Ro(n,l.deps)){a.memoizedState=kn(t,r,i,n);return}}pe.flags|=e,a.memoizedState=kn(1|t,r,i,n)}function Kc(e,t){return ya(8390656,8,e,t)}function Bo(e,t){return ai(2048,8,e,t)}function uh(e,t){return ai(4,2,e,t)}function hh(e,t){return ai(4,4,e,t)}function mh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ph(e,t,r){return r=r!=null?r.concat([e]):null,ai(4,4,mh.bind(null,t,e),r)}function qo(){}function fh(e,t){var r=ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ro(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xh(e,t){var r=ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ro(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gh(e,t,r){return Os&21?(Nt(r,t)||(r=ju(),pe.lanes|=r,Rs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function $p(e,t){var r=se;se=r!==0&&4>r?r:4,e(!0);var n=Ji.transition;Ji.transition={};try{e(!1),t()}finally{se=r,Ji.transition=n}}function yh(){return ht().memoizedState}function Up(e,t,r){var n=ms(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vh(e))bh(t,r);else if(r=eh(e,t,r,n),r!==null){var a=Fe();jt(r,e,n,a),wh(r,t,n)}}function Op(e,t,r){var n=ms(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vh(e))bh(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Nt(o,l)){var c=t.interleaved;c===null?(a.next=a,Mo(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=eh(e,t,a,n),r!==null&&(a=Fe(),jt(r,e,n,a),wh(r,t,n))}}function vh(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function bh(e,t){en=za=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bo(e,r)}}var Ba={readContext:ut,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Rp={readContext:ut,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Kc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ya(4194308,4,mh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var r=_t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Up.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:Gc,useDebugValue:qo,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=Gc(!1),t=e[0];return e=$p.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pe,a=_t();if(he){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ee===null)throw Error(L(349));Os&30||ah(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Kc(lh.bind(null,n,i,e),[e]),n.flags|=2048,kn(9,ih.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=_t(),t=Ee.identifierPrefix;if(he){var r=Bt,n=zt;r=(n&~(1<<32-wt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ap++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fp={readContext:ut,useCallback:fh,useContext:ut,useEffect:Bo,useImperativeHandle:ph,useInsertionEffect:uh,useLayoutEffect:hh,useMemo:xh,useReducer:Qi,useRef:dh,useState:function(){return Qi(Nn)},useDebugValue:qo,useDeferredValue:function(e){var t=ht();return gh(t,Ne.memoizedState,e)},useTransition:function(){var e=Qi(Nn)[0],t=ht().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:yh,unstable_isNewReconciler:!1},zp={readContext:ut,useCallback:fh,useContext:ut,useEffect:Bo,useImperativeHandle:ph,useInsertionEffect:uh,useLayoutEffect:hh,useMemo:xh,useReducer:Yi,useRef:dh,useState:function(){return Yi(Nn)},useDebugValue:qo,useDeferredValue:function(e){var t=ht();return Ne===null?t.memoizedState=e:gh(t,Ne.memoizedState,e)},useTransition:function(){var e=Yi(Nn)[0],t=ht().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:yh,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $l(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ii={isMounted:function(e){return(e=e._reactInternals)?Vs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fe(),a=ms(e),i=qt(n,a);i.payload=t,r!=null&&(i.callback=r),t=us(e,i,a),t!==null&&(jt(t,e,a,n),xa(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fe(),a=ms(e),i=qt(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=us(e,i,a),t!==null&&(jt(t,e,a,n),xa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fe(),n=ms(e),a=qt(r,n);a.tag=2,t!=null&&(a.callback=t),t=us(e,a,n),t!==null&&(jt(t,e,n,r),xa(t,e,n))}};function Zc(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!xn(r,n)||!xn(a,i):!0}function jh(e,t,r){var n=!1,a=gs,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(a=Qe(t)?$s:Oe.current,n=t.contextTypes,i=(n=n!=null)?yr(e,a):gs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ii,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Xc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ii.enqueueReplaceState(t,t.state,null)}function Ul(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ao(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ut(i):(i=Qe(t)?$s:Oe.current,a.context=yr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($l(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ii.enqueueReplaceState(a,a.state,null),Ra(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var r="",n=t;do r+=f0(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Gi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ol(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Nh(e,t,r){r=qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Va||(Va=!0,Ql=n),Ol(e,t)},r}function kh(e,t,r){r=qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ol(e,t),typeof n!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function ed(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Bp;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=sf.bind(null,e,t,r),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sd(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qt(-1,1),t.tag=2,us(r,t,1))),r.lanes|=1),e)}var qp=Qt.ReactCurrentOwner,We=!1;function Re(e,t,r,n){t.child=e===null?Xu(t,null,r,n):br(t,e.child,r,n)}function rd(e,t,r,n,a){r=r.render;var i=t.ref;return fr(t,a),n=Fo(e,t,r,n,i,a),r=zo(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jt(e,t,a)):(he&&r&&Po(t),t.flags|=1,Re(e,t,n,a),t.child)}function nd(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Ko(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Sh(e,t,i,n,a)):(e=ja(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:xn,r(l,n)&&e.ref===t.ref)return Jt(e,t,a)}return t.flags|=1,e=ps(i,n),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(xn(i,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Jt(e,t,a)}return Rl(e,t,r,n,a)}function Ch(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(dr,Ze),Ze|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(dr,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,le(dr,Ze),Ze|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,le(dr,Ze),Ze|=n;return Re(e,t,a,r),t.child}function _h(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rl(e,t,r,n,a){var i=Qe(r)?$s:Oe.current;return i=yr(t,i),fr(t,a),r=Fo(e,t,r,n,i,a),n=zo(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jt(e,t,a)):(he&&n&&Po(t),t.flags|=1,Re(e,t,r,a),t.child)}function ad(e,t,r,n,a){if(Qe(r)){var i=!0;Ma(t)}else i=!1;if(fr(t,a),t.stateNode===null)va(e,t),jh(t,r,n),Ul(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=ut(d):(d=Qe(r)?$s:Oe.current,d=yr(t,d));var u=r.getDerivedStateFromProps,p=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Xc(t,l,n,d),es=!1;var m=t.memoizedState;l.state=m,Ra(t,n,l,a),c=t.memoizedState,o!==n||m!==c||Je.current||es?(typeof u=="function"&&($l(t,r,u,n),c=t.memoizedState),(o=es||Zc(t,r,o,n,m,c,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,th(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:gt(t.type,o),l.props=d,p=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Qe(r)?$s:Oe.current,c=yr(t,c));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||m!==c)&&Xc(t,l,n,c),es=!1,m=t.memoizedState,l.state=m,Ra(t,n,l,a);var f=t.memoizedState;o!==p||m!==f||Je.current||es?(typeof y=="function"&&($l(t,r,y,n),f=t.memoizedState),(d=es||Zc(t,r,d,n,m,f,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,f,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,f,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),l.props=n,l.state=f,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Fl(e,t,r,n,i,a)}function Fl(e,t,r,n,a,i){_h(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Vc(t,r,!1),Jt(e,t,i);n=t.stateNode,qp.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=br(t,e.child,null,i),t.child=br(t,null,o,i)):Re(e,t,o,i),t.memoizedState=n.state,a&&Vc(t,r,!0),t.child}function Ph(e){var t=e.stateNode;t.pendingContext?qc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qc(e,t.context,!1),$o(e,t.containerInfo)}function id(e,t,r,n,a){return vr(),To(a),t.flags|=256,Re(e,t,r,n),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eh(e,t,r){var n=t.pendingProps,a=me.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),le(me,a&1),e===null)return Ml(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ci(l,n,0,null),e=As(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bl(r),t.memoizedState=zl,e):Vo(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Vp(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ps(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ps(o,i):(i=As(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Bl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=zl,n}return i=e.child,e=i.sibling,n=ps(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vo(e,t){return t=ci({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ta(e,t,r,n){return n!==null&&To(n),br(t,e.child,null,r),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vp(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Gi(Error(L(422))),ta(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=ci({mode:"visible",children:n.children},a,0,null),i=As(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&br(t,e.child,null,l),t.child.memoizedState=Bl(l),t.memoizedState=zl,i);if(!(t.mode&1))return ta(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(L(419)),n=Gi(i,n,void 0),ta(e,t,l,n)}if(o=(l&e.childLanes)!==0,We||o){if(n=Ee,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Wt(e,a),jt(n,e,a,-1))}return Go(),n=Gi(Error(L(421))),ta(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=rf.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Xe=ds(a.nextSibling),et=t,he=!0,bt=null,e!==null&&(it[lt++]=zt,it[lt++]=Bt,it[lt++]=Us,zt=e.id,Bt=e.overflow,Us=t),t=Vo(t,n.children),t.flags|=4096,t)}function ld(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Al(e.return,t,r)}function Ki(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Th(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Re(e,t,n.children,r),n=me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,r,t);else if(e.tag===19)ld(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(le(me,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Fa(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ki(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Fa(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ki(t,!0,r,null,i);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=ps(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ps(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Hp(e,t,r){switch(t.tag){case 3:Ph(t),vr();break;case 5:sh(t);break;case 1:Qe(t.type)&&Ma(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;le(Ua,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(le(me,me.current&1),t.flags|=128,null):r&t.child.childLanes?Eh(e,t,r):(le(me,me.current&1),e=Jt(e,t,r),e!==null?e.sibling:null);le(me,me.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Th(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),le(me,me.current),n)break;return null;case 22:case 23:return t.lanes=0,Ch(e,t,r)}return Jt(e,t,r)}var Dh,ql,Lh,Ih;Dh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ql=function(){};Lh=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Is(It.current);var i=null;switch(r){case"input":a=ul(e,a),n=ul(e,n),i=[];break;case"select":a=fe({},a,{value:void 0}),n=fe({},n,{value:void 0}),i=[];break;case"textarea":a=pl(e,a),n=pl(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=La)}xl(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(cn.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(cn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ih=function(e,t,r,n){r!==n&&(t.flags|=4)};function zr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Wp(e,t,r){var n=t.pendingProps;switch(Eo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Qe(t.type)&&Ia(),Ae(t),null;case 3:return n=t.stateNode,wr(),ue(Je),ue(Oe),Oo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(Kl(bt),bt=null))),ql(e,t),Ae(t),null;case 5:Uo(t);var a=Is(wn.current);if(r=t.type,e!==null&&t.stateNode!=null)Lh(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Ae(t),null}if(e=Is(It.current),Xn(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Tt]=t,n[vn]=i,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(a=0;a<Jr.length;a++)ce(Jr[a],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":xc(n,i),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ce("invalid",n);break;case"textarea":yc(n,i),ce("invalid",n)}xl(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zn(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zn(n.textContent,o,e),a=["children",""+o]):cn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ce("scroll",n)}switch(r){case"input":Vn(n),gc(n,i,!0);break;case"textarea":Vn(n),vc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=La)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Tt]=t,e[vn]=n,Dh(e,t,!1,!1),t.stateNode=e;e:{switch(l=gl(r,n),r){case"dialog":ce("cancel",e),ce("close",e),a=n;break;case"iframe":case"object":case"embed":ce("load",e),a=n;break;case"video":case"audio":for(a=0;a<Jr.length;a++)ce(Jr[a],e);a=n;break;case"source":ce("error",e),a=n;break;case"img":case"image":case"link":ce("error",e),ce("load",e),a=n;break;case"details":ce("toggle",e),a=n;break;case"input":xc(e,n),a=ul(e,n),ce("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=fe({},n,{value:void 0}),ce("invalid",e);break;case"textarea":yc(e,n),a=pl(e,n),ce("invalid",e);break;default:a=n}xl(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?du(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ou(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dn(e,c):typeof c=="number"&&dn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&po(e,i,c,l))}switch(r){case"input":Vn(e),gc(e,n,!1);break;case"textarea":Vn(e),vc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ur(e,!!n.multiple,i,!1):n.defaultValue!=null&&ur(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=La)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Ih(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Is(wn.current),Is(It.current),Xn(t)){if(n=t.stateNode,r=t.memoizedProps,n[Tt]=t,(i=n.nodeValue!==r)&&(e=et,e!==null))switch(e.tag){case 3:Zn(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zn(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tt]=t,t.stateNode=n}return Ae(t),null;case 13:if(ue(me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&Xe!==null&&t.mode&1&&!(t.flags&128))Ku(),vr(),t.flags|=98560,i=!1;else if(i=Xn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Tt]=t}else vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else bt!==null&&(Kl(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Se===0&&(Se=3):Go())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return wr(),ql(e,t),e===null&&gn(t.stateNode.containerInfo),Ae(t),null;case 10:return Io(t.type._context),Ae(t),null;case 17:return Qe(t.type)&&Ia(),Ae(t),null;case 19:if(ue(me),i=t.memoizedState,i===null)return Ae(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)zr(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Fa(e),l!==null){for(t.flags|=128,zr(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&ge()>Nr&&(t.flags|=128,n=!0,zr(i,!1),t.lanes=4194304)}else{if(!n)if(e=Fa(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!he)return Ae(t),null}else 2*ge()-i.renderingStartTime>Nr&&r!==1073741824&&(t.flags|=128,n=!0,zr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ge(),t.sibling=null,r=me.current,le(me,n?r&1|2:r&1),t):(Ae(t),null);case 22:case 23:return Yo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ze&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Jp(e,t){switch(Eo(t),t.tag){case 1:return Qe(t.type)&&Ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(),ue(Je),ue(Oe),Oo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uo(t),null;case 13:if(ue(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(me),null;case 4:return wr(),null;case 10:return Io(t.type._context),null;case 22:case 23:return Yo(),null;case 24:return null;default:return null}}var sa=!1,Ue=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,R=null;function cr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(e,t,n)}else r.current=null}function Vl(e,t,r){try{r()}catch(n){xe(e,t,n)}}var od=!1;function Yp(e,t){if(_l=Ea,e=Ou(),_o(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var y;p!==r||a!==0&&p.nodeType!==3||(o=l+a),p!==i||n!==0&&p.nodeType!==3||(c=l+n),p.nodeType===3&&(l+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===e)break t;if(m===r&&++d===a&&(o=l),m===i&&++u===n&&(c=l),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pl={focusedElem:e,selectionRange:r},Ea=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,k=f.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:gt(t.type,v),k);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){xe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return f=od,od=!1,f}function tn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Vl(t,r,i)}a=a.next}while(a!==n)}}function li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mh(e){var t=e.alternate;t!==null&&(e.alternate=null,Mh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[vn],delete t[Dl],delete t[Dp],delete t[Lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ah(e){return e.tag===5||e.tag===3||e.tag===4}function cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=La));else if(n!==4&&(e=e.child,e!==null))for(Wl(e,t,r),e=e.sibling;e!==null;)Wl(e,t,r),e=e.sibling}function Jl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jl(e,t,r),e=e.sibling;e!==null;)Jl(e,t,r),e=e.sibling}var De=null,yt=!1;function Kt(e,t,r){for(r=r.child;r!==null;)$h(e,t,r),r=r.sibling}function $h(e,t,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Xa,r)}catch{}switch(r.tag){case 5:Ue||cr(r,t);case 6:var n=De,a=yt;De=null,Kt(e,t,r),De=n,yt=a,De!==null&&(yt?(e=De,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):De.removeChild(r.stateNode));break;case 18:De!==null&&(yt?(e=De,r=r.stateNode,e.nodeType===8?Vi(e.parentNode,r):e.nodeType===1&&Vi(e,r),pn(e)):Vi(De,r.stateNode));break;case 4:n=De,a=yt,De=r.stateNode.containerInfo,yt=!0,Kt(e,t,r),De=n,yt=a;break;case 0:case 11:case 14:case 15:if(!Ue&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Vl(r,t,l),a=a.next}while(a!==n)}Kt(e,t,r);break;case 1:if(!Ue&&(cr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xe(r,t,o)}Kt(e,t,r);break;case 21:Kt(e,t,r);break;case 22:r.mode&1?(Ue=(n=Ue)||r.memoizedState!==null,Kt(e,t,r),Ue=n):Kt(e,t,r);break;default:Kt(e,t,r)}}function dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Qp),t.forEach(function(n){var a=nf.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:De=o.stateNode,yt=!1;break e;case 3:De=o.stateNode.containerInfo,yt=!0;break e;case 4:De=o.stateNode.containerInfo,yt=!0;break e}o=o.return}if(De===null)throw Error(L(160));$h(i,l,a),De=null,yt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){xe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uh(t,e),t=t.sibling}function Uh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),Ct(e),n&4){try{tn(3,e,e.return),li(3,e)}catch(v){xe(e,e.return,v)}try{tn(5,e,e.return)}catch(v){xe(e,e.return,v)}}break;case 1:ft(t,e),Ct(e),n&512&&r!==null&&cr(r,r.return);break;case 5:if(ft(t,e),Ct(e),n&512&&r!==null&&cr(r,r.return),e.flags&32){var a=e.stateNode;try{dn(a,"")}catch(v){xe(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&au(a,i),gl(o,l);var d=gl(o,i);for(l=0;l<c.length;l+=2){var u=c[l],p=c[l+1];u==="style"?du(a,p):u==="dangerouslySetInnerHTML"?ou(a,p):u==="children"?dn(a,p):po(a,u,p,d)}switch(o){case"input":hl(a,i);break;case"textarea":iu(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ur(a,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?ur(a,!!i.multiple,i.defaultValue,!0):ur(a,!!i.multiple,i.multiple?[]:"",!1))}a[vn]=i}catch(v){xe(e,e.return,v)}}break;case 6:if(ft(t,e),Ct(e),n&4){if(e.stateNode===null)throw Error(L(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){xe(e,e.return,v)}}break;case 3:if(ft(t,e),Ct(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pn(t.containerInfo)}catch(v){xe(e,e.return,v)}break;case 4:ft(t,e),Ct(e);break;case 13:ft(t,e),Ct(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Jo=ge())),n&4&&dd(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ue=(d=Ue)||u,ft(t,e),Ue=d):ft(t,e),Ct(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(R=e,u=e.child;u!==null;){for(p=R=u;R!==null;){switch(m=R,y=m.child,m.tag){case 0:case 11:case 14:case 15:tn(4,m,m.return);break;case 1:cr(m,m.return);var f=m.stateNode;if(typeof f.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){xe(n,r,v)}}break;case 5:cr(m,m.return);break;case 22:if(m.memoizedState!==null){hd(p);continue}}y!==null?(y.return=m,R=y):hd(p)}u=u.sibling}e:for(u=null,p=e;;){if(p.tag===5){if(u===null){u=p;try{a=p.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=cu("display",l))}catch(v){xe(e,e.return,v)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){xe(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ft(t,e),Ct(e),n&4&&dd(e);break;case 21:break;default:ft(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ah(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(dn(a,""),n.flags&=-33);var i=cd(e);Jl(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=cd(e);Wl(e,o,l);break;default:throw Error(L(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gp(e,t,r){R=e,Oh(e)}function Oh(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var a=R,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||sa;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ue;o=sa;var d=Ue;if(sa=l,(Ue=c)&&!d)for(R=a;R!==null;)l=R,c=l.child,l.tag===22&&l.memoizedState!==null?md(a):c!==null?(c.return=l,R=c):md(a);for(;i!==null;)R=i,Oh(i),i=i.sibling;R=a,sa=o,Ue=d}ud(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,R=i):ud(e)}}function ud(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||li(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ue)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:gt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Yc(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yc(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&pn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ue||t.flags&512&&Hl(t)}catch(m){xe(t,t.return,m)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function hd(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function md(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{li(4,t)}catch(c){xe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){xe(t,a,c)}}var i=t.return;try{Hl(t)}catch(c){xe(t,i,c)}break;case 5:var l=t.return;try{Hl(t)}catch(c){xe(t,l,c)}}}catch(c){xe(t,t.return,c)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var Kp=Math.ceil,qa=Qt.ReactCurrentDispatcher,Ho=Qt.ReactCurrentOwner,ct=Qt.ReactCurrentBatchConfig,ee=0,Ee=null,we=null,Le=0,Ze=0,dr=js(0),Se=0,Sn=null,Rs=0,oi=0,Wo=0,sn=null,Ve=null,Jo=0,Nr=1/0,Ot=null,Va=!1,Ql=null,hs=null,ra=!1,is=null,Ha=0,rn=0,Yl=null,ba=-1,wa=0;function Fe(){return ee&6?ge():ba!==-1?ba:ba=ge()}function ms(e){return e.mode&1?ee&2&&Le!==0?Le&-Le:Mp.transition!==null?(wa===0&&(wa=ju()),wa):(e=se,e!==0||(e=window.event,e=e===void 0?16:Eu(e.type)),e):1}function jt(e,t,r,n){if(50<rn)throw rn=0,Yl=null,Error(L(185));Pn(e,r,n),(!(ee&2)||e!==Ee)&&(e===Ee&&(!(ee&2)&&(oi|=r),Se===4&&rs(e,Le)),Ye(e,n),r===1&&ee===0&&!(t.mode&1)&&(Nr=ge()+500,ni&&Ns()))}function Ye(e,t){var r=e.callbackNode;M0(e,t);var n=Pa(e,e===Ee?Le:0);if(n===0)r!==null&&jc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jc(r),t===1)e.tag===0?Ip(pd.bind(null,e)):Qu(pd.bind(null,e)),Ep(function(){!(ee&6)&&Ns()}),r=null;else{switch(Nu(n)){case 1:r=vo;break;case 4:r=bu;break;case 16:r=_a;break;case 536870912:r=wu;break;default:r=_a}r=Wh(r,Rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rh(e,t){if(ba=-1,wa=0,ee&6)throw Error(L(327));var r=e.callbackNode;if(xr()&&e.callbackNode!==r)return null;var n=Pa(e,e===Ee?Le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wa(e,n);else{t=n;var a=ee;ee|=2;var i=zh();(Ee!==e||Le!==t)&&(Ot=null,Nr=ge()+500,Ms(e,t));do try{ef();break}catch(o){Fh(e,o)}while(!0);Lo(),qa.current=i,ee=a,we!==null?t=0:(Ee=null,Le=0,t=Se)}if(t!==0){if(t===2&&(a=jl(e),a!==0&&(n=a,t=Gl(e,a))),t===1)throw r=Sn,Ms(e,0),rs(e,n),Ye(e,ge()),r;if(t===6)rs(e,n);else{if(a=e.current.alternate,!(n&30)&&!Zp(a)&&(t=Wa(e,n),t===2&&(i=jl(e),i!==0&&(n=i,t=Gl(e,i))),t===1))throw r=Sn,Ms(e,0),rs(e,n),Ye(e,ge()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Ps(e,Ve,Ot);break;case 3:if(rs(e,n),(n&130023424)===n&&(t=Jo+500-ge(),10<t)){if(Pa(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Fe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Tl(Ps.bind(null,e,Ve,Ot),t);break}Ps(e,Ve,Ot);break;case 4:if(rs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-wt(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kp(n/1960))-n,10<n){e.timeoutHandle=Tl(Ps.bind(null,e,Ve,Ot),n);break}Ps(e,Ve,Ot);break;case 5:Ps(e,Ve,Ot);break;default:throw Error(L(329))}}}return Ye(e,ge()),e.callbackNode===r?Rh.bind(null,e):null}function Gl(e,t){var r=sn;return e.current.memoizedState.isDehydrated&&(Ms(e,t).flags|=256),e=Wa(e,t),e!==2&&(t=Ve,Ve=r,t!==null&&Kl(t)),e}function Kl(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Zp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Nt(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rs(e,t){for(t&=~Wo,t&=~oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),n=1<<r;e[r]=-1,t&=~n}}function pd(e){if(ee&6)throw Error(L(327));xr();var t=Pa(e,0);if(!(t&1))return Ye(e,ge()),null;var r=Wa(e,t);if(e.tag!==0&&r===2){var n=jl(e);n!==0&&(t=n,r=Gl(e,n))}if(r===1)throw r=Sn,Ms(e,0),rs(e,t),Ye(e,ge()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e,Ve,Ot),Ye(e,ge()),null}function Qo(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(Nr=ge()+500,ni&&Ns())}}function Fs(e){is!==null&&is.tag===0&&!(ee&6)&&xr();var t=ee;ee|=1;var r=ct.transition,n=se;try{if(ct.transition=null,se=1,e)return e()}finally{se=n,ct.transition=r,ee=t,!(ee&6)&&Ns()}}function Yo(){Ze=dr.current,ue(dr)}function Ms(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pp(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(Eo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ia();break;case 3:wr(),ue(Je),ue(Oe),Oo();break;case 5:Uo(n);break;case 4:wr();break;case 13:ue(me);break;case 19:ue(me);break;case 10:Io(n.type._context);break;case 22:case 23:Yo()}r=r.return}if(Ee=e,we=e=ps(e.current,null),Le=Ze=t,Se=0,Sn=null,Wo=oi=Rs=0,Ve=sn=null,Ls!==null){for(t=0;t<Ls.length;t++)if(r=Ls[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Ls=null}return e}function Fh(e,t){do{var r=we;try{if(Lo(),ga.current=Ba,za){for(var n=pe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}za=!1}if(Os=0,Pe=Ne=pe=null,en=!1,jn=0,Ho.current=null,r===null||r.return===null){Se=1,Sn=t,we=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Le,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=td(l);if(y!==null){y.flags&=-257,sd(y,l,o,i,t),y.mode&1&&ed(i,d,t),t=y,c=d;var f=t.updateQueue;if(f===null){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}else{if(!(t&1)){ed(i,d,t),Go();break e}c=Error(L(426))}}else if(he&&o.mode&1){var k=td(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),sd(k,l,o,i,t),To(jr(c,o));break e}}i=c=jr(c,o),Se!==4&&(Se=2),sn===null?sn=[i]:sn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Nh(i,c,t);Qc(i,g);break e;case 1:o=c;var h=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hs===null||!hs.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=kh(i,o,t);Qc(i,j);break e}}i=i.return}while(i!==null)}qh(r)}catch(N){t=N,we===r&&r!==null&&(we=r=r.return);continue}break}while(!0)}function zh(){var e=qa.current;return qa.current=Ba,e===null?Ba:e}function Go(){(Se===0||Se===3||Se===2)&&(Se=4),Ee===null||!(Rs&268435455)&&!(oi&268435455)||rs(Ee,Le)}function Wa(e,t){var r=ee;ee|=2;var n=zh();(Ee!==e||Le!==t)&&(Ot=null,Ms(e,t));do try{Xp();break}catch(a){Fh(e,a)}while(!0);if(Lo(),ee=r,qa.current=n,we!==null)throw Error(L(261));return Ee=null,Le=0,Se}function Xp(){for(;we!==null;)Bh(we)}function ef(){for(;we!==null&&!S0();)Bh(we)}function Bh(e){var t=Hh(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?qh(e):we=t,Ho.current=null}function qh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jp(r,t),r!==null){r.flags&=32767,we=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,we=null;return}}else if(r=Wp(r,t,Ze),r!==null){we=r;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Se===0&&(Se=5)}function Ps(e,t,r){var n=se,a=ct.transition;try{ct.transition=null,se=1,tf(e,t,r,n)}finally{ct.transition=a,se=n}return null}function tf(e,t,r,n){do xr();while(is!==null);if(ee&6)throw Error(L(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(A0(e,i),e===Ee&&(we=Ee=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ra||(ra=!0,Wh(_a,function(){return xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ct.transition,ct.transition=null;var l=se;se=1;var o=ee;ee|=4,Ho.current=null,Yp(e,r),Uh(r,e),wp(Pl),Ea=!!_l,Pl=_l=null,e.current=r,Gp(r),C0(),ee=o,se=l,ct.transition=i}else e.current=r;if(ra&&(ra=!1,is=e,Ha=a),i=e.pendingLanes,i===0&&(hs=null),E0(r.stateNode),Ye(e,ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Va)throw Va=!1,e=Ql,Ql=null,e;return Ha&1&&e.tag!==0&&xr(),i=e.pendingLanes,i&1?e===Yl?rn++:(rn=0,Yl=e):rn=0,Ns(),null}function xr(){if(is!==null){var e=Nu(Ha),t=ct.transition,r=se;try{if(ct.transition=null,se=16>e?16:e,is===null)var n=!1;else{if(e=is,is=null,Ha=0,ee&6)throw Error(L(331));var a=ee;for(ee|=4,R=e.current;R!==null;){var i=R,l=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(R=d;R!==null;){var u=R;switch(u.tag){case 0:case 11:case 15:tn(8,u,i)}var p=u.child;if(p!==null)p.return=u,R=p;else for(;R!==null;){u=R;var m=u.sibling,y=u.return;if(Mh(u),u===d){R=null;break}if(m!==null){m.return=y,R=m;break}R=y}}}var f=i.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}R=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,R=l;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var h=e.current;for(R=h;R!==null;){l=R;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,R=x;else e:for(l=h;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:li(9,o)}}catch(N){xe(o,o.return,N)}if(o===l){R=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,R=j;break e}R=o.return}}if(ee=a,Ns(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Xa,e)}catch{}n=!0}return n}finally{se=r,ct.transition=t}}return!1}function fd(e,t,r){t=jr(r,t),t=Nh(e,t,1),e=us(e,t,1),t=Fe(),e!==null&&(Pn(e,1,t),Ye(e,t))}function xe(e,t,r){if(e.tag===3)fd(e,e,r);else for(;t!==null;){if(t.tag===3){fd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hs===null||!hs.has(n))){e=jr(r,e),e=kh(t,e,1),t=us(t,e,1),e=Fe(),t!==null&&(Pn(t,1,e),Ye(t,e));break}}t=t.return}}function sf(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(Le&r)===r&&(Se===4||Se===3&&(Le&130023424)===Le&&500>ge()-Jo?Ms(e,0):Wo|=r),Ye(e,t)}function Vh(e,t){t===0&&(e.mode&1?(t=Jn,Jn<<=1,!(Jn&130023424)&&(Jn=4194304)):t=1);var r=Fe();e=Wt(e,t),e!==null&&(Pn(e,t,r),Ye(e,r))}function rf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vh(e,r)}function nf(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Vh(e,r)}var Hh;Hh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,Hp(e,t,r);We=!!(e.flags&131072)}else We=!1,he&&t.flags&1048576&&Yu(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;va(e,t),e=t.pendingProps;var a=yr(t,Oe.current);fr(t,r),a=Fo(null,t,n,e,a,r);var i=zo();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(n)?(i=!0,Ma(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ao(t),a.updater=ii,t.stateNode=a,a._reactInternals=t,Ul(t,n,e,r),t=Fl(null,t,n,!0,i,r)):(t.tag=0,he&&i&&Po(t),Re(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(va(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=lf(n),e=gt(n,e),a){case 0:t=Rl(null,t,n,e,r);break e;case 1:t=ad(null,t,n,e,r);break e;case 11:t=rd(null,t,n,e,r);break e;case 14:t=nd(null,t,n,gt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:gt(n,a),Rl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:gt(n,a),ad(e,t,n,a,r);case 3:e:{if(Ph(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,a=i.element,th(e,t),Ra(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=jr(Error(L(423)),t),t=id(e,t,n,r,a);break e}else if(n!==a){a=jr(Error(L(424)),t),t=id(e,t,n,r,a);break e}else for(Xe=ds(t.stateNode.containerInfo.firstChild),et=t,he=!0,bt=null,r=Xu(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vr(),n===a){t=Jt(e,t,r);break e}Re(e,t,n,r)}t=t.child}return t;case 5:return sh(t),e===null&&Ml(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,El(n,a)?l=null:i!==null&&El(n,i)&&(t.flags|=32),_h(e,t),Re(e,t,l,r),t.child;case 6:return e===null&&Ml(t),null;case 13:return Eh(e,t,r);case 4:return $o(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=br(t,null,n,r):Re(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:gt(n,a),rd(e,t,n,a,r);case 7:return Re(e,t,t.pendingProps,r),t.child;case 8:return Re(e,t,t.pendingProps.children,r),t.child;case 12:return Re(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,le(Ua,n._currentValue),n._currentValue=l,i!==null)if(Nt(i.value,l)){if(i.children===a.children&&!Je.current){t=Jt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=qt(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Al(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(L(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Al(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Re(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,fr(t,r),a=ut(a),n=n(a),t.flags|=1,Re(e,t,n,r),t.child;case 14:return n=t.type,a=gt(n,t.pendingProps),a=gt(n.type,a),nd(e,t,n,a,r);case 15:return Sh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:gt(n,a),va(e,t),t.tag=1,Qe(n)?(e=!0,Ma(t)):e=!1,fr(t,r),jh(t,n,a),Ul(t,n,a,r),Fl(null,t,n,!0,e,r);case 19:return Th(e,t,r);case 22:return Ch(e,t,r)}throw Error(L(156,t.tag))};function Wh(e,t){return vu(e,t)}function af(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,r,n){return new af(e,t,r,n)}function Ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lf(e){if(typeof e=="function")return Ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xo)return 11;if(e===go)return 14}return 2}function ps(e,t){var r=e.alternate;return r===null?(r=ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ja(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")Ko(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case er:return As(r.children,a,i,t);case fo:l=8,a|=8;break;case ll:return e=ot(12,r,t,a|2),e.elementType=ll,e.lanes=i,e;case ol:return e=ot(13,r,t,a),e.elementType=ol,e.lanes=i,e;case cl:return e=ot(19,r,t,a),e.elementType=cl,e.lanes=i,e;case su:return ci(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eu:l=10;break e;case tu:l=9;break e;case xo:l=11;break e;case go:l=14;break e;case Xt:l=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=ot(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function As(e,t,r,n){return e=ot(7,e,n,t),e.lanes=r,e}function ci(e,t,r,n){return e=ot(22,e,n,t),e.elementType=su,e.lanes=r,e.stateNode={isHidden:!1},e}function Zi(e,t,r){return e=ot(6,e,null,t),e.lanes=r,e}function Xi(e,t,r){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function of(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zo(e,t,r,n,a,i,l,o,c){return e=new of(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(i),e}function cf(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Jh(e){if(!e)return gs;e=e._reactInternals;e:{if(Vs(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(Qe(r))return Ju(e,r,t)}return t}function Qh(e,t,r,n,a,i,l,o,c){return e=Zo(r,n,!0,e,a,i,l,o,c),e.context=Jh(null),r=e.current,n=Fe(),a=ms(r),i=qt(n,a),i.callback=t??null,us(r,i,a),e.current.lanes=a,Pn(e,a,n),Ye(e,n),e}function di(e,t,r,n){var a=t.current,i=Fe(),l=ms(a);return r=Jh(r),t.context===null?t.context=r:t.pendingContext=r,t=qt(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=us(a,t,l),e!==null&&(jt(e,a,l,i),xa(e,a,l)),l}function Ja(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xo(e,t){xd(e,t),(e=e.alternate)&&xd(e,t)}function df(){return null}var Yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ec(e){this._internalRoot=e}ui.prototype.render=ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));di(e,t,null,null)};ui.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){di(null,e,null,null)}),t[Ht]=null}};function ui(e){this._internalRoot=e}ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ss.length&&t!==0&&t<ss[r].priority;r++);ss.splice(r,0,e),r===0&&Pu(e)}};function tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gd(){}function uf(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Ja(l);i.call(d)}}var l=Qh(t,n,e,0,null,!1,!1,"",gd);return e._reactRootContainer=l,e[Ht]=l.current,gn(e.nodeType===8?e.parentNode:e),Fs(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Ja(c);o.call(d)}}var c=Zo(e,0,!1,null,null,!1,!1,"",gd);return e._reactRootContainer=c,e[Ht]=c.current,gn(e.nodeType===8?e.parentNode:e),Fs(function(){di(t,c,r,n)}),c}function mi(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Ja(l);o.call(c)}}di(t,l,e,a)}else l=uf(r,t,e,a,n);return Ja(l)}ku=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wr(t.pendingLanes);r!==0&&(bo(t,r|1),Ye(t,ge()),!(ee&6)&&(Nr=ge()+500,Ns()))}break;case 13:Fs(function(){var n=Wt(e,1);if(n!==null){var a=Fe();jt(n,e,1,a)}}),Xo(e,1)}};wo=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var r=Fe();jt(t,e,134217728,r)}Xo(e,134217728)}};Su=function(e){if(e.tag===13){var t=ms(e),r=Wt(e,t);if(r!==null){var n=Fe();jt(r,e,t,n)}Xo(e,t)}};Cu=function(){return se};_u=function(e,t){var r=se;try{return se=e,t()}finally{se=r}};vl=function(e,t,r){switch(t){case"input":if(hl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ri(n);if(!a)throw Error(L(90));nu(n),hl(n,a)}}}break;case"textarea":iu(e,r);break;case"select":t=r.value,t!=null&&ur(e,!!r.multiple,t,!1)}};mu=Qo;pu=Fs;var hf={usingClientEntryPoint:!1,Events:[Tn,nr,ri,uu,hu,Qo]},Br={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mf={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gu(e),e===null?null:e.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||df,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Xa=na.inject(mf),Lt=na}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hf;rt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(t))throw Error(L(200));return cf(e,t,null,r)};rt.createRoot=function(e,t){if(!tc(e))throw Error(L(299));var r=!1,n="",a=Yh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Zo(e,1,!1,null,null,r,!1,n,a),e[Ht]=t.current,gn(e.nodeType===8?e.parentNode:e),new ec(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=gu(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Fs(e)};rt.hydrate=function(e,t,r){if(!hi(t))throw Error(L(200));return mi(null,e,t,!0,r)};rt.hydrateRoot=function(e,t,r){if(!tc(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=Yh;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Qh(t,null,e,1,r??null,a,!1,i,l),e[Ht]=t.current,gn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ui(t)};rt.render=function(e,t,r){if(!hi(t))throw Error(L(200));return mi(null,e,t,!1,r)};rt.unmountComponentAtNode=function(e){if(!hi(e))throw Error(L(40));return e._reactRootContainer?(Fs(function(){mi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};rt.unstable_batchedUpdates=Qo;rt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hi(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return mi(e,t,r,!1,n)};rt.version="18.3.1-next-f1338f8080-20240426";function Gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gh)}catch(e){console.error(e)}}Gh(),Gd.exports=rt;var pf=Gd.exports,Kh,yd=pf;Kh=yd.createRoot,yd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ff={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const r=C.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>C.createElement("svg",{ref:u,...ff,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${xf(e)}`,o].join(" "),...d},[...t.map(([p,m])=>C.createElement(p,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=F("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=F("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=F("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=F("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=F("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=F("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=F("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=F("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=F("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=F("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=F("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=F("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=F("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=F("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=F("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=F("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=F("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=F("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=F("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=F("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=F("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=F("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Mf="modulepreload",Af=function(e){return"/"+e},wd={},Ln=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Af(c),c in wd)return;wd[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Mf,d||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},$f=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ln(async()=>{const{default:n}=await Promise.resolve().then(()=>Dr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class nc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Uf extends nc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Of extends nc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rf extends nc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xl||(Xl={}));var Ff=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class zf{constructor(t,{headers:r={},customFetch:n,region:a=Xl.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=$f(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ff(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let d;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(f=>{throw new Uf(f)}),p=u.headers.get("x-relay-error");if(p&&p==="true")throw new Of(u);if(!u.ok)throw new Rf(u);let m=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield u.json():m==="application/octet-stream"?y=yield u.blob():m==="text/event-stream"?y=u:m==="multipart/form-data"?y=yield u.formData():y=yield u.text(),{data:y,error:null}}catch(a){return{data:null,error:a}}})}}var He={},ac={},gi={},In={},yi={},vi={},Bf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cr=Bf();const qf=Cr.fetch,am=Cr.fetch.bind(Cr),im=Cr.Headers,Vf=Cr.Request,Hf=Cr.Response,Dr=Object.freeze(Object.defineProperty({__proto__:null,Headers:im,Request:Vf,Response:Hf,default:am,fetch:qf},Symbol.toStringTag,{value:"Module"})),Wf=zm(Dr);var bi={};Object.defineProperty(bi,"__esModule",{value:!0});let Jf=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bi.default=Jf;var lm=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vi,"__esModule",{value:!0});const Qf=lm(Wf),Yf=lm(bi);let Gf=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Qf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let d=null,u=null,p=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const v=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),k=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&k&&k.length>1&&(p=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,m=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,y="OK")}catch{i.status===404&&v===""?(m=204,y="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&this.shouldThrowOnError)throw new Yf.default(d)}return{error:d,data:u,count:p,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};vi.default=Gf;var Kf=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yi,"__esModule",{value:!0});const Zf=Kf(vi);let Xf=class extends Zf.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yi.default=Xf;var ex=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});const tx=ex(yi);let sx=class extends tx.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};In.default=sx;var rx=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gi,"__esModule",{value:!0});const qr=rx(In);let nx=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new qr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new qr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new qr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new qr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new qr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};gi.default=nx;var wi={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.version=void 0;ji.version="0.0.0-automated";Object.defineProperty(wi,"__esModule",{value:!0});wi.DEFAULT_HEADERS=void 0;const ax=ji;wi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ax.version}`};var om=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ac,"__esModule",{value:!0});const ix=om(gi),lx=om(In),ox=wi;let cx=class cm{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},ox.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new ix.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{o.searchParams.append(u,p)})):(l="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new lx.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ac.default=cx;var Lr=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(He,"__esModule",{value:!0});He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const dm=Lr(ac);He.PostgrestClient=dm.default;const um=Lr(gi);He.PostgrestQueryBuilder=um.default;const hm=Lr(In);He.PostgrestFilterBuilder=hm.default;const mm=Lr(yi);He.PostgrestTransformBuilder=mm.default;const pm=Lr(vi);He.PostgrestBuilder=pm.default;const fm=Lr(bi);He.PostgrestError=fm.default;var dx=He.default={PostgrestClient:dm.default,PostgrestQueryBuilder:um.default,PostgrestFilterBuilder:hm.default,PostgrestTransformBuilder:mm.default,PostgrestBuilder:pm.default,PostgrestError:fm.default};const{PostgrestClient:ux,PostgrestQueryBuilder:qy,PostgrestFilterBuilder:Vy,PostgrestTransformBuilder:Hy,PostgrestBuilder:Wy,PostgrestError:Jy}=dx;function hx(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const mx=hx(),px="2.11.15",fx=`realtime-js/${px}`,xx="1.0.0",xm=1e4,gx=1e3;var nn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nn||(nn={}));var $e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($e||($e={}));var vt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vt||(vt={}));var eo;(function(e){e.websocket="websocket"})(eo||(eo={}));var Ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ts||(Ts={}));class yx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+a));l=l+a;const c=n.decode(t.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class gm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const jd=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=vx(l,e,t,a),i),{})},vx=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!n.includes(i)?ym(i,l):to(l)},ym=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Nx(t,r)}switch(e){case ie.bool:return bx(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return wx(t);case ie.json:case ie.jsonb:return jx(t);case ie.timestamp:return kx(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return to(t);default:return to(t)}},to=e=>e,bx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Nx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>ym(t,o))}return e},kx=e=>typeof e=="string"?e.replace(" ","T"):e,vm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class el{constructor(t,r,n={},a=xm){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nd||(Nd={}));class an{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=an.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=an.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=an.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const p=i[d];if(p){const m=u.map(k=>k.presence_ref),y=p.map(k=>k.presence_ref),f=u.filter(k=>y.indexOf(k.presence_ref)<0),v=p.filter(k=>m.indexOf(k.presence_ref)<0);f.length>0&&(o[d]=f),v.length>0&&(c[d]=v)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const p=t[o].map(y=>y.presence_ref),m=u.filter(y=>p.indexOf(y.presence_ref)<0);t[o].unshift(...m)}n(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(p=>p.presence_ref);d=d.filter(p=>u.indexOf(p.presence_ref)<0),t[o]=d,a(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kd||(kd={}));var Sd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sd||(Sd={}));var Rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rt||(Rt={}));class ic{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new el(this,vt.join,this.params,this.timeout),this.rejoinTimer=new gm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new an(this),this.broadcastEndpointURL=vm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(u=>t==null?void 0:t(Rt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Rt.CLOSED));const c={},d={broadcast:i,presence:l,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var p;if(this.socket.setAuth(),u===void 0){t==null||t(Rt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,f=[];for(let v=0;v<y;v++){const k=m[v],{filter:{event:g,schema:h,table:x,filter:j}}=k,N=u&&u[v];if(N&&N.event===g&&N.schema===h&&N.table===x&&N.filter===j)f.push(Object.assign(Object.assign({},k),{id:N.id}));else{this.unsubscribe(),this.state=$e.errored,t==null||t(Rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t(Rt.SUBSCRIBED);return}}).receive("error",u=>{this.state=$e.errored,t==null||t(Rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new el(this,vt.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new el(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=vt;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var f,v,k;return((f=y.filter)===null||f===void 0?void 0:f.event)==="*"||((k=(v=y.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(y=>y.callback(m,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var f,v,k,g,h,x;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const j=y.id,N=(f=y.filter)===null||f===void 0?void 0:f.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const j=(h=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof m=="object"&&"ids"in m){const f=m.data,{schema:v,table:k,commit_timestamp:g,type:h,errors:x}=f;m=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:g,eventType:h,new:{},old:{},errors:x}),this._getPayloadRecords(f))}y.callback(m,n)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ic.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jd(t.columns,t.old_record)),r}}const Cd=()=>{},Sx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cx{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cd,this.ref=0,this.logger=Cd,this.conn=null,this.sendBuffer=[],this.serializer=new yx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>Ln(async()=>{const{default:c}=await Promise.resolve().then(()=>Dr);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${eo.websocket}`,this.httpEndpoint=vm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=mx),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xx}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nn.connecting:return Ts.Connecting;case nn.open:return Ts.Open;case nn.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new ic(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:fx};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(vt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(gx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:l}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Sx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _x extends lc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class so extends lc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Px=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const bm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ln(async()=>{const{default:n}=await Promise.resolve().then(()=>Dr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ex=()=>Px(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ln(()=>Promise.resolve().then(()=>Dr),void 0)).Response:Response}),ro=e=>{if(Array.isArray(e))return e.map(r=>ro(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=ro(n)}),t};var Hs=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const tl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tx=(e,t,r)=>Hs(void 0,void 0,void 0,function*(){const n=yield Ex();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new _x(tl(a),e.status||500))}).catch(a=>{t(new so(tl(a),a))}):t(new so(tl(e),e))}),Dx=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Mn(e,t,r,n,a,i){return Hs(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,Dx(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Tx(c,o,n))})})}function Ga(e,t,r,n){return Hs(this,void 0,void 0,function*(){return Mn(e,"GET",t,r,n)})}function ts(e,t,r,n,a){return Hs(this,void 0,void 0,function*(){return Mn(e,"POST",t,n,a,r)})}function Lx(e,t,r,n,a){return Hs(this,void 0,void 0,function*(){return Mn(e,"PUT",t,n,a,r)})}function Ix(e,t,r,n){return Hs(this,void 0,void 0,function*(){return Mn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wm(e,t,r,n,a){return Hs(this,void 0,void 0,function*(){return Mn(e,"DELETE",t,n,a,r)})}var qe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Mx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_d={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ax{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=bm(a)}uploadOrUpdate(t,r,n,a){return qe(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},_d),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield p.json();return p.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return qe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:_d.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const p=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),m=yield p.json();return p.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(_e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ts(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new lc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}update(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return qe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ts(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return qe(this,void 0,void 0,function*(){try{const a=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}download(t,r){return qe(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Ga(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(_e(o))return{data:null,error:o};throw o}})}info(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ga(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ro(n),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}exists(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ix(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(_e(n)&&n instanceof so){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield wm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}list(t,r,n){return qe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Mx),r),{prefix:t||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const $x="2.7.1",Ux={"X-Client-Info":`storage-js/${$x}`};var Qs=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class Ox{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Ux),r),this.fetch=bm(n)}listBuckets(){return Qs(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return Qs(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Qs(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Qs(this,void 0,void 0,function*(){try{return{data:yield Lx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qs(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qs(this,void 0,void 0,function*(){try{return{data:yield wm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}}class Rx extends Ox{constructor(t,r={},n){super(t,r,n)}from(t){return new Ax(this.url,this.headers,t,this.fetch)}}const Fx="2.50.2";let Qr="";typeof Deno<"u"?Qr="deno":typeof document<"u"?Qr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qr="react-native":Qr="node";const zx={"X-Client-Info":`supabase-js-${Qr}/${Fx}`},Bx={headers:zx},qx={schema:"public"},Vx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hx={};var Wx=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Jx=e=>{let t;return e?t=e:typeof fetch>"u"?t=am:t=fetch,(...r)=>t(...r)},Qx=()=>typeof Headers>"u"?im:Headers,Yx=(e,t,r)=>{const n=Jx(r),a=Qx();return(i,l)=>Wx(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var Gx=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};function Kx(e){return e.endsWith("/")?e:e+"/"}function Zx(e,t){var r,n;const{db:a,auth:i,realtime:l,global:o}=e,{db:c,auth:d,realtime:u,global:p}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Gx(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const jm="2.70.0",Zs=30*1e3,no=3,sl=no*Zs,Xx="http://localhost:9999",eg="supabase.auth.token",tg={"X-Client-Info":`gotrue-js/${jm}`},ao="X-Supabase-Api-Version",Nm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rg=6e5;class oc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ng extends oc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ag(e){return W(e)&&e.name==="AuthApiError"}class km extends oc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ks extends oc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Zt extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ig(e){return W(e)&&e.name==="AuthSessionMissingError"}class aa extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ia extends ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class la extends ks{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lg(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pd extends ks{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class io extends ks{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function rl(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Ed extends ks{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ln extends ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Td=` 	
\r=`.split(""),og=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Td.length;t+=1)e[Td[t].charCodeAt(0)]=-2;for(let t=0;t<Ka.length;t+=1)e[Ka[t].charCodeAt(0)]=t;return e})();function Dd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ka[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ka[n]),t.queuedBits-=6}}function Sm(e,t,r){const n=og[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ld(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{ug(l,n,r)};for(let l=0;l<e.length;l+=1)Sm(e.charCodeAt(l),a,i);return t.join("")}function cg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}cg(n,t)}}function ug(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hg(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Sm(e.charCodeAt(a),r,n);return new Uint8Array(t)}function mg(e){const t=[];return dg(e,r=>t.push(r)),new Uint8Array(t)}function pg(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Dd(a,r,n)),Dd(null,r,n),t.join("")}function fg(e){return Math.round(Date.now()/1e3)+e}function xg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Cs={tested:!1,writable:!1},on=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cs.tested)return Cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cs.tested=!0,Cs.writable=!0}catch{Cs.tested=!0,Cs.writable=!1}return Cs.writable};function gg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Cm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ln(async()=>{const{default:n}=await Promise.resolve().then(()=>Dr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_m=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},oa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ca=async(e,t)=>{await e.removeItem(t)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ni.promiseConstructor=Promise;function nl(e){const t=e.split(".");if(t.length!==3)throw new ln("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sg.test(t[n]))throw new ln("JWT not in base64url format");return{header:JSON.parse(Ld(t[0])),payload:JSON.parse(Ld(t[1])),signature:hg(t[2]),raw:{header:t[0],payload:t[1]}}}async function vg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bg(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function wg(e){return("0"+e.toString(16)).substr(-2)}function jg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,wg).join("")}async function Ng(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function kg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ng(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(e,t,r=!1){const n=jg();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await _m(e,`${t}-code-verifier`,a);const i=await kg(n);return[i,n===i?"plain":"s256"]}const Sg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cg(e){const t=e.headers.get(ao);if(!t||!t.match(Sg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _g(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Pg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Eg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gs(e){if(!Eg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Tg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dg=[502,503,504];async function Id(e){var t;if(!yg(e))throw new io(Es(e),0);if(Dg.includes(e.status))throw new io(Es(e),e.status);let r;try{r=await e.json()}catch(i){throw new km(Es(i),i)}let n;const a=Cg(e);if(a&&a.getTime()>=Nm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ed(Es(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Ed(Es(r),e.status,r.weak_password.reasons);throw new ng(Es(r),e.status||500,n)}const Lg=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function K(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[ao]||(i[ao]=Nm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Ig(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Ig(e,t,r,n,a,i){const l=Lg(t,n,a,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new io(Es(c),0)}if(o.ok||await Id(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Id(c)}}function Ut(e){var t;let r=null;Ug(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=fg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Md(e){const t=Ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ns(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Mg(e){return{data:e,error:null}}function Ag(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=Tg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function $g(e){return e}function Ug(e){return e.access_token&&e.refresh_token&&e.expires_in}const al=["global","local","others"];var Og=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Rg{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Cm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=al[0]){if(al.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${al.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ns})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Og(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ag,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ns})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:$g});if(u.error)throw u.error;const p=await u.json(),m=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(f=>{const v=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(f.split(";")[1].split("=")[1]);d[`${k}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(W(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Gs(t);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ns})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gs(t);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ns})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gs(t);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ns})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gs(t.userId);try{const{data:r,error:n}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gs(t.userId),Gs(t.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}const Fg={getItem:e=>on()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{on()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{on()&&globalThis.localStorage.removeItem(e)}};function Ad(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function zg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ks={debug:!!(globalThis&&on()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Bg extends Pm{}async function qg(e,t,r){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Bg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ks.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}zg();const Vg={url:Xx,storageKey:eg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $d(e,t,r){return await r()}class Cn{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cn.nextInstanceID,Cn.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Vg),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Rg({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Cm(a.fetch),this.lock=a.lock||$d,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=qg:this.lock=$d,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:on()?this.storage=Fg:(this.memoryStorage={},this.storage=Ad(this.memoryStorage)):(this.memoryStorage={},this.storage=Ad(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=gg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lg(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new km("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ut}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:p,options:m}=t;let y=null,f=null;this.flowType==="pkce"&&([y,f]=await Ys(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:f},xform:Ut})}else if("phone"in t){const{phone:u,password:p,options:m}=t;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ut})}else throw new ia("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Md})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Md})}else throw new ia("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new aa}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,l,o,c,d,u,p,m,y;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:k,wallet:g,statement:h,options:x}=t;let j;if(xt())if(typeof g=="object")j=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))j=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const N=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const b=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),h?{statement:h}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)f=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((p=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await j.signMessage(new TextEncoder().encode(f),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=b}}try{const{data:k,error:g}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:pg(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ut});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new aa}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if(W(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await oa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ut});if(await ca(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new aa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(W(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,o=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ut}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new aa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ys(this.storage,this.storageKey));const{error:p}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ia("You must provide either an email or phone number.")}catch(o){if(W(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ut});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Ys(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Mg})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zt;const{error:a}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await K(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:o}=await K(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new ia("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await oa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ns}):await this._useSession(async r=>{var n,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ns})})}catch(r){if(W(r))return ig(r)&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Zt;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ys(this.storage,this.storageKey));const{data:d,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:ns});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zt;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=nl(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zt;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!xt())throw new la("No browser detected.");if(t.error||t.error_description||t.error_code)throw new la(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new la("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pd("No code detected.");const{data:h,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!l||!d)throw new la("No session defined in URL");const u=Math.round(Date.now()/1e3),p=parseInt(o);let m=u+p;c&&(m=parseInt(c));const y=m-u;y*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const f=m-p;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,m,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,m,u);const{data:v,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:m,refresh_token:l,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await oa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(ag(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=xg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ys(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:p,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return xt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bg(async a=>(a>0&&await vg(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ut})),(a,i)=>{const l=200*Math.pow(2,a);return i&&rl(i)&&Date.now()+l-n<Zs})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await oa(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<sl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${sl}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),rl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ni;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),W(i)){const l={session:null,error:i};return rl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _m(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ca(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Zs}ms, refresh threshold is ${no} ticks`),a<=no&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Pm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Ys(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await K(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=nl(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+rg>Date.now()))return n;const{data:a,error:i}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new ln("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(l=>l.kid===t),!n)throw new ln("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:f}=await this.getSession();if(f||!y.session)return{data:null,error:f};n=y.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=nl(n);if(_g(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:a,signature:l},error:null}}const d=Pg(a.alg),u=await this.fetchJwk(a.kid,r),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,l,mg(`${o}.${c}`)))throw new ln("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}Cn.nextInstanceID=0;const Hg=Cn;class Wg extends Hg{constructor(t){super(t)}}var Jg=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(p){l(p)}}function c(u){try{d(n.throw(u))}catch(p){l(p)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class Qg{constructor(t,r,n){var a,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Kx(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:qx,realtime:Hx,auth:Object.assign(Object.assign({},Vx),{storageKey:d}),global:Bx},p=Zx(n??{},u);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=Yx(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new ux(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new zf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rx(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Jg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:l,lock:o,debug:c},d,u){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wg({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Cx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yg=(e,t,r)=>new Qg(e,t,r),Gg="https://dtbmhwgpzokkmhfawpdr.supabase.co",Kg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR0Ym1od2dwem9ra21oZmF3cGRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NDAwMDQsImV4cCI6MjA2NjMxNjAwNH0.CiC3nN6rvqzWoQGVojml3Q5M8hJ6wiUJ1uFKK_z-QlQ",Et=Yg(Gg,Kg);function Zg({onAuth:e,onSkipSignIn:t}){const[r,n]=C.useState(!0),[a,i]=C.useState(!1),[l,o]=C.useState(!1),[c,d]=C.useState(!1),[u,p]=C.useState(!1),[m,y]=C.useState(!1),[f,v]=C.useState({name:"",email:"",password:"",confirmPassword:""}),[k,g]=C.useState({email:"",newPassword:"",confirmNewPassword:""}),[h,x]=C.useState(null),[j,N]=C.useState(null),[b,S]=C.useState(null),[w,_]=C.useState(null),[D,O]=C.useState(null);C.useEffect(()=>{p(!0)},[]);const Q=()=>{v({name:"",email:"",password:"",confirmPassword:""}),g({email:"",newPassword:"",confirmNewPassword:""}),x(null),N(null),S(null),_(null),O(null)},P=U=>{const{name:E,value:Y}=U.target;v(G=>({...G,[E]:Y})),E==="name"&&x(null),E==="email"&&N(null),E==="password"&&S(null),E==="confirmPassword"&&_(null),O(null)},q=U=>{const{name:E,value:Y}=U.target;g(G=>({...G,[E]:Y})),O(null)},M=()=>{let U=!0;return x(null),N(null),S(null),_(null),O(null),!r&&f.name.trim().length<3&&(x("Full name must be at least 3 characters."),U=!1),f.email.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)||(N("Please enter a valid email address."),U=!1),f.password.length<8?(S("Password must be at least 8 characters long."),U=!1):/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/.test(f.password)||(S("Password requires a digit, lowercase, and uppercase letter."),U=!1),!r&&f.password!==f.confirmPassword&&(_("Passwords do not match."),U=!1),U},B=async U=>{if(U.preventDefault(),!M()){O("Please correct the errors in the form.");return}y(!0);try{if(r){const{data:E,error:Y}=await Et.auth.signInWithPassword({email:f.email,password:f.password});if(Y)throw Y;if(E.user){const{data:G,error:mt}=await Et.from("users").select("name, email").eq("id",E.user.id).maybeSingle();mt?(console.error("Error fetching user data:",mt),e({name:f.email.split("@")[0],email:f.email})):e(G?{name:G.name,email:G.email}:{name:f.email.split("@")[0],email:f.email}),Q()}}else{const{data:E,error:Y}=await Et.auth.signUp({email:f.email,password:f.password,options:{data:{name:f.name}}});if(Y){if(Y.message==="User already registered"||Y.message.includes("already registered")){O("This email is already registered. Please try logging in instead.");return}throw Y}if(E.user){const{error:G}=await Et.from("users").insert({id:E.user.id,name:f.name,email:f.email,profile_visibility:"public"});G&&console.error("Error creating user profile:",G),e({name:f.name,email:f.email}),Q()}}}catch(E){console.error("Authentication error:",E),E.message==="User already registered"||E.message.includes("already registered")?O("This email is already registered. Please try logging in instead."):E.message==="Invalid login credentials"||E.message.includes("Invalid credentials")||E.message.includes("invalid_credentials")?O(s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium mb-2",children:"Login failed. Please check:"}),s.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Your email address is correct"}),s.jsx("li",{children:"Your password is correct (passwords are case-sensitive)"}),s.jsx("li",{children:"You have an account with this email"})]}),s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("button",{type:"button",onClick:()=>{o(!0),Q()},className:"text-blue-400 hover:text-blue-300 underline",children:"Forgot your password?"})," ","or"," ",s.jsx("button",{type:"button",onClick:()=>{n(!1),Q()},className:"text-blue-400 hover:text-blue-300 underline",children:"create a new account"})]})]})):E.message.includes("Email not confirmed")?O("Please check your email and click the confirmation link before signing in."):E.message.includes("Too many requests")?O("Too many login attempts. Please wait a few minutes before trying again."):O(E.message||"An unexpected error occurred. Please try again later.")}finally{y(!1)}},H=async U=>{if(U.preventDefault(),!k.email.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)){N("Please enter a valid email address.");return}y(!0),O(null);try{const{error:E}=await Et.auth.resetPasswordForEmail(k.email,{redirectTo:window.location.origin});if(E)throw E;alert(`Password reset link sent to ${k.email}. Please check your email.`),d(!0)}catch(E){console.error("Forgot password error:",E),O(E.message||"An error occurred while sending the verification code.")}finally{y(!1)}},I=async U=>{if(U.preventDefault(),!k.newPassword||!k.confirmNewPassword){O("Please fill in all fields");return}if(k.newPassword.length<8){O("Password must be at least 8 characters long.");return}if(k.newPassword!==k.confirmNewPassword){O("Passwords do not match.");return}y(!0);try{const{error:E}=await Et.auth.updateUser({password:k.newPassword});if(E)throw E;alert("Password changed successfully!"),o(!1),d(!1),Q()}catch(E){console.error("Password reset error:",E),O(E.message||"An error occurred while resetting the password.")}finally{y(!1)}};return l&&c?s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden flex items-center justify-center p-4",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((U,E)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${E%4===0?"text-blue-400":E%4===1?"text-purple-400":E%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:E%4===0?s.jsx(ae,{}):E%4===1?s.jsx(ne,{}):E%4===2?s.jsx(fs,{}):s.jsx(J,{})},E))]}),s.jsxs("div",{className:"max-w-md w-full relative z-10",children:[s.jsxs("div",{className:`text-center mb-8 transition-all duration-1000 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-2xl animate-pulse-slow",children:s.jsx(ae,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent mb-2 animate-fade-in",children:"Reset Password"}),s.jsx("p",{className:"text-gray-400",children:"Enter your new password and confirm it"})]}),s.jsx("div",{className:`bg-gray-900/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-700/50 transition-all duration-1000 delay-300 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter New Password"}),s.jsx("input",{id:"newPassword",type:"password",name:"newPassword",value:k.newPassword,onChange:q,className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter your new password",required:!0,disabled:m})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),s.jsx("input",{id:"confirmNewPassword",type:"password",name:"confirmNewPassword",value:k.confirmNewPassword,onChange:q,className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Confirm your new password",required:!0,disabled:m})]}),D&&s.jsx("div",{className:"text-red-500 text-sm text-center",children:D}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{o(!1),d(!1),Q()},className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",disabled:m,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-blue-200/20 shadow-lg flex items-center justify-center space-x-2",disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Setting Password..."})]}):"Set Password"})]})]})})]}),s.jsx("a",{href:"https://bolt.new/",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-4 right-4 z-50 hover:opacity-90 transition-opacity",children:s.jsx("img",{src:"/image.png",alt:"Powered by Bolt.new",className:"h-12 w-auto"})})]}):l?s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden flex items-center justify-center p-4",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((U,E)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${E%4===0?"text-blue-400":E%4===1?"text-purple-400":E%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:E%4===0?s.jsx(ae,{}):E%4===1?s.jsx(ne,{}):E%4===2?s.jsx(fs,{}):s.jsx(J,{})},E))]}),s.jsxs("div",{className:"max-w-md w-full relative z-10",children:[s.jsxs("div",{className:`text-center mb-8 transition-all duration-1000 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-2xl animate-pulse-slow",children:s.jsx(ae,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent mb-2 animate-fade-in",children:"Reset Password"}),s.jsx("p",{className:"text-gray-400",children:"Enter your email to receive a verification code"})]}),s.jsx("div",{className:`bg-gray-900/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-700/50 transition-all duration-1000 delay-300 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"forgot-email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"forgot-email",type:"email",name:"email",value:k.email,onChange:q,className:`w-full pl-11 pr-4 py-3 bg-gray-800/50 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400 ${j?"border-red-500":"border-gray-600"}`,placeholder:"Enter your email",required:!0,disabled:m})]}),j&&s.jsx("p",{className:"mt-2 text-sm text-red-500",children:j})]}),D&&s.jsx("div",{className:"text-red-500 text-sm text-center",children:D}),s.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-blue-200/20 shadow-lg flex items-center justify-center space-x-2",disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Sending Reset Link..."})]}):"Send Reset Link"}),s.jsx("button",{type:"button",onClick:()=>{o(!1),Q()},className:"w-full text-gray-400 hover:text-gray-300 text-sm font-medium transition-colors",disabled:m,children:"Back to Login"})]})})]}),s.jsx("a",{href:"https://bolt.new/",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-4 right-4 z-50 hover:opacity-90 transition-opacity",children:s.jsx("img",{src:"/badgeBolt.png",alt:"Powered by Bolt.new",className:"h-12 w-auto"})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden flex items-center justify-center p-4 sm:p-6",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((U,E)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${E%4===0?"text-blue-400":E%4===1?"text-purple-400":E%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:E%4===0?s.jsx(ae,{}):E%4===1?s.jsx(ne,{}):E%4===2?s.jsx(fs,{}):s.jsx(J,{})},E))]}),s.jsxs("div",{className:"max-w-md w-full relative z-10 mx-auto",children:[s.jsxs("div",{className:`text-center mb-6 sm:mb-8 transition-all duration-1000 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-2xl animate-pulse-slow",children:s.jsx(ae,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent mb-2 animate-fade-in",children:"StudyMates"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3 sm:mb-4",children:[s.jsx(Ya,{className:"w-5 h-5 text-yellow-400 animate-pulse"}),s.jsx("p",{className:"text-lg sm:text-xl font-semibold bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent",children:"Your Growth, Our Community"}),s.jsx(Ya,{className:"w-5 h-5 text-yellow-400 animate-pulse"})]}),s.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:r?"Welcome back to your learning journey!":"Start your learning adventure today!"})]}),s.jsxs("div",{className:`bg-gray-900/80 backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 border border-gray-700/50 transition-all duration-1000 delay-300 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[s.jsxs("form",{onSubmit:B,className:"space-y-6",children:[!r&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"full-name",type:"text",name:"name",value:f.name,onChange:P,className:`w-full pl-11 pr-4 py-3 bg-gray-800/50 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400 ${h?"border-red-500":"border-gray-600"}`,placeholder:"Enter your full name",required:!r,disabled:m})]}),h&&s.jsx("p",{className:"mt-2 text-sm text-red-500",children:h})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"email-address",type:"email",name:"email",value:f.email,onChange:P,className:`w-full pl-11 pr-4 py-3 bg-gray-800/50 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400 ${j?"border-red-500":"border-gray-600"}`,placeholder:"Enter your email",required:!0,disabled:m})]}),j&&s.jsx("p",{className:"mt-2 text-sm text-red-500",children:j})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"password",type:a?"text":"password",name:"password",value:f.password,onChange:P,className:`w-full pl-11 pr-12 py-3 bg-gray-800/50 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400 ${b?"border-red-500":"border-gray-600"}`,placeholder:"Enter your password",required:!0,disabled:m}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300 transition-colors","aria-label":a?"Hide password":"Show password",disabled:m,children:a?s.jsx(em,{className:"w-5 h-5"}):s.jsx(ye,{className:"w-5 h-5"})})]}),b&&s.jsx("p",{className:"mt-2 text-sm text-red-500",children:b})]}),!r&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"confirm-password",type:a?"text":"password",name:"confirmPassword",value:f.confirmPassword,onChange:P,className:`w-full pl-11 pr-4 py-3 bg-gray-800/50 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400 ${w?"border-red-500":"border-gray-600"}`,placeholder:"Confirm your password",required:!r,disabled:m})]}),w&&s.jsx("p",{className:"mt-2 text-sm text-red-500",children:w})]}),D&&s.jsx("div",{className:"text-red-500 text-sm bg-red-50/10 border border-red-500/20 rounded-lg p-3",children:D}),s.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-blue-200/20 shadow-lg flex items-center justify-center space-x-2",disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:r?"Signing In...":"Creating Account..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:r?"Sign In":"Create Account"}),s.jsx(Pt,{className:"w-5 h-5"})]})}),r&&s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>{o(!0),Q()},className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",disabled:m,children:"Forgot your password?"})})]}),s.jsxs("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-700 text-center",children:[s.jsxs("p",{className:"text-gray-400",children:[r?"Don't have an account?":"Already have an account?",s.jsx("button",{onClick:()=>{n(!r),Q()},className:"ml-2 text-blue-400 hover:text-blue-300 font-semibold transition-colors text-sm sm:text-base",disabled:m,children:r?"Sign Up":"Sign In"})]}),s.jsx("button",{onClick:t,className:"mt-4 text-gray-400 hover:text-blue-300 text-sm font-medium transition-colors",disabled:m,children:"Skip Sign In"})]})]})]}),s.jsx("a",{href:"https://bolt.new/",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-4 right-4 z-50 hover:opacity-90 transition-opacity",children:s.jsx("img",{src:"/badgeBolt.png",alt:"Powered by Bolt.new",className:"h-12 w-auto"})}),s.jsx("style",{jsx:!0,children:`
        @keyframes float-slow {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        @keyframes pulse-slow {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.05); }
        }
        @keyframes fade-in {
          0% { opacity: 0; transform: translateY(-10px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-float-slow {
          animation: float-slow 6s ease-in-out infinite;
        }
        .animate-pulse-slow {
          animation: pulse-slow 3s ease-in-out infinite;
        }
        .animate-fade-in {
          animation: fade-in 2s ease-out;
        }
      `})]})}function Xg({notifications:e,onDismiss:t,onClearAll:r,showNotifications:n=!1,onToggleNotifications:a}){const[i,l]=C.useState(null),[o,c]=C.useState(null);C.useEffect(()=>{if(e.length>0){const m=e[0];m.id!==i&&(l(m.id),c(m),setTimeout(()=>{c(null)},4e3))}},[e,i]);const d=m=>{switch(m){case"success":return s.jsx(vf,{className:"w-5 h-5 text-green-400"});case"error":return s.jsx(vd,{className:"w-5 h-5 text-red-400"});case"warning":return s.jsx(vd,{className:"w-5 h-5 text-yellow-400"});default:return s.jsx(tm,{className:"w-5 h-5 text-blue-400"})}},u=m=>{switch(m){case"success":return"from-green-500 to-emerald-600 border-green-400";case"error":return"from-red-500 to-red-600 border-red-400";case"warning":return"from-yellow-500 to-orange-600 border-yellow-400";default:return"from-blue-500 to-blue-600 border-blue-400"}},p=()=>{c(null)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:a,className:"p-3 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded-xl transition-all duration-200 relative",children:[s.jsx(Zl,{className:"w-5 h-5"}),e.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),n&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-gray-900 border border-gray-700 rounded-xl shadow-2xl z-50 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),e.length>0&&s.jsx("button",{onClick:r,className:"text-sm text-red-400 hover:text-red-300 transition-colors",children:"Clear All"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.length>0?e.map(m=>s.jsx("div",{className:"p-4 border-b border-gray-700 hover:bg-gray-800 transition-colors",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[d(m.type),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:m.title}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:m.message}),s.jsx("p",{className:"text-gray-500 text-xs mt-2",children:new Date(m.timestamp).toLocaleString()})]}),s.jsx("button",{onClick:()=>t(m.id),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-4 h-4"})})]})},m.id)):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Zl,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No notifications"})]})})]})]}),o&&s.jsx("div",{className:"fixed top-20 right-4 z-50 animate-slide-in-right",children:s.jsx("div",{className:`bg-gradient-to-r ${u(o.type)} border-l-4 p-4 rounded-lg shadow-lg max-w-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[d(o.type),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:o.title}),s.jsx("p",{className:"text-white text-opacity-90 text-xs mt-1",children:o.message})]}),s.jsx("button",{onClick:p,className:"text-white text-opacity-70 hover:text-opacity-100 transition-colors",children:s.jsx(Te,{className:"w-4 h-4"})})]})})}),s.jsx("style",{jsx:!0,children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out;
        }
      `})]})}function ey({user:e,onLogout:t,currentView:r,onNavigate:n,onNavigateBack:a,showBackButton:i,notifications:l,onDismissNotification:o,onClearAllNotifications:c,isLoggedIn:d}){const[u,p]=C.useState(!1),[m,y]=C.useState(!1),[f,v]=C.useState(!1),[k,g]=C.useState(!1),[h,x]=C.useState(!1),[j,N]=C.useState({name:(e==null?void 0:e.name)||"",phone:"",subject:"",description:""}),[b,S]=C.useState({code:"",newPassword:""}),w=()=>{switch(r){case"home":return"StudyMates";case"dashboard":return"Dashboard";case"notes":return"My Notes";case"flipcards":return"My Flip Card Sets";case"profile":return"Profile";case"chat":return"Messages";case"explore":return"Explore";case"communities":return"Communities";case"study-sessions":return"Study Sessions";case"infovids":return"Infovids";case"store":return"EduStore";case"public-notes":return"Public Notes";case"public-flipcards":return"Public Flip Cards";case"public-communities":return"Public Communities";case"public-sessions":return"Public Study Sessions";case"public-infovids":return"Public Infovids";case"my-store":return"My Store";default:return"StudyMates"}},_=()=>{p(!u),y(!1)},D=()=>{y(!m),p(!1)},O=()=>{p(!1),y(!1)},Q=()=>{v(!0),y(!1)},P=()=>{g(!0),y(!1),N({name:(e==null?void 0:e.name)||"",phone:"",subject:"",description:""})},q=()=>{x(!0),y(!1),alert(`Verification code sent to ${e==null?void 0:e.email}`)},M=H=>{H.preventDefault(),console.log("Feedback submitted:",j),alert("Thank you for your feedback! We appreciate your input."),g(!1),N({name:(e==null?void 0:e.name)||"",phone:"",subject:"",description:""})},B=H=>{if(H.preventDefault(),!b.code||!b.newPassword){alert("Please fill in all fields");return}console.log("Password change requested:",b),alert("Password changed successfully!"),x(!1),S({code:"",newPassword:""})};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-50 shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[i&&r!=="home"&&s.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded-xl transition-all duration-200 md:block hidden",children:s.jsx(pi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>n("home"),children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg",children:s.jsx(ae,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"hidden sm:block",children:s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:w()})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"hidden md:flex items-center space-x-2 sm:space-x-4",children:[s.jsx("button",{onClick:()=>{O(),n("store")},className:`p-2 sm:p-3 rounded-xl transition-all duration-200 ${r==="store"?"bg-green-600 text-white":"text-gray-400 hover:text-green-400 hover:bg-gray-800"}`,children:s.jsx(Dt,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("button",{onClick:()=>{O(),n("explore")},className:`p-2 sm:p-3 rounded-xl transition-all duration-200 ${r==="explore"?"bg-blue-600 text-white":"text-gray-400 hover:text-blue-400 hover:bg-gray-800"}`,children:s.jsx(Ce,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("button",{onClick:()=>{O(),n("chat")},className:`p-2 sm:p-3 rounded-xl transition-all duration-200 ${r==="chat"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"text-gray-400 hover:text-blue-400 hover:bg-gray-800"}`,children:s.jsx(Yt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),s.jsx(Xg,{notifications:l,onDismiss:o,onClearAll:c,showNotifications:u,onToggleNotifications:_}),d&&e&&s.jsxs("button",{onClick:()=>{O(),n("profile")},className:"flex items-center space-x-2 sm:space-x-3 px-2 sm:px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-xl border border-gray-700 transition-all duration-200",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-sm",children:e.profilePicture?s.jsx("img",{src:e.profilePicture,alt:e.name,className:"w-6 h-6 sm:w-8 sm:h-8 rounded-lg object-cover"}):s.jsx(V,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),s.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-300 hidden sm:block",children:e.name})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:D,className:"flex items-center space-x-2 px-2 sm:px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-xl transition-all duration-200",children:s.jsx(Ef,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),m&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-900 border border-gray-700 rounded-xl shadow-2xl z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsxs("button",{onClick:Q,className:"w-full px-4 py-3 text-left text-gray-300 hover:bg-gray-800 transition-colors flex items-center space-x-3",children:[s.jsx(tm,{className:"w-4 h-4"}),s.jsx("span",{children:"About Us"})]}),s.jsxs("button",{onClick:P,className:"w-full px-4 py-3 text-left text-gray-300 hover:bg-gray-800 transition-colors flex items-center space-x-3",children:[s.jsx(kf,{className:"w-4 h-4"}),s.jsx("span",{children:"Feedback"})]}),d&&s.jsxs("button",{onClick:q,className:"w-full px-4 py-3 text-left text-gray-300 hover:bg-gray-800 transition-colors flex items-center space-x-3",children:[s.jsx(ve,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("hr",{className:"border-gray-700 my-2"}),s.jsxs("button",{onClick:()=>{y(!1),t()},className:"w-full px-4 py-3 text-left text-red-400 hover:bg-gray-800 transition-colors flex items-center space-x-3",children:[s.jsx(Nf,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})]})]})})]})]})]})})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 sm:p-8 max-w-md w-full border border-gray-700 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"About StudyMates"}),s.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("div",{className:"space-y-4 text-gray-300 text-sm sm:text-base",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-blue-400",children:"StudyMates"})," is a comprehensive learning platform designed to revolutionize how students collaborate, share knowledge, and achieve academic excellence together."]}),s.jsx("p",{children:"Our platform empowers learners to upload notes, create AI-powered flashcards, join study communities, participate in collaborative sessions, and access a vast marketplace of educational resources."}),s.jsxs("p",{children:[s.jsx("strong",{children:"Created by:"})," ",s.jsx("span",{className:"text-purple-400",children:"Shivam R. Divakar"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Built with:"})," ",s.jsx("span",{className:"text-green-400",children:"bolt.new AI"})," as the primary technology, leveraging cutting-edge artificial intelligence to enhance the learning experience."]}),s.jsx("p",{children:"StudyMates bridges the gap between individual study and collaborative learning, making education more accessible, engaging, and effective for students worldwide."}),s.jsx("div",{className:"bg-gray-800 p-4 rounded-xl mt-6",children:s.jsx("p",{className:"text-center text-blue-400 font-semibold",children:'"Your Growth, Our Community"'})})]}),s.jsx("button",{onClick:()=>v(!1),className:"w-full mt-6 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 rounded-xl transition-colors",children:"Close"})]})}),k&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 sm:p-8 max-w-md w-full border border-gray-700 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Send Feedback"}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),s.jsx("input",{type:"text",value:j.name,onChange:H=>N(I=>({...I,name:H.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Your name"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Phone Number ",s.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(sm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"tel",value:j.phone,onChange:H=>N(I=>({...I,phone:H.target.value})),className:"w-full pl-11 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Your phone number"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),s.jsx("input",{type:"text",value:j.subject,onChange:H=>N(I=>({...I,subject:H.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Brief subject",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:j.description,onChange:H=>N(I=>({...I,description:H.target.value})),rows:4,className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400 resize-none",placeholder:"Detailed feedback...",required:!0})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Sr,{className:"w-4 h-4"}),s.jsx("span",{children:"Send"})]})]})]})]})}),h&&d&&e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 sm:p-8 max-w-md w-full border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Change Password"}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("div",{className:"mb-4 p-4 bg-blue-900/20 border border-blue-700 rounded-xl",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-blue-400 mb-2",children:[s.jsx(Qa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Verification Code Sent"})]}),s.jsxs("p",{className:"text-xs text-blue-300",children:["A verification code has been sent to ",e.email]})]}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter Code"}),s.jsx("input",{type:"text",value:b.code,onChange:H=>S(I=>({...I,code:H.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"6-digit verification code",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),s.jsx("input",{type:"password",value:b.newPassword,onChange:H=>S(I=>({...I,newPassword:H.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter new password",required:!0})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(ve,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})]})]})]})})]})}function ty(){const[e,t]=C.useState(!1),[r,n]=C.useState({title:"",content:""}),a=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=l=>{let o="",c="";switch(l){case"privacy":o="Privacy Policy",c=`
          <h3>Privacy Policy for StudyMates</h3>
          <p><strong>Effective Date:</strong> January 1, 2024</p>
          
          <h4>1. Information We Collect</h4>
          <p>We collect information you provide directly to us, such as when you create an account, upload study materials, or communicate with other users.</p>
          
          <h4>2. How We Use Your Information</h4>
          <p>We use the information we collect to provide, maintain, and improve our services, including facilitating study sessions and connecting students.</p>
          
          <h4>3. Information Sharing</h4>
          <p>We do not sell, trade, or otherwise transfer your personal information to third parties without your consent, except as described in this policy.</p>
          
          <h4>4. Data Security</h4>
          <p>We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction.</p>
          
          <h4>5. Contact Us</h4>
          <p>If you have any questions about this Privacy Policy, please contact us at shivamdivakar3009@gmail.com</p>
        `;break;case"terms":o="Terms & Conditions",c=`
          <h3>Terms & Conditions for StudyMates</h3>
          <p><strong>Effective Date:</strong> January 1, 2024</p>
          
          <h4>1. Acceptance of Terms</h4>
          <p>By accessing and using StudyMates, you accept and agree to be bound by the terms and provision of this agreement.</p>
          
          <h4>2. Use License</h4>
          <p>Permission is granted to temporarily use StudyMates for personal, non-commercial educational purposes only.</p>
          
          <h4>3. User Content</h4>
          <p>Users are responsible for the content they upload and share. Content must be educational and appropriate for an academic environment.</p>
          
          <h4>4. Prohibited Uses</h4>
          <p>You may not use StudyMates for any unlawful purpose or to solicit others to perform unlawful acts.</p>
          
          <h4>5. Termination</h4>
          <p>We may terminate or suspend your account immediately, without prior notice, for conduct that we believe violates these Terms.</p>
          
          <h4>6. Contact Information</h4>
          <p>Questions about the Terms should be sent to us at shivamdivakar3009@gmail.com</p>
        `;break;case"cookies":o="Cookie Policy",c=`
          <h3>Cookie Policy for StudyMates</h3>
          <p><strong>Effective Date:</strong> January 1, 2024</p>
          
          <h4>1. What Are Cookies</h4>
          <p>Cookies are small text files that are stored on your computer or mobile device when you visit our website.</p>
          
          <h4>2. How We Use Cookies</h4>
          <p>We use cookies to enhance your experience, remember your preferences, and analyze how our service is used.</p>
          
          <h4>3. Types of Cookies We Use</h4>
          <ul>
            <li><strong>Essential Cookies:</strong> Required for the website to function properly</li>
            <li><strong>Analytics Cookies:</strong> Help us understand how visitors interact with our website</li>
            <li><strong>Preference Cookies:</strong> Remember your settings and preferences</li>
          </ul>
          
          <h4>4. Managing Cookies</h4>
          <p>You can control and/or delete cookies as you wish through your browser settings. However, removing cookies may affect the functionality of our service.</p>
          
          <h4>5. Contact Us</h4>
          <p>If you have any questions about our use of cookies, please contact us at shivamdivakar3009@gmail.com</p>
        `;break;case"copyright":o="Copyright Policy",c=`
          <h3>Copyright Policy for StudyMates</h3>
          <p><strong>Effective Date:</strong> January 1, 2024</p>
          
          <h4>1. Respect for Copyright</h4>
          <p>StudyMates respects the intellectual property rights of others and expects users to do the same.</p>
          
          <h4>2. User Content</h4>
          <p>By uploading content to StudyMates, you represent that you own or have the necessary rights to share such content.</p>
          
          <h4>3. Copyright Infringement</h4>
          <p>If you believe that content on StudyMates infringes your copyright, please contact us immediately with details of the alleged infringement.</p>
          
          <h4>4. DMCA Compliance</h4>
          <p>We comply with the Digital Millennium Copyright Act (DMCA) and will respond to valid takedown notices.</p>
          
          <h4>5. Repeat Infringers</h4>
          <p>We reserve the right to terminate accounts of users who repeatedly infringe copyrights.</p>
          
          <h4>6. Contact for Copyright Issues</h4>
          <p>Report copyright infringement to: shivamdivakar3009@gmail.com</p>
        `;break;default:return}n({title:o,content:c}),t(!0)};return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"bg-gray-900 border-t border-gray-700",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg",children:s.jsx(ae,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"StudyMates"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Your Growth, Our Community. The ultimate learning platform for students to collaborate, share knowledge, and achieve academic excellence together."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-base sm:text-lg font-semibold text-white",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors text-sm",children:"Youtube Link"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors text-sm",children:"Github Repository"})}),s.jsx("li",{children:s.jsx("a",{href:"https://bolt.new/~/sb1-3ccy6qro",className:"text-gray-400 hover:text-blue-400 transition-colors text-sm",children:"Bolt Project URL"})}),s.jsx("li",{children:s.jsx("a",{href:"https://supabase.com/dashboard/project/dtbmhwgpzokkmhfawpdr/editor/23906?schema=public",className:"text-gray-400 hover:text-blue-400 transition-colors text-sm",children:"Supabase Link"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-base sm:text-lg font-semibold text-white",children:"Legal"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>i("privacy"),className:"text-gray-400 hover:text-blue-400 transition-colors text-sm text-left",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i("terms"),className:"text-gray-400 hover:text-blue-400 transition-colors text-sm text-left",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i("cookies"),className:"text-gray-400 hover:text-blue-400 transition-colors text-sm text-left",children:"Cookie Policy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i("copyright"),className:"text-gray-400 hover:text-blue-400 transition-colors text-sm text-left",children:"Copyright"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-base sm:text-lg font-semibold text-white",children:"Contact Us"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(fi,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["B/702 Star Premier 1,",s.jsx("br",{}),"Indralok Phase 5,",s.jsx("br",{}),"Mira-Bhayandar, ",s.jsx("br",{}),"Thane-401105, India"]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(sm,{className:"w-4 h-4 text-blue-400"}),s.jsx("a",{href:"tel:1234567890",className:"text-gray-400 hover:text-blue-400 transition-colors text-sm",children:"+91 1234567890"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qa,{className:"w-4 h-4 text-blue-400"}),s.jsx("a",{href:"mailto:srd@gmail.com",className:"text-gray-400 hover:text-blue-400 transition-colors text-sm",children:"shivamdivakar3009@gmail.com"})]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 mt-6 sm:mt-8 pt-6 sm:pt-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 StudyMates. All rights reserved."}),s.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-gray-400 hover:text-blue-400 transition-colors text-sm",children:[s.jsx(gf,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Top"})]})]})]})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 sm:p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:r.title}),s.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsx("div",{className:"text-gray-300 text-sm sm:text-base prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:r.content}}),s.jsx("button",{onClick:()=>t(!1),className:"w-full mt-6 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 rounded-xl transition-colors",children:"Close"})]})}),s.jsx("a",{href:"https://bolt.new/",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-4 right-4 z-50 hover:opacity-90 transition-opacity",children:s.jsx("img",{src:"/badgeBolt.png",alt:"Powered by Bolt.new",className:"h-12 w-auto"})})]})}function sy({currentView:e,onNavigate:t}){const r=[{id:"home",label:"Home",icon:jf},{id:"explore",label:"Search",icon:Ce},{id:"store",label:"Store",icon:Dt},{id:"chat",label:"Chat",icon:Yt},{id:"profile",label:"Profile",icon:V}];return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/90 backdrop-blur-sm border-t border-gray-700 px-2 py-2 md:hidden shadow-lg z-50",children:s.jsx("div",{className:"flex justify-around items-center",children:r.map(n=>s.jsxs("button",{onClick:()=>t(n.id),className:`flex flex-col items-center space-y-1 py-2 px-2 rounded-xl transition-all duration-200 min-w-0 flex-1 ${e===n.id?"text-blue-400 bg-gradient-to-t from-blue-900/50 to-transparent":"text-gray-400 hover:text-gray-300"}`,children:[s.jsx(n.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-xs font-medium truncate w-full text-center",children:n.label})]},n.id))})})}function ry({user:e,notes:t,flipCardSets:r,posts:n,recentActivities:a,onNavigate:i,onCreatePost:l,onDeleteActivity:o,onDeleteAllActivities:c}){const[d,u]=C.useState(!1),p=[{name:"Notes Uploaded",value:t.length,icon:de,color:"from-blue-500 to-blue-600",action:()=>i("notes")},{name:"Flip Card Sets",value:r.length,icon:ne,color:"from-purple-500 to-purple-600",action:()=>i("flipcards")},{name:"Study Sessions",value:12,icon:je,color:"from-green-500 to-green-600",action:()=>i("study-sessions")}],m=[{title:"Upload Notes",description:"Add your study materials and let AI help organize them",icon:vs,color:"from-blue-500 to-blue-600",action:()=>i("notes")},{title:"Create Flip Cards",description:"Generate AI-powered flashcards from your notes",icon:ne,color:"from-purple-500 to-purple-600",action:()=>i("flipcards")},{title:"Join Communities",description:"Connect with study groups and subject communities",icon:J,color:"from-teal-500 to-teal-600",action:()=>i("communities")},{title:"Watch Infovids",description:"Learn from educational videos and tutorials",icon:ke,color:"from-pink-500 to-pink-600",action:()=>i("reels")},{title:"Study Sessions",description:"Join or create collaborative study sessions",icon:je,color:"from-indigo-500 to-indigo-600",action:()=>i("study-sessions")}],y=` Join me on StudyMates - the ultimate learning platform for students! 

 Upload notes, create AI flashcards, and study together
 Connect with study partners in your area
 Make learning collaborative and fun

Join now: [Your Referral Link]

#StudyMates #Learning #Students`;return s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 rounded-2xl p-8 text-white mb-8 shadow-xl",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e.name,"! "]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Ready to supercharge your learning today?"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-all duration-200 backdrop-blur-sm",children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Invite Friends"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:p.map(f=>s.jsx("button",{onClick:f.action,className:"bg-gray-900 hover:bg-gray-800 rounded-2xl p-6 border border-gray-700 shadow-sm transition-all duration-200 text-left group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-400",children:f.name}),s.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:f.value})]}),s.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${f.color} shadow-lg group-hover:scale-110 transition-transform`,children:s.jsx(f.icon,{className:"w-6 h-6 text-white"})})]})},f.name))}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(f=>s.jsxs("button",{onClick:f.action,className:"bg-gray-900 hover:bg-gray-800 rounded-2xl p-6 border border-gray-700 shadow-sm transition-all duration-200 transform hover:scale-[1.02] text-left group",children:[s.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-r ${f.color} mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:s.jsx(f.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:f.title}),s.jsx("p",{className:"text-gray-400",children:f.description})]},f.title))})]}),s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Recent Activity"}),a.length>0&&s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:c,className:"text-sm text-red-400 hover:text-red-300 transition-colors",children:"Clear All"})})]}),s.jsxs("div",{className:"space-y-4",children:[a.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-shrink-0",children:[f.type==="note_upload"&&s.jsx(de,{className:"w-8 h-8 text-blue-400"}),f.type==="flipcard_create"&&s.jsx(ne,{className:"w-8 h-8 text-purple-400"}),f.type==="community_join"&&s.jsx(J,{className:"w-8 h-8 text-teal-400"}),f.type==="session_join"&&s.jsx(je,{className:"w-8 h-8 text-green-400"}),f.type==="course_purchase"&&s.jsx(ke,{className:"w-8 h-8 text-yellow-400"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-white",children:f.title}),s.jsx("p",{className:"text-sm text-gray-400",children:f.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-sm text-gray-500",children:new Date(f.timestamp).toLocaleDateString()}),s.jsx("button",{onClick:()=>o(f.id),className:"text-gray-400 hover:text-red-400 transition-colors",children:""})]})]},f.id)),a.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(de,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No recent activity. Start by uploading your first study material!"})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full shadow-2xl border border-gray-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Invite Friends to StudyMates"}),s.jsx("div",{className:"bg-gray-800 rounded-xl p-4 mb-6 border border-gray-700",children:s.jsx("textarea",{value:y,readOnly:!0,className:"w-full bg-transparent text-sm text-gray-300 resize-none border-none focus:outline-none",rows:8})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Close"}),s.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(y),u(!1)},className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-colors flex items-center justify-center space-x-2 shadow-lg",children:[s.jsx(sc,{className:"w-4 h-4"}),s.jsx("span",{children:"Copy & Share"})]})]})]})})]})})}const ny=({note:e,onClose:t,onDeleteNote:r})=>{var l;if(!e)return null;const n=o=>{switch(o){case"note":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400"}},a=()=>{const o=`${e.title}

${e.summary}

${e.content||""}`,c=new Blob([o],{type:"text/plain"}),d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download=`${e.title}.txt`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d)},i=()=>{const o=`${window.location.origin}/private/note/${e.id}`;navigator.clipboard.writeText(o),alert("Private link copied to clipboard!")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:o=>o.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(de,{className:"w-8 h-8 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsx("span",{className:"text-blue-400 font-medium",children:"Note Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.posterUrl||n("note"),alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.userProfilePicture?s.jsx("img",{src:e.userProfilePicture,alt:e.userName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Uploaded by ",e.userName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["on ",new Date(e.uploadDate).toLocaleDateString()]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600 max-h-96 overflow-y-auto custom-scrollbar",children:s.jsx("p",{className:"text-gray-300 whitespace-pre-wrap leading-relaxed",children:e.content||e.summary})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(l=e.tags)==null?void 0:l.map(o=>s.jsxs("span",{className:"bg-gray-700 text-gray-300 text-xs px-3 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Tr,{className:"w-3 h-3"}),s.jsx("span",{children:o})]},o))}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[s.jsxs("button",{onClick:a,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Xh,{className:"w-5 h-5"}),s.jsx("span",{children:"Download"})]}),!e.isPublic&&s.jsxs("button",{onClick:i,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),s.jsx("span",{children:"Copy Private Link"})]}),s.jsxs("button",{onClick:()=>r(e.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(at,{className:"w-5 h-5"}),s.jsx("span",{children:"Delete Note"})]})]})]})]})})};function ay({notes:e,onAddNote:t,onDeleteNote:r}){const[n,a]=C.useState(""),[i,l]=C.useState("all"),[o,c]=C.useState(!1),[d,u]=C.useState(null),[p,m]=C.useState({title:"",summary:"",tags:"",fileType:"pdf",content:"",isPublic:!1,thumbnailUrl:""}),y=e.filter(h=>{const x=h.title.toLowerCase().includes(n.toLowerCase())||h.summary.toLowerCase().includes(n.toLowerCase())||h.tags.some(N=>N.toLowerCase().includes(n.toLowerCase())),j=i==="all"||i==="public"&&h.isPublic||i==="private"&&!h.isPublic;return x&&j}),f=h=>{h.preventDefault();const x={title:p.title,summary:p.summary,content:p.content||"Sample note content...",tags:p.tags.split(",").map(j=>j.trim()).filter(Boolean),uploadDate:new Date().toISOString(),fileType:p.fileType,userId:"1",userName:"You",isPublic:p.isPublic,posterUrl:p.thumbnailUrl||void 0};t(x),m({title:"",summary:"",tags:"",fileType:"pdf",content:"",isPublic:!1,thumbnailUrl:""}),c(!1)},v=()=>{const h=document.createElement("input");h.type="file",h.accept=".pdf,.txt,.doc,.docx,.png,.jpg,.jpeg",h.onchange=x=>{var N;const j=(N=x.target.files)==null?void 0:N[0];j&&m(b=>({...b,title:j.name.split(".")[0],fileType:j.type.includes("image")?"image":j.type.includes("pdf")?"pdf":"text"}))},h.click()},k=()=>{const h=document.createElement("input");h.type="file",h.accept="image/*",h.onchange=x=>{var N;const j=(N=x.target.files)==null?void 0:N[0];if(j){const b=new FileReader;b.onload=S=>{m(w=>{var _;return{...w,thumbnailUrl:(_=S.target)==null?void 0:_.result}})},b.readAsDataURL(j)}},h.click()},g=h=>{switch(h){case"note":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400"}};return s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"My Notes"}),s.jsx("p",{className:"text-gray-400",children:"Organize and manage your study materials"})]}),s.jsxs("button",{onClick:()=>c(!0),className:"mt-4 sm:mt-0 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Upload Notes"})]})]}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),placeholder:"Search notes by title, content, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:i,onChange:h=>l(h.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Notes"}),s.jsx("option",{value:"public",children:"Public Notes"}),s.jsx("option",{value:"private",children:"Private Notes"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.map(h=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden",children:s.jsx("img",{src:h.posterUrl||g("note"),alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(de,{className:"w-5 h-5 text-blue-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-blue-400 transition-colors text-sm",children:h.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:x=>{x.preventDefault(),u(h)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:x=>{x.preventDefault(),r(h.id)},className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Delete Note",children:s.jsx(at,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:h.summary}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:h.userProfilePicture?s.jsx("img",{src:h.userProfilePicture,alt:h.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:h.userName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[h.isPublic?s.jsx(Ke,{className:"w-3 h-3 text-green-400"}):s.jsx(ve,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{children:h.isPublic?"Public":"Private"})]})]})]},h.id)),y.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(de,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:n?"No matching notes found":"No notes uploaded yet"}),s.jsx("p",{className:"text-gray-400 mb-6",children:n?"Try adjusting your search terms":"Upload your first study material to get started"}),!n&&s.jsxs("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl flex items-center space-x-2 mx-auto transition-colors shadow-lg",children:[s.jsx(vs,{className:"w-5 h-5"}),s.jsx("span",{children:"Upload Notes"})]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Upload New Notes"}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload File"}),s.jsxs("button",{type:"button",onClick:v,className:"w-full p-8 border-2 border-dashed border-gray-600 rounded-xl hover:border-blue-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-blue-400",children:[s.jsx(wf,{className:"w-8 h-8"}),s.jsx("span",{children:"Click to upload or drag and drop"}),s.jsx("span",{className:"text-sm",children:"PDF, DOC, TXT, or Image files"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Thumbnail Image (Optional)"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{type:"button",onClick:k,className:"flex-1 p-4 border-2 border-dashed border-gray-600 rounded-xl hover:border-blue-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-blue-400",children:[s.jsx(vs,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:"Upload Thumbnail"})]}),p.thumbnailUrl&&s.jsx("div",{className:"w-24 h-16 bg-gray-700 rounded-lg overflow-hidden",children:s.jsx("img",{src:p.thumbnailUrl,alt:"Thumbnail preview",className:"w-full h-full object-cover"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:p.title,onChange:h=>m(x=>({...x,title:h.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter note title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Summary"}),s.jsx("textarea",{value:p.summary,onChange:h=>m(x=>({...x,summary:h.target.value})),rows:3,className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Brief summary of the content",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:p.tags,onChange:h=>m(x=>({...x,tags:h.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"mathematics, calculus, chapter-1"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:p.isPublic,onChange:h=>m(x=>({...x,isPublic:h.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),s.jsxs("label",{htmlFor:"isPublic",className:"text-sm text-gray-300 flex items-center space-x-2",children:[p.isPublic?s.jsx(Ke,{className:"w-4 h-4"}):s.jsx(ve,{className:"w-4 h-4"}),s.jsxs("span",{children:["Make this note ",p.isPublic?"public":"private"]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-colors shadow-lg",children:"Upload"})]})]})]})}),d&&s.jsx(ny,{note:d,onClose:()=>u(null),onDeleteNote:r})]})})}const iy=({set:e,onClose:t,onDeleteSet:r})=>{var i;if(!e)return null;const n=l=>{switch(l){case"flipcard":return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400"}},a=()=>{const l=`${window.location.origin}/private/flipcard/${e.id}`;navigator.clipboard.writeText(l),alert("Private link copied to clipboard!")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:l=>l.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(ne,{className:"w-8 h-8 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsx("span",{className:"text-purple-400 font-medium",children:"Flip Card Set Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.posterUrl||n("flipcard"),alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.userProfilePicture?s.jsx("img",{src:e.userProfilePicture,alt:e.userName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Created by ",e.userName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["on ",new Date(e.createdDate).toLocaleDateString(),"  ",e.cards.length," cards"]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600 max-h-96 overflow-y-auto custom-scrollbar space-y-4",children:e.cards.map((l,o)=>s.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[s.jsxs("div",{className:"flex items-start space-x-3 mb-2",children:[s.jsx("span",{className:"flex-shrink-0 bg-purple-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center",children:"Q"}),s.jsx("p",{className:"text-gray-200 font-medium",children:l.question})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 bg-green-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center",children:"A"}),s.jsx("p",{className:"text-gray-400",children:l.answer})]})]},l.id))}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(i=e.tags)==null?void 0:i.map(l=>s.jsxs("span",{className:"bg-gray-700 text-gray-300 text-xs px-3 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Tr,{className:"w-3 h-3"}),s.jsx("span",{children:l})]},l))}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[s.jsxs("button",{onClick:()=>r(e.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(at,{className:"w-5 h-5"}),s.jsx("span",{children:"Delete Set"})]}),!e.isPublic&&s.jsxs("button",{onClick:a,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),s.jsx("span",{children:"Copy Private Link"})]}),s.jsxs("button",{className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(be,{className:"w-5 h-5"}),s.jsx("span",{children:"Start Study"})]})]})]})]})})};function ly({flipCardSets:e,notes:t,onCreateSet:r,onDeleteSet:n,showFilter:a=!0}){const[i,l]=C.useState(!1),[o,c]=C.useState(null),[d,u]=C.useState("all"),[p,m]=C.useState(""),[y,f]=C.useState("all"),[v,k]=C.useState(null),[g,h]=C.useState({title:"",noteId:"",isPublic:!1,manualCards:[{question:"",answer:""}],thumbnailUrl:""}),x=a?e.filter(P=>{switch(d){case"created":return P.userId==="1";case"saved":return P.userId!=="1";default:return!0}}):e,j=P=>{P.preventDefault();let q;if(g.noteId){const B=t.find(H=>H.id===g.noteId);q=[{id:"1",question:`What is the main topic of "${B==null?void 0:B.title}"?`,answer:(B==null?void 0:B.summary)||"Main concepts and key points"},{id:"2",question:"What are the key takeaways?",answer:"Important principles and applications covered in the material"},{id:"3",question:"How does this relate to other concepts?",answer:"Connections to broader topics and interdisciplinary applications"}]}else q=g.manualCards.filter(B=>B.question.trim()&&B.answer.trim()).map((B,H)=>({id:String(H+1),...B}));const M={title:g.title,cards:q,noteId:g.noteId||void 0,createdDate:new Date().toISOString(),userId:"1",userName:"You",isPublic:g.isPublic,posterUrl:g.thumbnailUrl||void 0};r(M),h({title:"",noteId:"",isPublic:!1,manualCards:[{question:"",answer:""}],thumbnailUrl:""}),l(!1)},N=()=>{h(P=>({...P,manualCards:[...P.manualCards,{question:"",answer:""}]}))},b=(P,q,M)=>{h(B=>({...B,manualCards:B.manualCards.map((H,I)=>I===P?{...H,[q]:M}:H)}))},S=()=>{const P=document.createElement("input");P.type="file",P.accept="image/*",P.onchange=q=>{var B;const M=(B=q.target.files)==null?void 0:B[0];if(M){const H=new FileReader;H.onload=I=>{h(U=>{var E;return{...U,thumbnailUrl:(E=I.target)==null?void 0:E.result}})},H.readAsDataURL(M)}},P.click()},w=P=>{c({setId:P,cardIndex:0,showAnswer:!1})},_=()=>{if(!o)return;const P=e.find(q=>q.id===o.setId);P&&(o.cardIndex<P.cards.length-1?c({...o,cardIndex:o.cardIndex+1,showAnswer:!1}):c(null))},D=o?e.find(P=>P.id===o.setId):null,O=D==null?void 0:D.cards[(o==null?void 0:o.cardIndex)||0],Q=P=>{switch(P){case"flipcard":return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400"}};return o&&D&&O?s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:D.title}),s.jsxs("p",{className:"text-gray-400",children:["Card ",o.cardIndex+1," of ",D.cards.length]})]}),s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 shadow-xl p-8 min-h-[400px] flex flex-col justify-center items-center text-center",children:[s.jsx("div",{className:"mb-8",children:o.showAnswer?s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-400 mb-4",children:"Answer"}),s.jsx("p",{className:"text-xl text-white",children:O.answer})]}):s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-400 mb-4",children:"Question"}),s.jsx("p",{className:"text-xl text-white",children:O.question})]})}),s.jsx("div",{className:"flex space-x-4",children:o.showAnswer?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:_,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl font-semibold transition-colors",children:o.cardIndex<D.cards.length-1?"Next Card":"Finish"}),s.jsx("button",{onClick:()=>c({...o,showAnswer:!1}),className:"bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-xl font-semibold transition-colors",children:"Review Question"})]}):s.jsxs("button",{onClick:()=>c({...o,showAnswer:!0}),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-semibold transition-colors flex items-center space-x-2",children:[s.jsx(_f,{className:"w-5 h-5"}),s.jsx("span",{children:"Reveal Answer"})]})})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-white font-medium transition-colors",children:"Exit Study Mode"})})]})}):s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"My Flip Card Sets"}),s.jsx("p",{className:"text-gray-400",children:"Create and study with AI-powered flashcards"})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[a&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:d,onChange:P=>u(P.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white text-sm",children:[s.jsx("option",{value:"all",children:"All Sets"}),s.jsx("option",{value:"created",children:"Created by Me"}),s.jsx("option",{value:"saved",children:"Saved Sets"})]})]}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Flip Cards"})]})]})]}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:p,onChange:P=>m(P.target.value),placeholder:"Search flip card sets by title, content, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:y,onChange:P=>f(P.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Create Flip Card Set"}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Thumbnail Image (Optional)"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{type:"button",onClick:S,className:"flex-1 p-4 border-2 border-dashed border-gray-600 rounded-xl hover:border-purple-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-purple-400",children:[s.jsx(vs,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:"Upload Thumbnail"})]}),g.thumbnailUrl&&s.jsx("div",{className:"w-24 h-16 bg-gray-700 rounded-lg overflow-hidden",children:s.jsx("img",{src:g.thumbnailUrl,alt:"Thumbnail preview",className:"w-full h-full object-cover"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Set Title"}),s.jsx("input",{type:"text",value:g.title,onChange:P=>h(q=>({...q,title:P.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter flip card set title",required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:g.isPublic,onChange:P=>h(q=>({...q,isPublic:P.target.checked})),className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500"}),s.jsxs("label",{htmlFor:"isPublic",className:"text-sm text-gray-300 flex items-center space-x-2",children:[g.isPublic?s.jsx(Ke,{className:"w-4 h-4"}):s.jsx(ve,{className:"w-4 h-4"}),s.jsxs("span",{children:["Make this flip card set ",g.isPublic?"public":"private"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Generation Method"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border border-gray-600 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx(nm,{className:"w-5 h-5 text-purple-400"}),s.jsx("span",{className:"font-medium text-white",children:"AI-Generated from Notes"})]}),s.jsxs("select",{value:g.noteId,onChange:P=>h(q=>({...q,noteId:P.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"",children:"Select a note to generate cards from"}),t.map(P=>s.jsx("option",{value:P.id,children:P.title},P.id))]})]}),g.noteId===""&&s.jsxs("div",{className:"border border-gray-600 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx(ne,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"font-medium text-white",children:"Manual Creation"})]}),g.manualCards.map((P,q)=>s.jsxs("div",{className:"space-y-3 mb-4 p-4 bg-gray-800 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Question ",q+1]}),s.jsx("input",{type:"text",value:P.question,onChange:M=>b(q,"question",M.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter question"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Answer ",q+1]}),s.jsx("textarea",{value:P.answer,onChange:M=>b(q,"answer",M.target.value),rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter answer"})]})]},q)),s.jsxs("button",{type:"button",onClick:N,className:"text-purple-400 hover:text-purple-300 font-medium flex items-center space-x-2 transition-colors",children:[s.jsx(tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Another Card"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white px-6 py-3 rounded-xl transition-colors shadow-lg",children:"Create Cards"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.map(P=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden",children:s.jsx("img",{src:P.posterUrl||Q("flipcard"),alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ne,{className:"w-5 h-5 text-purple-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-purple-400 transition-colors text-sm",children:P.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:q=>{q.preventDefault(),k(P)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Preview Set",children:s.jsx(ye,{className:"w-4 h-4"})}),P.userId==="1"&&s.jsx("button",{onClick:q=>{q.preventDefault(),n(P.id)},className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Delete Set",children:s.jsx(at,{className:"w-4 h-4"})})]})]}),s.jsxs("p",{className:"text-gray-400 text-xs mb-3",children:[P.cards.length," cards"]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full",children:P.userProfilePicture?s.jsx("img",{src:P.userProfilePicture,alt:P.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:P.userName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[P.isPublic?s.jsx(Ke,{className:"w-3 h-3 text-green-400"}):s.jsx(ve,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{children:P.isPublic?"Public":"Private"})]})]}),s.jsxs("button",{onClick:()=>w(P.id),className:"w-full bg-purple-900/50 hover:bg-purple-800/50 text-purple-400 py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[s.jsx(be,{className:"w-4 h-4"}),s.jsx("span",{children:"Start Studying"})]})]},P.id)),x.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ne,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:d==="created"?"No created flip card sets yet":d==="saved"?"No saved flip card sets yet":"No flip card sets yet"}),s.jsx("p",{className:"text-gray-400 mb-6",children:d==="created"?"Create your first set of AI-powered flashcards":d==="saved"?"Save flip card sets from the community":"Create your first set of AI-powered flashcards"}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white px-6 py-3 rounded-xl flex items-center space-x-2 mx-auto transition-colors shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Flip Cards"})]})]})]}),v&&s.jsx(iy,{set:v,onClose:()=>k(null),onDeleteSet:n})]})})}function oy({isOpen:e,onClose:t,type:r,users:n,currentUser:a,onFollowToggle:i}){const[l,o]=C.useState("");if(!e)return null;const c=n.filter(d=>d.name.toLowerCase().includes(l.toLowerCase())||d.email.toLowerCase().includes(l.toLowerCase()));return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:r==="followers"?"Followers":"Following"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",value:l,onChange:d=>o(d.target.value),placeholder:`Search ${r}...`,className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})}),s.jsx("div",{className:"space-y-4",children:c.length>0?c.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-xl",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl",children:d.profilePicture?s.jsx("img",{src:d.profilePicture,alt:d.name,className:"w-10 h-10 rounded-xl object-cover"}):s.jsx(V,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:d.name}),s.jsx("p",{className:"text-sm text-gray-400",children:d.email})]})]}),r==="followers"?d.isFollowing?s.jsxs("button",{onClick:()=>i(d.id,"unfollow"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[s.jsx(rc,{className:"w-4 h-4"}),s.jsx("span",{children:"Following"})]}):s.jsxs("button",{onClick:()=>i(d.id,"followback"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsx("span",{children:"Follow Back"})]}):s.jsxs("button",{onClick:()=>i(d.id,"unfollow"),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[s.jsx(If,{className:"w-4 h-4"}),s.jsx("span",{children:"Unfollow"})]})]},d.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(V,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:l?`No ${r} found matching "${l}"`:`No ${r==="followers"?"followers":"following"} yet`})]})})]})})}function cy({user:e,notes:t,flipCardSets:r,purchases:n,recentActivities:a,savedCommunities:i,savedSessions:l,savedInfovids:o,savedCourses:c,followers:d,following:u,onUpdateProfile:p,onDeleteActivity:m,onDeleteAllActivities:y,onNavigate:f,onFollowUser:v,onUnfollowUser:k,onFollowBack:g}){const[h,x]=C.useState(!1),[j,N]=C.useState(!1),[b,S]=C.useState(!1),[w,_]=C.useState("followers"),[D,O]=C.useState({name:e.name,bio:e.bio||"",education:e.education||"",location:e.location||"",profileVisibility:e.profileVisibility}),Q=r.reduce((T,X)=>T+X.cards.length,0),P=t.filter(T=>T.userId===e.id),q=r.filter(T=>T.userId===e.id),M=i.filter(T=>T.creatorId===e.id),B=i.filter(T=>T.creatorId!==e.id&&T.isMember),H=[...M,...B],I=l.filter(T=>T.hostId===e.id),U=l.filter(T=>T.hostId!==e.id),E=[...I,...U],Y=o.filter(T=>T.creatorId===e.id),G=o.filter(T=>T.creatorId!==e.id),mt=[...Y,...G],pt=c.filter(T=>T.instructorId===e.id),Ss=n,re=[...pt,...Ss],At=P.slice(0,2),te=q.slice(0,2),An=H.slice(0,2),$n=E.slice(0,2),Un=mt.slice(0,2),On=re.slice(0,2),Ir=[{name:"First Steps",description:"Created your first account",icon:Tf,earned:!0},{name:"Note Taker",description:"Uploaded your first note",icon:de,earned:P.length>0},{name:"Card Creator",description:"Created your first flip card set",icon:ne,earned:q.length>0},{name:"Study Streak",description:"Study for 7 days in a row",icon:Df,earned:!1},{name:"Social Learner",description:"Connect with 5 study partners",icon:J,earned:e.followers>=5},{name:"Knowledge Sharer",description:"Upload 10 notes",icon:de,earned:P.length>=10},{name:"Card Master",description:"Create 5 flip card sets",icon:ne,earned:q.length>=5},{name:"Course Collector",description:"Purchase your first course",icon:Dt,earned:n.length>0},{name:"Community Builder",description:"Join 3 communities",icon:J,earned:H.length>=3},{name:"Session Host",description:"Host your first study session",icon:ke,earned:I.length>0}],ki=j?Ir:Ir.slice(0,4),Rn=()=>{p&&p(D),x(!1)},Fn=()=>{const T=document.createElement("input");T.type="file",T.accept="image/*",T.onchange=X=>{var $t;const kt=($t=X.target.files)==null?void 0:$t[0];if(kt){const Ws=new FileReader;Ws.onload=_i=>{var zn;p&&p({profilePicture:(zn=_i.target)==null?void 0:zn.result})},Ws.readAsDataURL(kt)}},T.click()},Si=()=>{_("followers"),S(!0)},Ci=()=>{_("following"),S(!0)},Mr=(T,X)=>{const kt=w==="followers"?d.find($t=>$t.id===T):u.find($t=>$t.id===T);kt&&(X==="follow"?v(kt):X==="unfollow"?k(kt):X==="followback"&&g(kt))};return s.jsxs("div",{className:"min-h-screen bg-gray-950 relative",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((T,X)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${X%4===0?"text-blue-400":X%4===1?"text-purple-400":X%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:X%4===0?s.jsx(de,{}):X%4===1?s.jsx(ne,{}):X%4===2?s.jsx(J,{}):s.jsx(ke,{})},X))]}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 rounded-2xl p-8 text-white mb-8 shadow-xl",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-6 md:space-y-0 md:space-x-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-center justify-center w-24 h-24 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm shadow-lg",children:e.profilePicture?s.jsx("img",{src:e.profilePicture,alt:e.name,className:"w-24 h-24 rounded-2xl object-cover"}):s.jsx(V,{className:"w-12 h-12 text-white"})}),s.jsx("button",{onClick:Fn,className:"absolute -bottom-2 -right-2 p-2 bg-white text-gray-600 rounded-xl shadow-lg hover:bg-gray-50 transition-colors",children:s.jsx(yf,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex-1",children:h?s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",value:D.name,onChange:T=>O(X=>({...X,name:T.target.value})),className:"text-2xl font-bold bg-white bg-opacity-20 text-white placeholder-blue-100 border border-white border-opacity-30 rounded-xl px-4 py-2 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",placeholder:"Your name"}),s.jsx("textarea",{value:D.bio,onChange:T=>O(X=>({...X,bio:T.target.value})),className:"w-full bg-white bg-opacity-20 text-white placeholder-blue-100 border border-white border-opacity-30 rounded-xl px-4 py-2 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 resize-none",placeholder:"Tell us about yourself...",rows:3}),s.jsx("input",{type:"text",value:D.education,onChange:T=>O(X=>({...X,education:T.target.value})),className:"w-full bg-white bg-opacity-20 text-white placeholder-blue-100 border border-white border-opacity-30 rounded-xl px-4 py-2 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",placeholder:"Your education (e.g., Computer Science at MIT)"}),s.jsx("input",{type:"text",value:D.location,onChange:T=>O(X=>({...X,location:T.target.value})),className:"w-full bg-white bg-opacity-20 text-white placeholder-blue-100 border border-white border-opacity-30 rounded-xl px-4 py-2 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",placeholder:"Your location"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"text-white font-medium",children:"Profile Visibility:"}),s.jsxs("select",{value:D.profileVisibility,onChange:T=>O(X=>({...X,profileVisibility:T.target.value})),className:"bg-white bg-opacity-20 text-white border border-white border-opacity-30 rounded-xl px-4 py-2 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",children:[s.jsx("option",{value:"public",className:"text-gray-900",children:"Public"}),s.jsx("option",{value:"private",className:"text-gray-900",children:"Private"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:Rn,className:"bg-white text-blue-600 px-4 py-2 rounded-xl font-medium hover:bg-blue-50 transition-colors",children:"Save Changes"}),s.jsx("button",{onClick:()=>x(!1),className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-xl font-medium hover:bg-opacity-30 transition-colors",children:"Cancel"})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsx("h1",{className:"text-3xl font-bold",children:e.name}),s.jsx("button",{onClick:()=>x(!0),className:"p-2 bg-white bg-opacity-20 rounded-xl hover:bg-opacity-30 transition-colors",children:s.jsx(Sf,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-1 text-blue-100",children:[e.profileVisibility==="public"?s.jsx(ye,{className:"w-4 h-4"}):s.jsx(em,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e.profileVisibility})]})]}),s.jsx("p",{className:"text-blue-100 text-lg mb-2",children:e.email}),e.education&&s.jsxs("div",{className:"flex items-center space-x-2 text-blue-100 mb-2",children:[s.jsx(fs,{className:"w-4 h-4"}),s.jsx("span",{children:e.education})]}),e.location&&s.jsxs("div",{className:"flex items-center space-x-2 text-blue-100 mb-2",children:[s.jsx(fi,{className:"w-4 h-4"}),s.jsx("span",{children:e.location})]}),e.bio&&s.jsx("p",{className:"text-blue-100 mb-4",children:e.bio}),s.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[s.jsxs("button",{onClick:Si,className:"text-center hover:bg-white hover:bg-opacity-10 rounded-lg p-2 transition-colors",children:[s.jsx("p",{className:"text-2xl font-bold",children:d.length}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Followers"})]}),s.jsxs("button",{onClick:Ci,className:"text-center hover:bg-white hover:bg-opacity-10 rounded-lg p-2 transition-colors",children:[s.jsx("p",{className:"text-2xl font-bold",children:u.length}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Following"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{className:"w-4 h-4"}),s.jsxs("span",{children:["Member since ",new Date(e.joinDate).toLocaleDateString()]})]})]})})]})}),s.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-gray-700 p-4 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsx("a",{href:"#stats",className:"text-blue-400 hover:text-blue-300 transition-colors duration-300 text-sm font-medium hover:underline",onClick:T=>{var X;T.preventDefault(),(X=document.getElementById("stats"))==null||X.scrollIntoView({behavior:"smooth",block:"start"})},children:"Stats & Achievements"}),s.jsx("span",{className:"text-gray-600",children:""}),s.jsx("a",{href:"#content",className:"text-blue-400 hover:text-blue-300 transition-colors duration-300 text-sm font-medium hover:underline",onClick:T=>{var X;T.preventDefault(),(X=document.getElementById("content"))==null||X.scrollIntoView({behavior:"smooth",block:"start"})},children:"My Content"}),s.jsx("span",{className:"text-gray-600",children:""}),s.jsx("a",{href:"#activity",className:"text-blue-400 hover:text-blue-300 transition-colors duration-300 text-sm font-medium hover:underline",onClick:T=>{var X;T.preventDefault(),(X=document.getElementById("activity"))==null||X.scrollIntoView({behavior:"smooth",block:"start"})},children:"Recent Activity"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{id:"stats",className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Study Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Notes Uploaded"}),s.jsx("span",{className:"font-semibold text-white",children:P.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Flip Card Sets"}),s.jsx("span",{className:"font-semibold text-white",children:q.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Total Cards"}),s.jsx("span",{className:"font-semibold text-white",children:Q})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Courses Purchased"}),s.jsx("span",{className:"font-semibold text-white",children:n.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Communities"}),s.jsx("span",{className:"font-semibold text-white",children:H.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Study Sessions"}),s.jsx("span",{className:"font-semibold text-white",children:E.length})]})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[s.jsx(Lf,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{children:"Achievements"})]}),Ir.length>4&&s.jsx("button",{onClick:()=>N(!j),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:j?"Show Less":"View All"})]}),s.jsx("div",{className:"space-y-3",children:ki.map(T=>s.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl transition-all duration-200 ${T.earned?"bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-700":"bg-gray-800 border border-gray-700"}`,children:[s.jsx("div",{className:`p-2 rounded-lg ${T.earned?"bg-green-800":"bg-gray-700"}`,children:s.jsx(T.icon,{className:`w-4 h-4 ${T.earned?"text-green-400":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${T.earned?"text-green-300":"text-gray-500"}`,children:T.name}),s.jsx("p",{className:`text-sm ${T.earned?"text-green-400":"text-gray-600"}`,children:T.description})]})]},T.name))})]})]}),s.jsxs("div",{id:"content",className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"My Notes"}),s.jsxs("button",{onClick:()=>f("notes"),className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"Manage"}),s.jsx(Pt,{className:"w-4 h-4"})]})]}),At.length>0?s.jsx("div",{className:"space-y-3",children:At.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(de,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:T.title}),s.jsx("p",{className:"text-xs text-gray-400 line-clamp-1",children:T.summary})]})]},T.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(de,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No notes yet"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"My Flip Card Sets"}),s.jsxs("button",{onClick:()=>f("flipcards"),className:"text-purple-400 hover:text-purple-300 transition-colors flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"Manage"}),s.jsx(Pt,{className:"w-4 h-4"})]})]}),te.length>0?s.jsx("div",{className:"space-y-3",children:te.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(ne,{className:"w-5 h-5 text-purple-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:T.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:[T.cards.length," cards"]})]})]},T.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(ne,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No flip card sets yet"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"My Communities"}),s.jsxs("button",{onClick:()=>f("communities"),className:"text-teal-400 hover:text-teal-300 transition-colors flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"Manage"}),s.jsx(Pt,{className:"w-4 h-4"})]})]}),An.length>0?s.jsx("div",{className:"space-y-3",children:An.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(J,{className:"w-5 h-5 text-teal-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:T.name}),s.jsxs("p",{className:"text-xs text-gray-400",children:[T.memberCount," members",T.creatorId===e.id&&s.jsx("span",{className:"text-teal-400 ml-2",children:"(Created)"})]})]})]},T.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(J,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No communities joined yet"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"My Study Sessions"}),s.jsxs("button",{onClick:()=>f("study-sessions"),className:"text-green-400 hover:text-green-300 transition-colors flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"Manage"}),s.jsx(Pt,{className:"w-4 h-4"})]})]}),$n.length>0?s.jsx("div",{className:"space-y-3",children:$n.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(je,{className:"w-5 h-5 text-green-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:T.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:[T.subject,T.hostId===e.id&&s.jsx("span",{className:"text-green-400 ml-2",children:"(Hosted)"})]})]})]},T.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(je,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No study sessions yet"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"My Infovids"}),s.jsxs("button",{onClick:()=>f("infovids"),className:"text-pink-400 hover:text-pink-300 transition-colors flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"Manage"}),s.jsx(Pt,{className:"w-4 h-4"})]})]}),Un.length>0?s.jsx("div",{className:"space-y-3",children:Un.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(ke,{className:"w-5 h-5 text-pink-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:T.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:[T.subject,T.creatorId===e.id&&s.jsx("span",{className:"text-pink-400 ml-2",children:"(Created)"})]})]})]},T.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(ke,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No infovids saved yet"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"My Store"}),s.jsxs("button",{onClick:()=>f("my-store"),className:"text-yellow-400 hover:text-yellow-300 transition-colors flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"Manage"}),s.jsx(Pt,{className:"w-4 h-4"})]})]}),On.length>0?s.jsx("div",{className:"space-y-3",children:On.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(Dt,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:T.courseName||T.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:["$",T.amount||T.price,T.courseName?" (Purchased)":T.instructorId===e.id?" (Created)":""]})]})]},T.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Dt,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No courses purchased yet"})]})]})]}),s.jsxs("div",{id:"activity",className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Activity"}),a.length>0&&s.jsx("button",{onClick:y,className:"text-sm text-red-400 hover:text-red-300 transition-colors",children:"Clear All"})]}),a.length>0?s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.slice(0,10).map(T=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-shrink-0",children:[T.type==="note_upload"&&s.jsx(de,{className:"w-6 h-6 text-blue-400"}),T.type==="note_save"&&s.jsx(de,{className:"w-6 h-6 text-blue-400"}),T.type==="flipcard_create"&&s.jsx(ne,{className:"w-6 h-6 text-purple-400"}),T.type==="flipcard_save"&&s.jsx(ne,{className:"w-6 h-6 text-purple-400"}),T.type==="community_join"&&s.jsx(J,{className:"w-6 h-6 text-teal-400"}),T.type==="session_join"&&s.jsx(je,{className:"w-6 h-6 text-green-400"}),T.type==="course_purchase"&&s.jsx(Dt,{className:"w-6 h-6 text-yellow-400"}),T.type==="infovid_save"&&s.jsx(ke,{className:"w-6 h-6 text-pink-400"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white",children:T.title}),s.jsx("p",{className:"text-sm text-gray-400",children:T.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-sm text-gray-500",children:new Date(T.timestamp).toLocaleDateString()}),s.jsx("button",{onClick:()=>m(T.id),className:"p-1 text-gray-400 hover:text-red-400 transition-colors",children:s.jsx(at,{className:"w-4 h-4"})})]})]},T.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(je,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No recent activity"})]})]})]})]})]}),s.jsx(oy,{isOpen:b,onClose:()=>S(!1),type:w,users:w==="followers"?d:u,currentUser:e,onFollowToggle:Mr}),s.jsx("style",{jsx:!0,children:`
        @keyframes float-slow {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        .animate-float-slow {
          animation: float-slow 6s ease-in-out infinite;
        }
      `})]})}const da=()=>s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((e,t)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${t%4===0?"text-blue-400":t%4===1?"text-purple-400":t%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:t%4===0?s.jsx(Yt,{}):t%4===1?s.jsx(J,{}):t%4===2?s.jsx(V,{}):s.jsx(Sr,{})},t)),s.jsx("style",{jsx:!0,children:`
      @keyframes float-slow {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(180deg); }
      }
      .animate-float-slow {
        animation: float-slow 6s ease-in-out infinite;
      }
    `})]}),dy=({otherParticipant:e,onBack:t})=>s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-gray-700 p-4 flex items-center space-x-4 rounded-t-2xl shadow-sm",children:[s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded-xl transition-all duration-200 md:hidden",children:s.jsx(pi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-teal-500 rounded-xl shadow-sm overflow-hidden",children:e!=null&&e.profilePicture?s.jsx("img",{src:e.profilePicture,alt:e.name,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-white",children:(e==null?void 0:e.name)||"Unknown User"}),s.jsx("p",{className:"text-sm text-green-400",children:"Online"})]})]})]}),uy=({message:e,isCurrentUser:t})=>s.jsx("div",{className:`flex ${t?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${t?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"bg-gray-800/80 backdrop-blur-sm text-gray-100 shadow-sm border border-gray-700"}`,children:[s.jsx("p",{className:"text-sm",children:e.content}),e.attachedResource&&s.jsx("div",{className:`mt-3 p-3 rounded-xl border ${t?"bg-white bg-opacity-20 border-white border-opacity-30":"bg-gray-700 border-gray-600"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`p-1 rounded ${t?"bg-white bg-opacity-30":"bg-blue-600"}`,children:e.attachedResource.type==="note"?s.jsx(de,{className:"w-3 h-3 text-white"}):s.jsx(ae,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:`text-xs font-medium ${t?"text-white":"text-gray-200"}`,children:e.attachedResource.title})]})}),s.jsx("p",{className:`text-xs mt-2 ${t?"text-blue-100":"text-gray-400"}`,children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),Ud=({notes:e,flipCardSets:t,onAttach:r,onClose:n})=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto shadow-2xl border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Share Resource"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-3",children:"My Notes"}),s.jsx("div",{className:"space-y-2",children:e.length>0?e.map(a=>s.jsxs("button",{onClick:()=>r(a,"note"),className:"w-full p-3 text-left bg-gray-800 hover:bg-gray-700 rounded-xl transition-colors border border-gray-700",children:[s.jsx("p",{className:"font-medium text-white",children:a.title}),s.jsx("p",{className:"text-sm text-gray-400",children:a.summary})]},a.id)):s.jsx("p",{className:"text-gray-500 text-sm",children:"No notes available."})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-3",children:"My Flip Cards"}),s.jsx("div",{className:"space-y-2",children:t.length>0?t.map(a=>s.jsxs("button",{onClick:()=>r(a,"flipcard"),className:"w-full p-3 text-left bg-gray-800 hover:bg-gray-700 rounded-xl transition-colors border border-gray-700",children:[s.jsx("p",{className:"font-medium text-white",children:a.title}),s.jsxs("p",{className:"text-sm text-gray-400",children:[a.cards.length," cards"]})]},a.id)):s.jsx("p",{className:"text-gray-500 text-sm",children:"No flip cards available."})})]})]}),s.jsx("button",{onClick:n,className:"w-full mt-6 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"})]})}),hy=()=>s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Messages"}),s.jsx("p",{className:"text-gray-400",children:"Connect with study partners and communities"})]})}),my=({followingUsers:e,onCreateChat:t,onSelectChat:r,chats:n,user:a,searchQuery:i,onSearchChange:l})=>{const o=u=>{const p=n.find(m=>m.participants.length===2&&m.participants.some(y=>y.id===a.id)&&m.participants.some(y=>y.id===u));return p?p.id:null},c=u=>{const p=o(u.id);p?r(p):t(u.id)},d=e.filter(u=>u.name.toLowerCase().includes(i.toLowerCase())||u.email.toLowerCase().includes(i.toLowerCase()));return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search people...",value:i,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]})}),e.length>0||n.filter(u=>u.type==="private").length>0?s.jsxs("div",{className:"space-y-4",children:[n.filter(u=>u.type==="private").length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-white mb-3",children:"Your Private Chats"}),n.filter(u=>u.type==="private").map(u=>{const p=u.participants.find(m=>m.id!==a.id);return p?s.jsxs("button",{onClick:()=>r(u.id),className:"w-full p-4 text-left hover:bg-gray-800/50 transition-all duration-200 flex items-center space-x-4 rounded-xl border border-gray-700 mb-2",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-teal-500 rounded-xl shadow-sm overflow-hidden",children:p.profilePicture?s.jsx("img",{src:p.profilePicture,alt:p.name,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-white",children:p.name}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:u.messages&&u.messages.length>0?u.messages[u.messages.length-1].content:"No messages yet"})]})]},u.id):null})]}),s.jsx("h4",{className:"font-semibold text-white mb-3 mt-8",children:"People you follow or who follow you:"}),d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(u=>s.jsxs("button",{onClick:()=>c(u),className:"w-full p-4 text-left hover:bg-gray-800/50 transition-all duration-200 flex items-center space-x-4 rounded-xl border border-gray-700",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-teal-500 rounded-xl shadow-sm overflow-hidden",children:u.profilePicture?s.jsx("img",{src:u.profilePicture,alt:u.name,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-white",children:u.name}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:u.email})]})]},u.id))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No users found matching your search."})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No conversations or users yet"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Start chatting by finding study partners or joining communities."})]})]})},py=({communities:e,onCommunityClick:t,searchQuery:r,onSearchChange:n})=>{const a=e.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())||i.description.toLowerCase().includes(r.toLowerCase()));return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search communities...",value:r,onChange:i=>n(i.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]})}),a.length>0?s.jsx("div",{className:"space-y-4",children:a.map(i=>s.jsxs("button",{onClick:()=>t(i),className:"w-full p-4 text-left hover:bg-gray-800/50 transition-all duration-200 flex items-center space-x-4 rounded-xl border border-gray-700",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-teal-500 to-blue-500 rounded-xl shadow-sm",children:s.jsx(J,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-white",children:i.name}),s.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[i.memberCount," members"]})]})]},i.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(J,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No communities found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search or join communities to start group discussions"})]})]})};function fy({user:e,chats:t,notes:r,flipCardSets:n,communities:a,onSendMessage:i,onCreateChat:l}){const[o,c]=C.useState(null),[d,u]=C.useState(null),[p,m]=C.useState(""),[y,f]=C.useState(!1),[v,k]=C.useState("people"),[g,h]=C.useState(""),[x,j]=C.useState(""),N=[{id:"2",name:"Sarah Johnson",email:"sarah@example.com",profilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",followers:156,following:89,profileVisibility:"public",joinDate:"2024-01-10T00:00:00Z"},{id:"3",name:"Mike Chen",email:"mike@example.com",followers:203,following:145,profileVisibility:"public",joinDate:"2024-01-05T00:00:00Z"},{id:"4",name:"Emma Davis",email:"emma@example.com",profilePicture:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150",followers:89,following:67,profileVisibility:"public",joinDate:"2024-01-15T00:00:00Z"}],b=C.useRef(null);C.useEffect(()=>{var P;(P=b.current)==null||P.scrollIntoView({behavior:"smooth"})},[o,t]);const S=t.find(P=>P.id===o),w=S==null?void 0:S.participants.find(P=>P.id!==e.id),_=P=>{P.preventDefault(),p.trim()&&(o||d)&&(o?i(o,p.trim()):d&&console.log("Sending message to community:",d.id,p.trim()),m(""))},D=(P,q)=>{o?(i(o,`Shared ${q}: ${P.title}`,{id:P.id,title:P.title,type:q}),f(!1)):d&&(console.log("Sharing resource to community:",d.id,P),f(!1))},O=P=>{u(P),c(null)},Q=P=>{c(P),u(null)};return d?s.jsxs("div",{className:"min-h-screen bg-gray-950 relative flex flex-col",children:[s.jsx(da,{}),s.jsxs("div",{className:"max-w-4xl mx-auto h-[calc(100vh-2rem)] flex flex-col relative z-10 w-full rounded-2xl shadow-xl border border-gray-700 overflow-hidden my-4",children:[s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-gray-700 p-4 flex items-center space-x-4 rounded-t-2xl shadow-sm",children:[s.jsx("button",{onClick:()=>u(null),className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded-xl transition-all duration-200 md:hidden",children:s.jsx(pi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-teal-500 to-blue-500 rounded-xl shadow-sm",children:s.jsx(J,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-white",children:d.name}),s.jsxs("p",{className:"text-sm text-green-400",children:[d.memberCount," members"]})]})]})]}),s.jsx("div",{className:"flex-1 bg-gray-950/80 backdrop-blur-sm p-4 overflow-y-auto custom-scrollbar",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-3 rounded-2xl bg-gray-800/80 backdrop-blur-sm text-gray-100 shadow-sm border border-gray-700",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-1",children:s.jsx("span",{className:"text-xs font-medium text-blue-400",children:"Sarah Johnson"})}),s.jsx("p",{className:"text-sm",children:"Hey everyone! I just uploaded some calculus notes. Check them out!"}),s.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"2:30 PM"})]})}),s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-3 rounded-2xl bg-gray-800/80 backdrop-blur-sm text-gray-100 shadow-sm border border-gray-700",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-1",children:s.jsx("span",{className:"text-xs font-medium text-purple-400",children:"Mike Chen"})}),s.jsx("p",{className:"text-sm",children:"Thanks Sarah! Those will be really helpful for the upcoming exam."}),s.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"2:32 PM"})]})}),s.jsx("div",{ref:b})]})}),s.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-t border-gray-700 p-4 rounded-b-2xl shadow-sm",children:s.jsxs("form",{onSubmit:_,className:"flex items-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>f(!0),className:"p-3 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded-xl transition-all duration-200 flex-shrink-0",children:s.jsx(bd,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1",children:s.jsx("textarea",{value:p,onChange:P=>m(P.target.value),placeholder:`Message ${d.name}...`,className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none text-white placeholder-gray-400",rows:1,onKeyPress:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),_(P))}})}),s.jsx("button",{type:"submit",disabled:!p.trim(),className:"p-3 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 disabled:from-gray-600 disabled:to-gray-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105 disabled:transform-none disabled:cursor-not-allowed shadow-lg flex-shrink-0",children:s.jsx(Sr,{className:"w-5 h-5"})})]})}),y&&s.jsx(Ud,{notes:r,flipCardSets:n,onAttach:D,onClose:()=>f(!1)})]})]}):o?S?s.jsxs("div",{className:"min-h-screen bg-gray-950 relative flex flex-col",children:[s.jsx(da,{}),s.jsxs("div",{className:"max-w-4xl mx-auto h-[calc(100vh-2rem)] flex flex-col relative z-10 w-full rounded-2xl shadow-xl border border-gray-700 overflow-hidden my-4",children:[s.jsx(dy,{otherParticipant:w,onBack:()=>c(null)}),s.jsx("div",{className:"flex-1 bg-gray-950/80 backdrop-blur-sm p-4 overflow-y-auto custom-scrollbar",children:s.jsxs("div",{className:"space-y-4",children:[S.messages&&S.messages.length>0?S.messages.map(P=>s.jsx(uy,{message:P,isCurrentUser:P.senderId===e.id},P.id)):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Pf,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("p",{children:"No messages yet. Start the conversation!"})]}),s.jsx("div",{ref:b})]})}),s.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-t border-gray-700 p-4 rounded-b-2xl shadow-sm",children:s.jsxs("form",{onSubmit:_,className:"flex items-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>f(!0),className:"p-3 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded-xl transition-all duration-200 flex-shrink-0",children:s.jsx(bd,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1",children:s.jsx("textarea",{value:p,onChange:P=>m(P.target.value),placeholder:"Type your message...",className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none text-white placeholder-gray-400",rows:1,onKeyPress:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),_(P))}})}),s.jsx("button",{type:"submit",disabled:!p.trim(),className:"p-3 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 disabled:from-gray-600 disabled:to-gray-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105 disabled:transform-none disabled:cursor-not-allowed shadow-lg flex-shrink-0",children:s.jsx(Sr,{className:"w-5 h-5"})})]})}),y&&s.jsx(Ud,{notes:r,flipCardSets:n,onAttach:D,onClose:()=>f(!1)})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-950 relative flex items-center justify-center",children:[s.jsx(da,{}),s.jsxs("div",{className:"p-8 text-center text-white relative z-10",children:[s.jsx(Yt,{className:"w-20 h-20 mx-auto mb-4 text-blue-400 animate-pulse"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Loading chat..."}),s.jsx("p",{className:"text-gray-400",children:"Please wait while we fetch the conversation."}),s.jsx("button",{onClick:()=>c(null),className:"mt-6 px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors",children:"Go back to chats"})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-950 relative flex flex-col",children:[s.jsx(da,{}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10 w-full",children:[s.jsx(hy,{}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-gray-700",children:[s.jsxs("div",{className:"flex border-b border-gray-700",children:[s.jsx("button",{onClick:()=>k("people"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors ${v==="people"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"People"}),s.jsx("button",{onClick:()=>k("communities"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors ${v==="communities"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Communities"})]}),s.jsx("div",{className:"p-6 max-h-[calc(100vh-250px)] overflow-y-auto custom-scrollbar",children:v==="people"?s.jsx(my,{followingUsers:N,onCreateChat:l,onSelectChat:Q,chats:t,user:e,searchQuery:g,onSearchChange:h}):s.jsx(py,{communities:a,onCommunityClick:O,searchQuery:x,onSearchChange:j})})]})]}),s.jsx("style",{jsx:!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #1a202c;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: #4a5568;
          border-radius: 10px;
          border: 2px solid #1a202c;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: #6366f1;
        }
      `})]})}const xy=({user:e,onClose:t,onFollowToggle:r,currentUser:n,isLoggedIn:a,onSaveNote:i,onSaveFlipCard:l,onJoinCommunity:o,onPurchaseCourse:c})=>{if(!e)return null;const d=[{id:"1",title:"Introduction to Calculus",subject:"Mathematics"},{id:"2",title:"Quantum Physics Basics",subject:"Physics"}],u=[{id:"1",title:"Calculus Formulas",cards:12},{id:"2",title:"Physics Equations",cards:8}],p=[{id:"1",name:"Mathematics Hub",members:1247},{id:"2",name:"Physics Phenomena",members:634}],m=[{id:"1",title:"Advanced Calculus",price:49.99},{id:"2",title:"Quantum Mechanics",price:59.99}],y=e.profileVisibility==="private",f=h=>{a?i(h):alert("Please log in to save notes")},v=h=>{a?l(h):alert("Please log in to save flip card sets")},k=h=>{a?o(h):alert("Please log in to join communities")},g=h=>{a?c(h):alert("Please log in to purchase courses")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto max-h-[90vh] overflow-y-auto",onClick:h=>h.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 rounded-2xl p-8 text-white mb-8 shadow-xl",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-6 md:space-y-0 md:space-x-8",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex items-center justify-center w-24 h-24 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm shadow-lg",children:e.profilePicture?s.jsx("img",{src:e.profilePicture,alt:e.name,className:"w-24 h-24 rounded-2xl object-cover"}):s.jsx(V,{className:"w-12 h-12 text-white"})})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center space-x-4 mb-3",children:s.jsx("h1",{className:"text-3xl font-bold",children:e.name})}),s.jsx("p",{className:"text-blue-100 text-lg mb-2",children:e.email}),!y&&s.jsxs(s.Fragment,{children:[e.education&&s.jsxs("div",{className:"flex items-center space-x-2 text-blue-100 mb-2",children:[s.jsx(fs,{className:"w-4 h-4"}),s.jsx("span",{children:e.education})]}),e.location&&s.jsxs("div",{className:"flex items-center space-x-2 text-blue-100 mb-2",children:[s.jsx(fi,{className:"w-4 h-4"}),s.jsx("span",{children:e.location})]}),e.bio&&s.jsx("p",{className:"text-blue-100 mb-4",children:e.bio})]}),s.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:e.followers}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Followers"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:e.following}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Following"})]})]}),s.jsx("button",{onClick:()=>r(e.id,e.isFollowing?"unfollow":"follow"),className:`px-6 py-2 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2 ${e.isFollowing?"bg-white text-blue-600 hover:bg-blue-50":"bg-white bg-opacity-20 text-white hover:bg-opacity-30"}`,children:e.isFollowing?s.jsxs(s.Fragment,{children:[s.jsx(rc,{className:"w-4 h-4"}),s.jsx("span",{children:"Following"})]}):s.jsxs(s.Fragment,{children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsx("span",{children:"Follow"})]})})]})})]})}),y?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"bg-gray-700 p-8 rounded-xl inline-block mb-4",children:s.jsx(ye,{className:"w-16 h-16 text-gray-500 mx-auto"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"This profile is private"}),s.jsxs("p",{className:"text-gray-400 max-w-md mx-auto",children:["Follow ",e.name," to see their profile information, notes, flip cards, and other content."]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(ae,{className:"w-5 h-5 text-blue-400 mr-2"}),"Notes"]}),d.length>0?s.jsx("div",{className:"space-y-3",children:d.map(h=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(ae,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:h.title}),s.jsx("p",{className:"text-xs text-gray-400",children:h.subject})]}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-400 transition-colors",onClick:()=>f(h.id),children:s.jsx(Mt,{className:"w-4 h-4"})})]},h.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(ae,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No notes shared"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(ne,{className:"w-5 h-5 text-purple-400 mr-2"}),"Flip Card Sets"]}),u.length>0?s.jsx("div",{className:"space-y-3",children:u.map(h=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(ne,{className:"w-5 h-5 text-purple-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:h.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:[h.cards," cards"]})]}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-purple-400 transition-colors",onClick:()=>v(h.id),children:s.jsx(Mt,{className:"w-4 h-4"})})]},h.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(ne,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No flip card sets shared"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(V,{className:"w-5 h-5 text-teal-400 mr-2"}),"Communities"]}),p.length>0?s.jsx("div",{className:"space-y-3",children:p.map(h=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(V,{className:"w-5 h-5 text-teal-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:h.name}),s.jsxs("p",{className:"text-xs text-gray-400",children:[h.members," members"]})]}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-teal-400 transition-colors",onClick:()=>k(h.id),children:s.jsx(bs,{className:"w-4 h-4"})})]},h.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(V,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No communities joined"})]})]}),s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(Dt,{className:"w-5 h-5 text-yellow-400 mr-2"}),"Courses & Resources"]}),m.length>0?s.jsx("div",{className:"space-y-3",children:m.map(h=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 rounded-xl border border-gray-700",children:[s.jsx(Dt,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white text-sm",children:h.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:["$",h.price]})]}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-400 transition-colors",onClick:()=>g(h.id),children:s.jsx(Dt,{className:"w-4 h-4"})})]},h.id))}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Dt,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No courses available"})]})]})]})]})})};function gy({currentUser:e,isLoggedIn:t,onFollowUser:r,onUnfollowUser:n,onSaveNote:a,onSaveFlipCard:i,onJoinCommunity:l,onPurchaseCourse:o,onAddNotification:c}){const[d,u]=C.useState(""),[p,m]=C.useState(null),[y,f]=C.useState("all"),[v,k]=C.useState([{id:"5",name:"Alex Rodriguez",email:"alex@example.com",bio:"Chemistry student, future researcher",education:"Chemistry at UC Berkeley",location:"Berkeley, CA",followers:134,following:98,profileVisibility:"public",joinDate:"2024-01-08T00:00:00Z",isFollowing:!1},{id:"6",name:"Dr. Lisa Wang",email:"lisa@example.com",profilePicture:"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=150",bio:"Professor of Biology, passionate educator",education:"Biology Professor at Harvard",location:"Cambridge, MA",followers:567,following:234,profileVisibility:"public",joinDate:"2023-12-01T00:00:00Z",isFollowing:!1},{id:"7",name:"James Wilson",email:"james@example.com",profilePicture:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150",bio:"Computer Engineering student, interested in robotics",education:"Computer Engineering at Georgia Tech",location:"Atlanta, GA",followers:78,following:102,profileVisibility:"private",joinDate:"2024-01-03T00:00:00Z",isFollowing:!1},{id:"8",name:"Olivia Martinez",email:"olivia@example.com",profilePicture:"https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&w=150",bio:"Psychology major focusing on cognitive development",education:"Psychology at UCLA",location:"Los Angeles, CA",followers:245,following:187,profileVisibility:"public",joinDate:"2023-12-15T00:00:00Z",isFollowing:!1}]),g=[{id:"9",name:"David Johnson",email:"david@example.com",profilePicture:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=150",bio:"Engineering student with a passion for sustainable design",education:"Mechanical Engineering at Stanford",location:"Palo Alto, CA",followers:112,following:87,profileVisibility:"public",joinDate:"2024-01-20T00:00:00Z",isFollowing:!1},{id:"10",name:"Sophia Lee",email:"sophia@example.com",profilePicture:"https://images.pexels.com/photos/1382731/pexels-photo-1382731.jpeg?auto=compress&cs=tinysrgb&w=150",bio:"Art history major with a minor in digital media",education:"Art History at NYU",location:"New York, NY",followers:189,following:156,profileVisibility:"public",joinDate:"2024-01-15T00:00:00Z",isFollowing:!1},{id:"11",name:"Marcus Brown",email:"marcus@example.com",bio:"Economics student researching cryptocurrency markets",education:"Economics at University of Chicago",location:"Chicago, IL",followers:76,following:92,profileVisibility:"public",joinDate:"2024-01-10T00:00:00Z",isFollowing:!1},{id:"12",name:"Dr. Rachel Kim",email:"rachel@example.com",profilePicture:"https://images.pexels.com/photos/1587009/pexels-photo-1587009.jpeg?auto=compress&cs=tinysrgb&w=150",bio:"Professor of Computer Science specializing in AI",education:"Computer Science Professor at MIT",location:"Cambridge, MA",followers:423,following:112,profileVisibility:"public",joinDate:"2023-11-15T00:00:00Z",isFollowing:!1}],h=v.filter(b=>{var w,_,D,O,Q;const S=b.name.toLowerCase().includes(d.toLowerCase())||((w=b.bio)==null?void 0:w.toLowerCase().includes(d.toLowerCase()))||((_=b.education)==null?void 0:_.toLowerCase().includes(d.toLowerCase()));return y==="educators"?S&&(((D=b.education)==null?void 0:D.includes("Professor"))||((O=b.education)==null?void 0:O.includes("PhD"))):y==="students"?S&&!((Q=b.education)!=null&&Q.includes("Professor")):S}),x=(b,S)=>{if(!t){c&&c({type:"warning",title:"Login Required",message:"Please log in to follow users"});return}k(_=>_.map(D=>D.id===b?{...D,isFollowing:S==="follow"}:D));const w=v.find(_=>_.id===b);w&&(S==="follow"?r(w):n(w))},j=b=>{m(b)},N=()=>{const b=[...g].sort(()=>.5-Math.random()),S=new Set(v.map(D=>D.id)),w=v.slice(0,Math.floor(v.length/2)),_=b.filter(D=>!S.has(D.id)).slice(0,Math.ceil(v.length/2));k([...w,..._])};return t?s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Explore StudyMates"}),s.jsx("p",{className:"text-gray-400",children:"Discover and connect with fellow learners"})]}),s.jsxs("button",{onClick:N,className:"mt-4 sm:mt-0 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(Cf,{className:"w-5 h-5"}),s.jsx("span",{children:"Refresh"})]})]}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:d,onChange:b=>u(b.target.value),placeholder:"Search by name, bio, or education...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:y,onChange:b=>f(b.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Users"}),s.jsx("option",{value:"students",children:"Students"}),s.jsx("option",{value:"educators",children:"Educators"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.map(b=>s.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 shadow-sm hover:shadow-lg transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-sm",children:b.profilePicture?s.jsx("img",{src:b.profilePicture,alt:b.name,className:"w-16 h-16 rounded-xl object-cover"}):s.jsx(V,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-white group-hover:text-blue-400 transition-colors",children:b.name}),s.jsx("p",{className:"text-sm text-gray-400",children:b.email})]})]}),b.bio&&s.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-2",children:b.bio}),s.jsxs("div",{className:"space-y-2 mb-4",children:[b.education&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[s.jsx(fs,{className:"w-4 h-4"}),s.jsx("span",{className:"line-clamp-1",children:b.education})]}),b.location&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[s.jsx(fi,{className:"w-4 h-4"}),s.jsx("span",{children:b.location})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-sm text-gray-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-white",children:b.followers})," followers"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-white",children:b.following})," following"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>j(b),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-2",children:[s.jsx(ye,{className:"w-4 h-4"}),s.jsx("span",{children:"View Profile"})]}),s.jsx("button",{onClick:()=>x(b.id,b.isFollowing?"unfollow":"follow"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${b.isFollowing?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg"}`,children:b.isFollowing?s.jsxs(s.Fragment,{children:[s.jsx(rc,{className:"w-4 h-4"}),s.jsx("span",{children:"Following"})]}):s.jsxs(s.Fragment,{children:[s.jsx(bs,{className:"w-4 h-4"}),s.jsx("span",{children:"Follow"})]})})]})]},b.id)),h.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(V,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No users found"}),s.jsx("p",{className:"text-gray-400",children:"Try adjusting your search terms or filters"})]})]}),p&&s.jsx(xy,{user:p,onClose:()=>m(null),onFollowToggle:x,currentUser:e,isLoggedIn:t,onSaveNote:a,onSaveFlipCard:i,onJoinCommunity:l,onPurchaseCourse:o})]})}):s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-700",children:[s.jsx(V,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Login to Explore"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to explore other users."}),s.jsx("button",{onClick:()=>window.location.href="/",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-colors",children:"Go to Login"})]})})}const yy=({community:e,onClose:t,onJoinCommunity:r,onDeleteCommunity:n,user:a})=>{var o;if(!e)return null;const i=c=>{switch(c){case"community":return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400"}},l=()=>{const c=`${window.location.origin}/private/community/${e.id}`;navigator.clipboard.writeText(c),alert("Private link copied to clipboard!")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(J,{className:"w-8 h-8 text-teal-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.name}),s.jsx("span",{className:"text-teal-400 font-medium",children:"Community Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.posterUrl||i("community"),alt:e.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:s.jsx(J,{className:"w-6 h-6 text-gray-500 m-2"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:[e.memberCount," members"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Created on ",new Date(e.createdDate).toLocaleDateString()]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600",children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(o=e.tags)==null?void 0:o.map(c=>s.jsxs("span",{className:"bg-gray-700 text-gray-300 text-xs px-3 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Tr,{className:"w-3 h-3"}),s.jsx("span",{children:c})]},c))}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.isPrivate?s.jsx(ve,{className:"w-4 h-4 text-yellow-500"}):s.jsx(Ke,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:e.isPrivate?"Private Community":"Public Community"})]}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.creatorId===a.id?s.jsxs("button",{onClick:()=>n(e.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(at,{className:"w-5 h-5"}),s.jsx("span",{children:"Delete Community"})]}):e.isMember?null:s.jsx("button",{onClick:()=>r(e.id),className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:e.isPrivate?s.jsxs(s.Fragment,{children:[s.jsx(bs,{className:"w-5 h-5"}),s.jsx("span",{children:"Request to Join"})]}):s.jsxs(s.Fragment,{children:[s.jsx(J,{className:"w-5 h-5"}),s.jsx("span",{children:"Join Community"})]})}),e.isPrivate&&s.jsxs("button",{onClick:l,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),s.jsx("span",{children:"Copy Private Link"})]}),s.jsxs("button",{className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Yt,{className:"w-5 h-5"}),s.jsx("span",{children:"View Posts"})]})]})]})]})})};function vy({user:e,communities:t=[],posts:r=[],onCreateCommunity:n,onJoinCommunity:a,onDeleteCommunity:i}){const[l,o]=C.useState(null),[c,d]=C.useState(!1),[u,p]=C.useState(!1),[m,y]=C.useState(null),[f,v]=C.useState(""),[k,g]=C.useState(""),[h,x]=C.useState("all"),[j,N]=C.useState("all"),[b,S]=C.useState({name:"",description:"",tags:"",isPrivate:!1,thumbnailUrl:""}),D=[...t].filter(M=>{switch(h){case"joined":return M.isMember&&M.creatorId!==e.id;case"created":return M.creatorId===e.id;default:return M.isMember||M.creatorId===e.id}}).filter(M=>M.name.toLowerCase().includes(k.toLowerCase())||M.description.toLowerCase().includes(k.toLowerCase())||M.tags&&M.tags.some(B=>B.toLowerCase().includes(k.toLowerCase()))),O=M=>{M.preventDefault();const B={name:b.name,description:b.description,tags:b.tags.split(",").map(H=>H.trim()).filter(Boolean),isPrivate:b.isPrivate,isMember:!0,posterUrl:b.thumbnailUrl||void 0};n&&n(B),S({name:"",description:"",tags:"",isPrivate:!1,thumbnailUrl:""}),d(!1)},Q=M=>{M.preventDefault(),f.trim()&&l&&(console.log("Creating post in community:",l.id,f),v(""))},P=()=>{const M=document.createElement("input");M.type="file",M.accept="image/*",M.onchange=B=>{var I;const H=(I=B.target.files)==null?void 0:I[0];if(H){const U=new FileReader;U.onload=E=>{S(Y=>{var G;return{...Y,thumbnailUrl:(G=E.target)==null?void 0:G.result}})},U.readAsDataURL(H)}},M.click()},q=M=>{switch(M){case"community":return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400"}};return l?s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-6 mb-8 shadow-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:l.name}),l.isPrivate?s.jsx(ve,{className:"w-5 h-5 text-yellow-500"}):s.jsx(Ke,{className:"w-5 h-5 text-green-500"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:l.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(J,{className:"w-4 h-4"}),s.jsxs("span",{children:[l.memberCount," members"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(je,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created ",new Date(l.createdDate).toLocaleDateString()]})]})]})]}),s.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-xl transition-colors",children:"Back to Communities"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map(M=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-gray-800 text-gray-300 text-sm rounded-full border border-gray-600",children:[s.jsx(Tr,{className:"w-3 h-3 mr-1"}),M]},M))})]}),l.isMember&&s.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsx("form",{onSubmit:Q,className:"space-y-4",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-sm",children:e.profilePicture?s.jsx("img",{src:e.profilePicture,alt:e.name,className:"w-10 h-10 rounded-xl object-cover"}):s.jsx(V,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:f,onChange:M=>v(M.target.value),placeholder:`Share something with ${l.name}...`,className:"w-full p-4 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none text-white placeholder-gray-400",rows:3}),s.jsx("div",{className:"flex justify-end mt-3",children:s.jsxs("button",{type:"submit",disabled:!f.trim(),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700 text-white px-6 py-2 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 disabled:transform-none disabled:cursor-not-allowed shadow-lg",children:[s.jsx(Sr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Post"})]})})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[r.map(M=>s.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-sm",children:M.userProfilePicture?s.jsx("img",{src:M.userProfilePicture,alt:M.userName,className:"w-10 h-10 rounded-xl object-cover"}):s.jsx(V,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("p",{className:"font-medium text-white",children:M.userName}),s.jsx("span",{className:"text-sm text-gray-500",children:""}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(M.timestamp).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-300",children:M.content})]})]})},M.id)),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No posts yet. Be the first to share something!"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"My Communities"}),s.jsx("p",{className:"text-gray-400",children:"Manage communities you've joined or created"})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:h,onChange:M=>x(M.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white text-sm",children:[s.jsx("option",{value:"all",children:"All My Communities"}),s.jsx("option",{value:"joined",children:"Joined Communities"}),s.jsx("option",{value:"created",children:"Created by Me"})]})]}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Community"})]})]})]}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:k,onChange:M=>g(M.target.value),placeholder:"Search communities by name, description, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:j,onChange:M=>N(M.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[D.map(M=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden",children:s.jsx("img",{src:M.posterUrl||q("community"),alt:M.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(J,{className:"w-5 h-5 text-teal-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-teal-400 transition-colors text-sm",children:M.name})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:B=>{B.preventDefault(),y(M),p(!0)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),M.creatorId===e.id&&s.jsx("button",{onClick:B=>{B.preventDefault(),i&&i(M.id)},className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Delete Community",children:s.jsx(at,{className:"w-4 h-4"})}),M.isPrivate?s.jsx(ve,{className:"w-4 h-4 text-yellow-500 p-1"}):s.jsx(Ke,{className:"w-4 h-4 text-green-500 p-1"})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:M.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-teal-500 to-blue-600 rounded-full",children:s.jsx(J,{className:"w-3 h-3 text-white"})}),s.jsxs("span",{children:[M.memberCount," members"]})]}),M.creatorId===e.id?s.jsx("span",{className:"text-teal-400",children:"Created by you"}):s.jsx("span",{children:M.isPrivate?"Private":"Public"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>o(M),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 py-2 px-4 rounded-lg text-sm font-medium transition-colors",children:"View"}),!M.isMember&&s.jsx("button",{onClick:()=>a&&a(M.id),className:"flex-1 bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors shadow-lg flex items-center justify-center space-x-1",children:M.isPrivate?s.jsxs(s.Fragment,{children:[s.jsx(bs,{className:"w-3 h-3"}),s.jsx("span",{children:"Request"})]}):s.jsxs(s.Fragment,{children:[s.jsx(J,{className:"w-3 h-3"}),s.jsx("span",{children:"Join"})]})})]})]},M.id)),D.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(J,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:h==="created"?"You haven't created any communities":h==="joined"?"You haven't joined any communities":"No communities found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:h==="created"?"Create or join a community to get started":h==="joined"?"Explore and join a community to get started!":"Create or join a community to get started"}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl flex items-center space-x-2 mx-auto transition-colors shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Community"})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full border border-gray-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Create Community"}),s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Community Thumbnail"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{type:"button",onClick:P,className:"flex-1 p-4 border-2 border-dashed border-gray-600 rounded-xl hover:border-teal-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-teal-400",children:[s.jsx(vs,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:"Upload Thumbnail"})]}),b.thumbnailUrl&&s.jsx("div",{className:"w-24 h-16 bg-gray-700 rounded-lg overflow-hidden",children:s.jsx("img",{src:b.thumbnailUrl,alt:"Thumbnail preview",className:"w-full h-full object-cover"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Community Name"}),s.jsx("input",{type:"text",value:b.name,onChange:M=>S(B=>({...B,name:M.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"Enter community name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{rows:3,value:b.description,onChange:M=>S(B=>({...B,description:M.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"Describe your community",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:b.tags,onChange:M=>S(B=>({...B,tags:M.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"e.g. mathematics, physics"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPrivate",checked:b.isPrivate,onChange:M=>S(B=>({...B,isPrivate:M.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isPrivate",className:"text-sm text-gray-300",children:"Make this community private (invite-only)"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl shadow-lg",children:"Create"})]})]})]})}),u&&m&&s.jsx(yy,{community:m,user:e,onClose:()=>{p(!1),y(null)},onJoinCommunity:a,onDeleteCommunity:i})]})})}const by=({session:e,onClose:t,onJoinSession:r,onDeleteSession:n,user:a})=>{if(!e)return null;const i=c=>{switch(c){case"session":return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}},l=()=>{const c=`${window.location.origin}/private/session/${e.id}`;navigator.clipboard.writeText(c),alert("Private link copied to clipboard!")},o=()=>{e.meetingUrl?window.open(e.meetingUrl,"_blank"):alert("Meeting link not available")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:e.isActive?s.jsx(ke,{className:"w-8 h-8 text-green-400"}):s.jsx(je,{className:"w-8 h-8 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsx("span",{className:`font-medium ${e.isActive?"text-green-400":"text-blue-400"}`,children:"Study Session Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.posterUrl||i("session"),alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.hostProfilePicture?s.jsx("img",{src:e.hostProfilePicture,alt:e.hostName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500 m-2"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Hosted by ",e.hostName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(e.scheduledTime).toLocaleDateString()," at ",new Date(e.scheduledTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600",children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(ae,{className:"w-4 h-4"}),s.jsxs("span",{children:["Subject: ",e.subject]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(ys,{className:"w-4 h-4"}),s.jsxs("span",{children:["Duration: ",e.duration," minutes"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.isPublic?s.jsx(Ke,{className:"w-4 h-4"}):s.jsx(ve,{className:"w-4 h-4"}),s.jsx("span",{children:e.isPublic?"Public":"Private"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(J,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.participants.length,"/",e.maxParticipants," participants"]})]}),e.isActive&&s.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[s.jsx(ke,{className:"w-4 h-4"}),s.jsx("span",{children:"Live Now"})]}),e.meetingUrl&&s.jsxs("div",{className:"flex items-center space-x-2 text-blue-400",children:[s.jsx(Bs,{className:"w-4 h-4"}),s.jsx("span",{children:"Meeting Link Available"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white mb-3",children:"Participants"}),s.jsx("div",{className:"space-y-2",children:e.participants.map(c=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-800 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:c.profilePicture?s.jsx("img",{src:c.profilePicture,alt:c.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx(V,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300",children:c.name})]},c.id))})]}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.hostId===a.id&&s.jsxs("button",{onClick:()=>n(e.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(at,{className:"w-5 h-5"}),s.jsx("span",{children:"Delete Session"})]}),!e.isPublic&&s.jsxs("button",{onClick:l,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),s.jsx("span",{children:"Copy Private Link"})]}),e.meetingUrl?s.jsxs("button",{onClick:o,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(be,{className:"w-5 h-5"}),s.jsx("span",{children:"Join Meeting"})]}):s.jsxs("button",{onClick:()=>r(e.id),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(je,{className:"w-5 h-5"}),s.jsx("span",{children:"Join Session"})]})]})]})]})})};function wy({user:e,sessions:t=[],onCreateSession:r,onDeleteSession:n}){const[a,i]=C.useState(!1);C.useState(null);const[l,o]=C.useState(!1),[c,d]=C.useState(null),[u,p]=C.useState(""),[m,y]=C.useState("all"),[f,v]=C.useState({title:"",description:"",subject:"",date:"",time:"",duration:90,maxParticipants:8,isPublic:!0,tags:"",meetingUrl:""}),k=t.filter(N=>{const b=m==="all"||m==="hosting"&&N.hostId===e.id||m==="joined"&&N.hostId!==e.id,S=N.title.toLowerCase().includes(u.toLowerCase())||N.description.toLowerCase().includes(u.toLowerCase())||N.subject.toLowerCase().includes(u.toLowerCase());return b&&S}),g=N=>{const b=t.find(S=>S.id===N);if(b)if(b.meetingUrl)window.open(b.meetingUrl,"_blank");else{const S=b.participants.some(w=>w.id===e.id);!S&&b.participants.length<b.maxParticipants?(console.log("Joining session:",N),alert(`You have joined "${b.title}"! Check your dashboard for updates.`)):alert(S?"You are already a participant in this session.":"This session is full.")}},h=N=>{N.meetingUrl&&window.open(N.meetingUrl,"_blank")},x=N=>{N.preventDefault();const b=new Date(`${f.date}T${f.time}`).toISOString(),S={title:f.title,description:f.description,hostName:e.name,hostProfilePicture:e.profilePicture,scheduledTime:b,duration:f.duration,maxParticipants:f.maxParticipants,subject:f.subject,isPublic:f.isPublic,tags:f.tags.split(",").map(w=>w.trim()).filter(Boolean),meetingUrl:f.meetingUrl||void 0};r&&r(S),console.log("Creating session:",S),i(!1),v({title:"",description:"",subject:"",date:"",time:"",duration:90,maxParticipants:8,isPublic:!0,tags:"",meetingUrl:""})},j=N=>{switch(N){case"session":return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}};return s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Study Sessions"}),s.jsx("p",{className:"text-gray-400",children:"Join or create collaborative study sessions"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"mt-4 sm:mt-0 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Session"})]})]}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:u,onChange:N=>p(N.target.value),placeholder:"Search study sessions by title, subject, or description...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{value:m,onChange:N=>y(N.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Sessions"}),s.jsx("option",{value:"hosting",children:"Hosting"}),s.jsx("option",{value:"joined",children:"Joined"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[k.map(N=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsxs("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden relative",children:[s.jsx("img",{src:N.posterUrl||j("session"),alt:N.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),N.isActive&&s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-green-600 text-white text-xs rounded-full font-medium",children:"Live"}),N.isNotified&&!N.isActive&&s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs rounded-full font-medium",children:"Notify Set"}),s.jsxs("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded",children:[N.duration,"m"]})]}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[N.isActive?s.jsx(ke,{className:"w-5 h-5 text-green-400"}):s.jsx(je,{className:"w-5 h-5 text-blue-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-blue-400 transition-colors text-sm",children:N.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:b=>{b.preventDefault(),d(N),o(!0)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),N.hostId===e.id&&s.jsx("button",{onClick:b=>{b.preventDefault(),n&&n(N.id)},className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Delete Session",children:s.jsx(at,{className:"w-4 h-4"})}),N.isPublic?s.jsx(Ke,{className:"w-4 h-4 text-green-500 p-1"}):s.jsx(ve,{className:"w-4 h-4 text-yellow-500 p-1"})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:N.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:N.hostProfilePicture?s.jsx("img",{src:N.hostProfilePicture,alt:N.hostName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:N.hostId===e.id?"Hosted by you":N.hostName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(J,{className:"w-3 h-3"}),s.jsxs("span",{children:[N.participants.length,"/",N.maxParticipants]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 mb-3",children:[s.jsx(ys,{className:"w-3 h-3"}),s.jsxs("span",{children:[new Date(N.scheduledTime).toLocaleDateString()," at ",new Date(N.scheduledTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),N.meetingUrl?s.jsxs("button",{onClick:()=>g(N.id),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 shadow-lg",children:[s.jsx(be,{className:"w-4 h-4"}),s.jsx("span",{children:"Join Meeting"})]}):N.isActive?s.jsxs("button",{onClick:()=>h(N),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 shadow-lg",children:[s.jsx(be,{className:"w-4 h-4"}),s.jsx("span",{children:"Join Now"})]}):s.jsxs("button",{onClick:()=>g(N.id),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 shadow-lg",children:[s.jsx(je,{className:"w-4 h-4"}),s.jsx("span",{children:"Join Session"})]})]},N.id)),k.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(je,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:m==="hosting"?"You're not hosting any sessions yet":m==="joined"?"You haven't joined any sessions yet":"No study sessions found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:m==="hosting"?"Create your first study session to help others learn":m==="joined"?"Join a session to collaborate with other students":"Create or join a study session to get started"}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl flex items-center space-x-2 mx-auto transition-colors shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Study Session"})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-8 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Create Study Session"}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Title"}),s.jsx("input",{type:"text",value:f.title,onChange:N=>v(b=>({...b,title:N.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter session title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),s.jsxs("select",{value:f.subject,onChange:N=>v(b=>({...b,subject:N.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select subject"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer-science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{rows:3,value:f.description,onChange:N=>v(b=>({...b,description:N.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Describe what you'll be studying",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Meeting Link (Optional)"}),s.jsx("input",{type:"url",value:f.meetingUrl,onChange:N=>v(b=>({...b,meetingUrl:N.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"https://meet.google.com/your-meeting-link"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add your Google Meet, Zoom, or other meeting link"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),s.jsx("input",{type:"date",value:f.date,onChange:N=>v(b=>({...b,date:N.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time"}),s.jsx("input",{type:"time",value:f.time,onChange:N=>v(b=>({...b,time:N.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (minutes)"}),s.jsx("input",{type:"number",min:"30",max:"300",step:"30",value:f.duration,onChange:N=>v(b=>({...b,duration:parseInt(N.target.value)})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Participants"}),s.jsx("input",{type:"number",min:"2",max:"20",value:f.maxParticipants,onChange:N=>v(b=>({...b,maxParticipants:parseInt(N.target.value)})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:f.tags,onChange:N=>v(b=>({...b,tags:N.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"e.g. calculus, study-group"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:f.isPublic,onChange:N=>v(b=>({...b,isPublic:N.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),s.jsxs("label",{htmlFor:"isPublic",className:"text-sm text-gray-300 flex items-center space-x-2",children:[f.isPublic?s.jsx(Ke,{className:"w-4 h-4"}):s.jsx(ve,{className:"w-4 h-4"}),s.jsxs("span",{children:["Make this session ",f.isPublic?"public (anyone can join)":"private (invite-only)"]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-colors shadow-lg",children:"Create Session"})]})]})]})}),l&&c&&s.jsx(by,{session:c,user:e,onClose:()=>{o(!1),d(null)},onJoinSession:g,onDeleteSession:n})]})})}const jy=({infovid:e,onClose:t,onLikeToggle:r,onShare:n,onDeleteInfovid:a,user:i})=>{if(!e)return null;const l=c=>{const d=Math.floor(c/60),u=c%60;return`${d}:${u.toString().padStart(2,"0")}`},o=()=>{const c=`${window.location.origin}/private/infovid/${e.id}`;navigator.clipboard.writeText(c),alert("Private link copied to clipboard!")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(ke,{className:"w-8 h-8 text-pink-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsx("span",{className:"text-pink-400 font-medium",children:"Infovid Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden relative",children:[s.jsx("video",{src:e.videoUrl,poster:e.thumbnailUrl,controls:!0,className:"w-full h-full object-cover",children:"Your browser does not support the video tag."}),s.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded",children:l(e.duration)})]}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.creatorProfilePicture?s.jsx("img",{src:e.creatorProfilePicture,alt:e.creatorName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Created by ",e.creatorName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["on ",new Date(e.createdDate).toLocaleDateString()]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600",children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ye,{className:"w-4 h-4"}),s.jsx("span",{children:e.views})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(zs,{className:`w-4 h-4 ${e.isLiked?"text-red-500 fill-current":""}`}),s.jsx("span",{children:e.likes})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ys,{className:"w-4 h-4"}),s.jsx("span",{children:l(e.duration)})]})]}),s.jsx("span",{className:"text-pink-400 font-medium",children:e.subject})]}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.creatorId===i.id&&s.jsxs("button",{onClick:()=>a(e.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(at,{className:"w-5 h-5"}),s.jsx("span",{children:"Delete"})]}),s.jsxs("button",{onClick:()=>r(e.id),className:`flex-1 py-3 rounded-xl font-semibold transition-colors flex items-center justify-center space-x-2 ${e.isLiked?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[s.jsx(zs,{className:`w-5 h-5 ${e.isLiked?"fill-current":""}`}),s.jsx("span",{children:e.isLiked?"Liked":"Like"})]}),s.jsxs("button",{onClick:o,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),s.jsx("span",{children:"Copy Link"})]}),s.jsxs("button",{onClick:()=>n(e),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(sc,{className:"w-5 h-5"}),s.jsx("span",{children:"Share"})]})]})]})]})})};function Ny({user:e,infovids:t=[],onCreateInfovid:r,onDeleteInfovid:n}){const[a,i]=C.useState(null),[l,o]=C.useState(!1),[c,d]=C.useState(""),[u,p]=C.useState("all"),[m,y]=C.useState("all"),[f,v]=C.useState({title:"",description:"",subject:"",tags:"",videoFile:null,thumbnailFile:null}),k=t.filter(w=>{const _=m==="all"||m==="created"&&w.creatorId===e.id||m==="saved"&&w.creatorId!==e.id,D=w.title.toLowerCase().includes(c.toLowerCase())||w.description.toLowerCase().includes(c.toLowerCase())||w.tags.some(Q=>Q.toLowerCase().includes(c.toLowerCase())),O=u==="all"||w.subject.toLowerCase()===u.toLowerCase();return _&&D&&O}),g=w=>{console.log("Toggle like for infovid:",w)},h=w=>{navigator.share?navigator.share({title:w.title,text:w.description,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},x=w=>{w.preventDefault();const _={title:f.title,description:f.description,videoUrl:"https://example.com/video.mp4",thumbnailUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400",creatorName:e.name,creatorProfilePicture:e.profilePicture,duration:300,tags:f.tags.split(",").map(D=>D.trim()).filter(Boolean),subject:f.subject};r&&r(_),console.log("Creating infovid:",_),o(!1),v({title:"",description:"",subject:"",tags:"",videoFile:null,thumbnailFile:null})},j=()=>{const w=document.createElement("input");w.type="file",w.accept="video/*",w.onchange=_=>{var O;const D=(O=_.target.files)==null?void 0:O[0];D&&v(Q=>({...Q,videoFile:D}))},w.click()},N=()=>{const w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=_=>{var O;const D=(O=_.target.files)==null?void 0:O[0];D&&v(Q=>({...Q,thumbnailFile:D}))},w.click()},b=w=>{const _=Math.floor(w/60),D=w%60;return`${_}:${D.toString().padStart(2,"0")}`},S=w=>{i(w)};return s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"My Infovids"}),s.jsx("p",{className:"text-gray-400",children:"Learn through short, engaging educational videos"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"mt-4 sm:mt-0 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Infovid"})]})]}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),placeholder:"Search infovids by title, description, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:m,onChange:w=>y(w.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Infovids"}),s.jsx("option",{value:"created",children:"Created by Me"}),s.jsx("option",{value:"saved",children:"Saved"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{value:u,onChange:w=>p(w.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[k.map(w=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsxs("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden relative",children:[s.jsx("img",{src:w.thumbnailUrl,alt:w.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx("button",{onClick:()=>S(w),className:"p-3 bg-white bg-opacity-20 rounded-full backdrop-blur-sm hover:bg-opacity-30 transition-colors",children:s.jsx(be,{className:"w-6 h-6 text-white"})})}),s.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded",children:b(w.duration)}),s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-xs rounded-full",children:w.subject})]}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ke,{className:"w-5 h-5 text-pink-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-pink-400 transition-colors text-sm",children:w.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:_=>{_.preventDefault(),S(w)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Play Video",children:s.jsx(be,{className:"w-4 h-4"})}),w.creatorId===e.id&&s.jsx("button",{onClick:_=>{_.preventDefault(),n&&n(w.id)},className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Delete Infovid",children:s.jsx(at,{className:"w-4 h-4"})}),s.jsx("button",{onClick:_=>{_.preventDefault(),g(w.id)},className:`p-1 transition-colors ${w.isLiked?"text-red-400":"text-gray-400 hover:text-red-400"}`,title:"Like Infovid",children:s.jsx(zs,{className:`w-4 h-4 ${w.isLiked?"fill-current":""}`})})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:w.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full",children:w.creatorProfilePicture?s.jsx("img",{src:w.creatorProfilePicture,alt:w.creatorName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:w.creatorId===e.id?"Created by you":w.creatorName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ye,{className:"w-3 h-3"}),s.jsx("span",{children:w.views})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(zs,{className:"w-3 h-3"}),s.jsx("span",{children:w.likes})]})]})]})]},w.id)),k.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ke,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:m==="created"?"You haven't created any infovids yet":m==="saved"?"You haven't saved any infovids yet":"No infovids found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:m==="created"?"Create your first educational video to share knowledge":m==="saved"?"Save infovids from the community to watch later":"Try adjusting your search terms or filters, or create your first infovid"}),s.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl flex items-center space-x-2 mx-auto transition-colors shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Your First Infovid"})]})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full border border-gray-700 max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Create Educational Infovid"}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Video Upload"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("button",{type:"button",onClick:j,className:"w-full border-2 border-dashed border-gray-600 rounded-xl p-8 text-center hover:border-pink-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-pink-400",children:[s.jsx(ke,{className:"w-8 h-8"}),s.jsx("span",{className:"text-sm",children:f.videoFile?f.videoFile.name:"Click to upload or drag and drop"}),s.jsx("span",{className:"text-xs text-gray-500",children:"MP4, MOV up to 100MB"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Thumbnail (Optional)"}),s.jsxs("button",{type:"button",onClick:N,className:"w-full border-2 border-dashed border-gray-600 rounded-xl p-4 text-center hover:border-pink-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-pink-400",children:[s.jsx(vs,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:f.thumbnailFile?f.thumbnailFile.name:"Upload custom thumbnail"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:f.title,onChange:w=>v(_=>({..._,title:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter infovid title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{rows:3,value:f.description,onChange:w=>v(_=>({..._,description:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Describe your educational content",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),s.jsxs("select",{value:f.subject,onChange:w=>v(_=>({..._,subject:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select subject"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer-science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:f.tags,onChange:w=>v(_=>({..._,tags:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"calculus, derivatives, mathematics"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-colors shadow-lg",children:"Create Infovid"})]})]})]})}),a&&s.jsx(jy,{infovid:a,user:e,onClose:()=>i(null),onLikeToggle:g,onShare:h,onDeleteInfovid:n})]})})}const ky=({course:e,onClose:t,onPurchaseCourse:r,isLoggedIn:n,onAddNotification:a})=>{if(!e)return null;const i=d=>{switch(d){case"course":return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400";case"ebook":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";case"book":return"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}},l=d=>{switch(d){case"course":return s.jsx(be,{className:"w-8 h-8 text-green-400"});case"ebook":return s.jsx(de,{className:"w-8 h-8 text-blue-400"});case"book":return s.jsx(kr,{className:"w-8 h-8 text-purple-400"});default:return s.jsx(ae,{className:"w-8 h-8 text-gray-400"})}},o=d=>{const u=Math.floor(d/60),p=d%60;return u>0?`${u}h ${p}m`:`${p}m`},c=()=>{if(!n){a&&a({type:"warning",title:"Login Required",message:"Login to Purchase courses and resources"});return}r(e.id)};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:d=>d.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:l(e.type)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsxs("span",{className:"text-green-400 font-medium",children:[e.type==="course"?"Course":e.type==="ebook"?"eBook":"Book"," Preview"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.thumbnailUrl||i(e.type),alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.instructorProfilePicture?s.jsx("img",{src:e.instructorProfilePicture,alt:e.instructorName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500 m-2"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Created by ",e.instructorName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.category,"  ",e.level,"  ",e.enrollments," ",e.type==="course"?"students":"purchases"]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600",children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(xi,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{children:[e.rating," (",e.reviews," reviews)"]})]}),e.type==="course"&&e.duration>0&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(ys,{className:"w-4 h-4"}),s.jsx("span",{children:o(e.duration)})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(J,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.enrollments," ",e.type==="course"?"students":"purchases"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[e.type==="course"&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(be,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.videos.length," lessons"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(ae,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.level," level"]})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:e.price===0?s.jsx("span",{className:"text-blue-400",children:"Free"}):s.jsxs("span",{children:["$",e.price]})})]})]}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[s.jsxs("button",{onClick:c,className:`flex-1 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2 ${e.price===0?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white"}`,children:[s.jsx(rm,{className:"w-5 h-5"}),s.jsx("span",{children:e.price===0?"Get Free":"Buy Now"})]}),s.jsxs("button",{className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(zs,{className:"w-5 h-5"}),s.jsx("span",{children:"Add to Wishlist"})]})]})]})]})})};function Sy({user:e,isLoggedIn:t,onPurchaseCourse:r,onAddNotification:n}){const[a,i]=C.useState(null),[l,o]=C.useState(""),[c,d]=C.useState("all"),[u,p]=C.useState("all"),[m,y]=C.useState("all"),v=[{id:"1",title:"Complete Calculus Mastery",description:"Master calculus from basics to advanced topics with step-by-step explanations and practice problems.",thumbnailUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400",price:49.99,currency:"USD",instructorId:"2",instructorName:"Sarah Johnson",instructorProfilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",videos:[{id:"1",title:"Introduction to Limits",description:"Understanding the concept of limits",videoUrl:"",duration:1200,order:1,isPreview:!0},{id:"2",title:"Derivative Fundamentals",description:"Basic derivative rules and applications",videoUrl:"",duration:1800,order:2,isPreview:!1}],tags:["calculus","mathematics","derivatives","integrals"],category:"Mathematics",level:"Intermediate",duration:480,enrollments:1247,rating:4.8,reviews:156,createdDate:"2024-01-10T00:00:00Z",isPublished:!0,type:"course"},{id:"2",title:"Advanced Physics eBook",description:"Comprehensive digital textbook covering quantum mechanics and relativity.",thumbnailUrl:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=400",price:29.99,currency:"USD",instructorId:"4",instructorName:"Emma Davis",videos:[],tags:["physics","quantum","ebook"],category:"Physics",level:"Advanced",duration:0,enrollments:856,rating:4.9,reviews:89,createdDate:"2024-01-12T00:00:00Z",isPublished:!0,type:"ebook"},{id:"3",title:"Free Programming Basics",description:"Learn programming fundamentals with Python. Perfect for beginners.",thumbnailUrl:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400",price:0,currency:"USD",instructorId:"3",instructorName:"Mike Chen",videos:[{id:"1",title:"Variables and Data Types",description:"Understanding basic programming concepts",videoUrl:"",duration:900,order:1,isPreview:!0}],tags:["programming","python","beginner"],category:"Computer Science",level:"Beginner",duration:360,enrollments:2341,rating:4.7,reviews:234,createdDate:"2024-01-08T00:00:00Z",isPublished:!0,type:"course"},{id:"4",title:"Chemistry Lab Manual",description:"Comprehensive lab manual for organic chemistry experiments.",thumbnailUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg?auto=compress&cs=tinysrgb&w=400",price:15.99,currency:"USD",instructorId:"5",instructorName:"Alex Rodriguez",videos:[],tags:["chemistry","lab","manual"],category:"Chemistry",level:"Intermediate",duration:0,enrollments:456,rating:4.6,reviews:67,createdDate:"2024-01-05T00:00:00Z",isPublished:!0,type:"ebook"},{id:"5",title:"Biology Textbook - Used",description:"Campbell Biology 12th Edition in good condition. Minor highlighting.",thumbnailUrl:"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400",price:89.99,currency:"USD",instructorId:"6",instructorName:"Lisa Wang",videos:[],tags:["biology","textbook","used"],category:"Biology",level:"Intermediate",duration:0,enrollments:12,rating:4.3,reviews:8,createdDate:"2024-01-03T00:00:00Z",isPublished:!0,type:"book"}].filter(j=>{const N=j.title.toLowerCase().includes(l.toLowerCase())||j.description.toLowerCase().includes(l.toLowerCase())||j.tags.some(_=>_.toLowerCase().includes(l.toLowerCase())),b=c==="all"||j.category.toLowerCase()===c.toLowerCase(),S=u==="all"||u==="free"&&j.price===0||u==="paid"&&j.price>0,w=m==="all"||j.type===m;return N&&b&&S&&w}),k=j=>{if(!t){n&&n({type:"warning",title:"Login Required",message:"Login to Purchase courses and resources"});return}j.price===0&&console.log("Enrolling in free course:",j.id),r(j.id)},g=j=>{switch(j){case"course":return s.jsx(be,{className:"w-4 h-4"});case"ebook":return s.jsx(de,{className:"w-4 h-4"});case"book":return s.jsx(kr,{className:"w-4 h-4"});default:return s.jsx(ae,{className:"w-4 h-4"})}},h=j=>{switch(j){case"course":return"Course";case"ebook":return"eBook";case"book":return"Book";default:return"Resource"}},x=j=>{switch(j){case"course":return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400";case"ebook":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";case"book":return"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}};return s.jsxs("div",{className:"min-h-screen bg-gray-950 relative",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((j,N)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${N%4===0?"text-blue-400":N%4===1?"text-purple-400":N%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:N%4===0?s.jsx(ae,{}):N%4===1?s.jsx(kr,{}):N%4===2?s.jsx(de,{}):s.jsx(be,{})},N))]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"EduStore"}),s.jsx("p",{className:"text-gray-400",children:"Discover courses, eBooks, textbooks and educational resources from our community"})]})}),s.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:j=>o(j.target.value),placeholder:"Search educational resources...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:m,onChange:j=>y(j.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"course",children:"Courses"}),s.jsx("option",{value:"ebook",children:"eBooks"}),s.jsx("option",{value:"book",children:"Books"})]})]}),s.jsxs("select",{value:c,onChange:j=>d(j.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]}),s.jsxs("select",{value:u,onChange:j=>p(j.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Prices"}),s.jsx("option",{value:"free",children:"Free"}),s.jsx("option",{value:"paid",children:"Paid"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.map(j=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsxs("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden relative",children:[s.jsx("img",{src:j.thumbnailUrl||x(j.type),alt:j.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx("button",{onClick:()=>i(j),className:"p-3 bg-white bg-opacity-20 rounded-full backdrop-blur-sm hover:bg-opacity-30 transition-colors",children:s.jsx(ye,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs rounded-full flex items-center space-x-1",children:[g(j.type),s.jsx("span",{children:h(j.type)})]}),s.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded",children:j.level}),j.price===0&&s.jsx("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs rounded-full font-medium",children:"FREE"})]}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[g(j.type),s.jsx("h4",{className:"font-semibold text-white group-hover:text-green-400 transition-colors text-sm",children:j.title})]}),s.jsx("div",{className:"flex space-x-1",children:s.jsx("button",{onClick:N=>{N.preventDefault(),i(j)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})})})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:j.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full",children:j.instructorProfilePicture?s.jsx("img",{src:j.instructorProfilePicture,alt:j.instructorName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:j.instructorName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(xi,{className:"w-3 h-3 text-yellow-500 fill-current"}),s.jsx("span",{children:j.rating})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(J,{className:"w-3 h-3"}),s.jsx("span",{children:j.enrollments})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:j.price===0?s.jsx("span",{className:"text-blue-400",children:"Free"}):s.jsxs("span",{children:["$",j.price]})}),s.jsxs("button",{onClick:()=>k(j),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2 ${j.price===0?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white"}`,children:[s.jsx(rm,{className:"w-4 h-4"}),s.jsx("span",{children:j.price===0?"Get Free":"Buy Now"})]})]})]},j.id)),v.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ae,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No resources found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search terms or filters"})]})]}),a&&s.jsx(ky,{course:a,onClose:()=>i(null),onPurchaseCourse:k,isLoggedIn:t,onAddNotification:n})]}),s.jsx("style",{jsx:!0,children:`
        @keyframes float-slow {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        .animate-float-slow {
          animation: float-slow 6s ease-in-out infinite;
        }
      `})]})}const Cy=({course:e,onClose:t,onDeleteResource:r,user:n})=>{if(!e)return null;const a=c=>{switch(c){case"course":return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400";case"ebook":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";case"book":return"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}},i=c=>{switch(c){case"course":return s.jsx(be,{className:"w-8 h-8 text-green-400"});case"ebook":return s.jsx(de,{className:"w-8 h-8 text-blue-400"});case"book":return s.jsx(kr,{className:"w-8 h-8 text-purple-400"});default:return s.jsx(ae,{className:"w-8 h-8 text-gray-400"})}},l=c=>{const d=Math.floor(c/60),u=c%60;return d>0?`${d}h ${u}m`:`${u}m`},o=()=>{const c=`${window.location.origin}/private/resource/${e.id}`;navigator.clipboard.writeText(c),alert("Private link copied to clipboard!")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:i(e.type)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsxs("span",{className:"text-green-400 font-medium",children:[e.type==="course"?"Course":e.type==="ebook"?"eBook":"Book"," Preview"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.thumbnailUrl||a(e.type),alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.instructorProfilePicture?s.jsx("img",{src:e.instructorProfilePicture,alt:e.instructorName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500 m-2"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Created by ",e.instructorName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.category,"  ",e.level,"  ",e.enrollments," ",e.type==="course"?"students":"purchases"]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600",children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(xi,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{children:[e.rating," (",e.reviews," reviews)"]})]}),e.type==="course"&&e.duration>0&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(ys,{className:"w-4 h-4"}),s.jsx("span",{children:l(e.duration)})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(J,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.enrollments," ",e.type==="course"?"students":"purchases"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[e.type==="course"&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(be,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.videos.length," lessons"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx(ae,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.level," level"]})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:e.price===0?s.jsx("span",{className:"text-blue-400",children:"Free"}):s.jsxs("span",{children:["$",e.price]})})]})]}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.instructorId===n.id&&s.jsxs("button",{onClick:()=>r(e.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(at,{className:"w-5 h-5"}),s.jsx("span",{children:"Delete Resource"})]}),s.jsxs("button",{onClick:o,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),s.jsx("span",{children:"Copy Link"})]}),s.jsxs("button",{className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(be,{className:"w-5 h-5"}),s.jsx("span",{children:"Start Learning"})]})]})]})]})})};function _y({user:e,purchases:t,savedCourses:r,onNavigate:n,onCreateResource:a,onDeleteResource:i}){const[l,o]=C.useState(null),[c,d]=C.useState(!1),[u,p]=C.useState(""),[m,y]=C.useState("all"),[f,v]=C.useState({title:"",description:"",type:"course",category:"",level:"Beginner",price:0,currency:"USD",tags:"",thumbnailFile:null,resourceFile:null}),g=[...r,...t.map(w=>({id:w.courseId,title:w.courseName,description:"This is a purchased course.",thumbnailUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400",price:w.amount,currency:w.currency,instructorId:"2",instructorName:"Sarah Johnson",instructorProfilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",videos:[],tags:["purchased"],category:"Mathematics",level:"Intermediate",duration:480,enrollments:1247,rating:4.8,reviews:156,createdDate:w.purchaseDate,isPublished:!0,type:"course",isPurchased:!0}))].filter(w=>{const _=w.title.toLowerCase().includes(u.toLowerCase())||w.description.toLowerCase().includes(u.toLowerCase())||w.tags.some(D=>D.toLowerCase().includes(u.toLowerCase()));switch(m){case"purchased":return w.isPurchased===!0&&_;case"created":return w.instructorId===e.id&&_;default:return _}}),h=w=>{w.preventDefault();const _={title:f.title,description:f.description,thumbnailUrl:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400",price:f.price,currency:f.currency,instructorName:e.name,instructorProfilePicture:e.profilePicture,videos:[],tags:f.tags.split(",").map(D=>D.trim()).filter(Boolean),category:f.category,level:f.level,duration:f.type==="course"?480:0,type:f.type};a&&a(_),console.log("Creating resource:",_),d(!1),v({title:"",description:"",type:"course",category:"",level:"Beginner",price:0,currency:"USD",tags:"",thumbnailFile:null,resourceFile:null})},x=()=>{const w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=_=>{var O;const D=(O=_.target.files)==null?void 0:O[0];D&&v(Q=>({...Q,thumbnailFile:D}))},w.click()},j=()=>{const w=document.createElement("input");w.type="file",f.type==="course"?w.accept="video/*":f.type==="ebook"?w.accept=".pdf,.epub":w.accept="image/*",w.onchange=_=>{var O;const D=(O=_.target.files)==null?void 0:O[0];D&&v(Q=>({...Q,resourceFile:D}))},w.click()},N=w=>{switch(w){case"course":return s.jsx(be,{className:"w-4 h-4"});case"ebook":return s.jsx(de,{className:"w-4 h-4"});case"book":return s.jsx(kr,{className:"w-4 h-4"});default:return s.jsx(ae,{className:"w-4 h-4"})}},b=w=>{switch(w){case"course":return"Course";case"ebook":return"eBook";case"book":return"Book";default:return"Resource"}},S=w=>{switch(w){case"course":return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400";case"ebook":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";case"book":return"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400"}};return s.jsxs("div",{className:"min-h-screen bg-gray-950 relative",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((w,_)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${_%4===0?"text-blue-400":_%4===1?"text-purple-400":_%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:_%4===0?s.jsx(ae,{}):_%4===1?s.jsx(kr,{}):_%4===2?s.jsx(de,{}):s.jsx(be,{})},_))]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"My Store"}),s.jsx("p",{className:"text-gray-400",children:"Manage your purchased and created educational resources"})]})}),s.jsxs("button",{onClick:()=>d(!0),className:"mt-4 sm:mt-0 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Resource"})]})]}),s.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:u,onChange:w=>p(w.target.value),placeholder:"Search your resources...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:m,onChange:w=>y(w.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Resources"}),s.jsx("option",{value:"purchased",children:"Purchased"}),s.jsx("option",{value:"created",children:"Created by Me"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.map(w=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsxs("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden relative",children:[s.jsx("img",{src:w.thumbnailUrl||S(w.type),alt:w.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx("button",{onClick:()=>o(w),className:"p-3 bg-white bg-opacity-20 rounded-full backdrop-blur-sm hover:bg-opacity-30 transition-colors",children:s.jsx(ye,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs rounded-full flex items-center space-x-1",children:[N(w.type),s.jsx("span",{children:b(w.type)})]}),w.isPurchased&&s.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-blue-600 text-white text-xs rounded-full",children:"Purchased"}),w.instructorId===e.id&&s.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-purple-600 text-white text-xs rounded-full",children:"Created"})]}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[N(w.type),s.jsx("h4",{className:"font-semibold text-white group-hover:text-green-400 transition-colors text-sm",children:w.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:_=>{_.preventDefault(),o(w)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),w.instructorId===e.id&&s.jsx("button",{onClick:_=>{_.preventDefault(),i&&i(w.id)},className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Delete Resource",children:s.jsx(at,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:w.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full",children:w.instructorProfilePicture?s.jsx("img",{src:w.instructorProfilePicture,alt:w.instructorName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:w.instructorName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(xi,{className:"w-3 h-3 text-yellow-500 fill-current"}),s.jsx("span",{children:w.rating})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(J,{className:"w-3 h-3"}),s.jsx("span",{children:w.enrollments})]})]})]}),s.jsxs("button",{onClick:()=>o(w),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-2 shadow-lg",children:[s.jsx(be,{className:"w-4 h-4"}),s.jsx("span",{children:w.isPurchased||w.instructorId===e.id?"Access Content":"View Details"})]})]},w.id)),g.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ae,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:m==="purchased"?"No purchased resources yet":m==="created"?"No created resources yet":"No resources found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:m==="purchased"?"Browse the EduStore to find educational resources":m==="created"?"Create your first educational resource to share with others":"Try adjusting your search terms or filters"}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl flex items-center space-x-2 mx-auto transition-colors shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Resource"})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Add Educational Resource"}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Resource Type"}),s.jsxs("select",{value:f.type,onChange:w=>v(_=>({..._,type:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"course",children:"Course (Video Content)"}),s.jsx("option",{value:"ebook",children:"eBook (Digital Book)"}),s.jsx("option",{value:"book",children:"Physical Book"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Resource File Upload"}),s.jsxs("button",{type:"button",onClick:j,className:"w-full border-2 border-dashed border-gray-600 rounded-xl p-6 text-center hover:border-green-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-green-400",children:[s.jsx(vs,{className:"w-8 h-8"}),s.jsx("span",{className:"text-sm",children:f.resourceFile?f.resourceFile.name:`Upload ${f.type==="course"?"video":f.type==="ebook"?"PDF/ePub":"image"}`}),s.jsx("span",{className:"text-xs text-gray-500",children:f.type==="course"?"MP4, MOV up to 500MB":f.type==="ebook"?"PDF, ePub up to 100MB":"JPG, PNG for book cover"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Thumbnail (Optional)"}),s.jsxs("button",{type:"button",onClick:x,className:"w-full border-2 border-dashed border-gray-600 rounded-xl p-4 text-center hover:border-green-500 transition-colors flex flex-col items-center space-y-2 text-gray-400 hover:text-green-400",children:[s.jsx(vs,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:f.thumbnailFile?f.thumbnailFile.name:"Upload resource thumbnail"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:f.title,onChange:w=>v(_=>({..._,title:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Enter resource title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{rows:4,value:f.description,onChange:w=>v(_=>({..._,description:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Describe your educational resource",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),s.jsxs("select",{value:f.category,onChange:w=>v(_=>({..._,category:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select category"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer-science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Level"}),s.jsxs("select",{value:f.level,onChange:w=>v(_=>({..._,level:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"Beginner",children:"Beginner"}),s.jsx("option",{value:"Intermediate",children:"Intermediate"}),s.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:f.tags,onChange:w=>v(_=>({..._,tags:w.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"e.g. calculus, mathematics, beginner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price (USD)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:f.price,onChange:w=>v(_=>({..._,price:parseFloat(w.target.value)||0})),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"0.00 (Free) or set a price"})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl transition-colors shadow-lg",children:"Add Resource"})]})]})]})}),l&&s.jsx(Cy,{course:l,user:e,onClose:()=>o(null),onDeleteResource:i})]}),s.jsx("style",{jsx:!0,children:`
        @keyframes float-slow {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        .animate-float-slow {
          animation: float-slow 6s ease-in-out infinite;
        }
      `})]})}const Py=({note:e,onClose:t,onSaveNote:r,isLoggedIn:n})=>{var l;if(!e)return null;const a=o=>{switch(o){case"note":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400"}},i=()=>{n?r(e.id):alert("Please log in to save notes")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:o=>o.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(de,{className:"w-8 h-8 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsx("span",{className:"text-blue-400 font-medium",children:"Note Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.posterUrl||a("note"),alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.userProfilePicture?s.jsx("img",{src:e.userProfilePicture,alt:e.userName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Uploaded by ",e.userName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["on ",new Date(e.uploadDate).toLocaleDateString()]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600 max-h-96 overflow-y-auto custom-scrollbar",children:s.jsx("p",{className:"text-gray-300 whitespace-pre-wrap leading-relaxed",children:e.content||e.summary})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(l=e.tags)==null?void 0:l.map(o=>s.jsx("span",{className:"bg-gray-700 text-gray-300 text-xs px-3 py-1 rounded-full",children:o},o))}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[s.jsxs("button",{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Mt,{className:"w-5 h-5"}),s.jsx("span",{children:"Save Note"})]}),s.jsxs("button",{className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Xh,{className:"w-5 h-5"}),s.jsx("span",{children:"Download"})]})]})]})]})})};function Ey({onNavigate:e,onSaveNote:t,isLoggedIn:r}){const[n,a]=C.useState(""),[i,l]=C.useState(null),[o,c]=C.useState("all"),u=[{id:"1",title:"Advanced Calculus Concepts",summary:"Comprehensive guide to derivatives, integrals, and their applications in real-world scenarios.",content:`Calculus is the mathematical study of continuous change, in the same way that geometry is the study of shape and algebra is the study of generalizations of arithmetic operations. It has two major branches, differential calculus and integral calculus, which are related by the fundamental theorem of calculus.

      Differential calculus concerns instantaneous rates of change and the slopes of curves, while integral calculus concerns accumulation of quantities and areas under or between curves. These two branches are linked by the fundamental theorem of calculus, which states that differentiation and integration are inverse operations.

      Applications of differential calculus include computations involving velocity and acceleration, the slope of a curve, and optimization. Applications of integral calculus include computations involving area, volume, arc length, center of mass, and work.`,tags:["calculus","mathematics","derivatives"],uploadDate:"2024-01-15T10:00:00Z",fileType:"pdf",userId:"2",userName:"Sarah Johnson",userProfilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:234,posterUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:"2",title:"Quantum Physics Fundamentals",summary:"Introduction to quantum mechanics, wave-particle duality, and quantum states.",content:`Quantum mechanics is a fundamental theory in physics that provides a description of the physical properties of nature at the scale of atoms and subatomic particles. It is the foundation of all quantum physics including quantum chemistry, quantum field theory, quantum technology, and quantum information science.

      The wave function, a mathematical function in quantum mechanics, provides information about the state of a quantum system. Its properties and evolution over time are governed by the Schrdinger equation, a central equation in quantum mechanics.`,tags:["physics","quantum","mechanics"],uploadDate:"2024-01-14T15:30:00Z",fileType:"pdf",userId:"4",userName:"Emma Davis",userProfilePicture:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:189,posterUrl:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:"3",title:"Organic Chemistry Reactions",summary:"Complete guide to organic chemistry reaction mechanisms and synthesis.",content:`Organic chemistry is a subdiscipline of chemistry that studies the structure, properties, and reactions of organic compounds, which contain carboncarbon covalent bonds.

      A reaction mechanism is the step-by-step sequence of elementary reactions by which overall chemical change occurs. Organic reactions are chemical reactions involving organic compounds. The basic types of organic reactions are addition reactions, elimination reactions, substitution reactions, pericyclic reactions, rearrangement reactions, photochemical reactions and redox reactions.`,tags:["chemistry","organic","reactions"],uploadDate:"2024-01-13T12:00:00Z",fileType:"pdf",userId:"5",userName:"Alex Rodriguez",userProfilePicture:"https://images.pexels.com/photos/1560932/pexels-photo-1560932.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:156,posterUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:"4",title:"Data Structures & Algorithms",summary:"Essential data structures and algorithms for computer science students.",content:`In computer science, a data structure is a data organization, management, and storage format that is usually chosen for efficient access to data. More precisely, a data structure is a collection of data values, the relationships among them, and the functions or operations that can be applied to the data.

      An algorithm is a finite sequence of rigorous instructions, typically used to solve a class of specific problems or to perform a computation. Algorithms are always unambiguous and are used as specifications for performing calculations, data processing, automated reasoning, and other tasks.`,tags:["computer-science","algorithms","programming"],uploadDate:"2024-01-12T18:45:00Z",fileType:"pdf",userId:"3",userName:"Mike Chen",userProfilePicture:"https://images.pexels.com/photos/1594951/pexels-photo-1594951.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:298,posterUrl:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400"}].filter(y=>{const f=y.title.toLowerCase().includes(n.toLowerCase())||y.summary.toLowerCase().includes(n.toLowerCase())||y.tags.some(k=>k.toLowerCase().includes(n.toLowerCase())),v=o==="all"||y.tags.some(k=>{switch(o){case"mathematics":return["calculus","mathematics","algebra","geometry"].includes(k.toLowerCase());case"physics":return["physics","quantum","mechanics"].includes(k.toLowerCase());case"chemistry":return["chemistry","organic","reactions"].includes(k.toLowerCase());case"computer science":return["computer-science","algorithms","programming"].includes(k.toLowerCase());case"biology":return["biology","life-science"].includes(k.toLowerCase());default:return!0}});return f&&v}),p=y=>{switch(y){case"note":return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400"}},m=y=>{t(y)};return s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Public Notes"}),s.jsx("p",{className:"text-gray-400",children:"Discover and save notes shared by the community"})]})}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:n,onChange:y=>a(y.target.value),placeholder:"Search notes by title, description, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:y=>c(y.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.map(y=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden",children:s.jsx("img",{src:y.posterUrl||p("note"),alt:y.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(de,{className:"w-5 h-5 text-blue-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-blue-400 transition-colors text-sm",children:y.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:f=>{f.preventDefault(),l(y)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:f=>{f.preventDefault(),m(y.id)},className:"p-1 text-gray-400 hover:text-blue-400 transition-colors",title:"Save Note",children:s.jsx(Mt,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:y.summary}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:y.userProfilePicture?s.jsx("img",{src:y.userProfilePicture,alt:y.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:y.userName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Mt,{className:"w-3 h-3"}),s.jsx("span",{children:y.saves})]})]})]},y.id)),u.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(de,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No notes found"}),s.jsx("p",{className:"text-gray-400",children:"Try adjusting your search terms or filters"})]})]}),i&&s.jsx(Py,{note:i,onClose:()=>l(null),onSaveNote:t,isLoggedIn:r})]})})}const Ty=({set:e,onClose:t,onSaveFlipCard:r,isLoggedIn:n})=>{if(!e)return null;const a=l=>{switch(l){case"flipcard":return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400"}},i=()=>{n?r(e.id):alert("Please log in to save flip card sets")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:l=>l.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(ne,{className:"w-8 h-8 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.title}),s.jsx("span",{className:"text-purple-400 font-medium",children:"Flip Card Set Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.posterUrl||a("flipcard"),alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:e.userProfilePicture?s.jsx("img",{src:e.userProfilePicture,alt:e.userName,className:"w-full h-full object-cover"}):s.jsx(V,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:["Created by ",e.userName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["on ",new Date(e.createdDate).toLocaleDateString(),"  ",e.cards.length," cards"]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600 max-h-96 overflow-y-auto custom-scrollbar space-y-4",children:e.cards.map((l,o)=>s.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[s.jsxs("div",{className:"flex items-start space-x-3 mb-2",children:[s.jsx("span",{className:"flex-shrink-0 bg-purple-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center",children:"Q"}),s.jsx("p",{className:"text-gray-200 font-medium",children:l.question})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 bg-green-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center",children:"A"}),s.jsx("p",{className:"text-gray-400",children:l.answer})]})]},l.id))}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[s.jsxs("button",{onClick:i,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Mt,{className:"w-5 h-5"}),s.jsx("span",{children:"Save Set"})]}),s.jsxs("button",{className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(be,{className:"w-5 h-5"}),s.jsx("span",{children:"Start Study"})]})]})]})]})})};function Dy({onNavigate:e,onSaveFlipCard:t,isLoggedIn:r}){const[n,a]=C.useState(""),[i,l]=C.useState(null),[o,c]=C.useState("all"),u=[{id:"1",title:"Calculus Quick Review",cards:[{id:"1",question:"What is a derivative?",answer:"Rate of change of a function"},{id:"2",question:"What is an integral?",answer:"Area under a curve"},{id:"3",question:"Chain rule formula",answer:"d/dx[f(g(x))] = f'(g(x))  g'(x)"}],createdDate:"2024-01-16T09:00:00Z",userId:"2",userName:"Sarah Johnson",userProfilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:156,posterUrl:"https://images.pexels.com/photos/5926392/pexels-photo-5926392.jpeg?auto=compress&cs=tinysrgb&w=400",tags:["calculus","mathematics","derivatives"]},{id:"2",title:"Physics Formulas",cards:[{id:"1",question:"Newton's Second Law",answer:"F = ma"},{id:"2",question:"Kinetic Energy Formula",answer:"KE = mv"},{id:"3",question:"Wave equation",answer:"v = f"},{id:"4",question:"Einstein's Mass-Energy Equivalence",answer:"E = mc"}],createdDate:"2024-01-15T14:30:00Z",userId:"4",userName:"Emma Davis",userProfilePicture:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:123,posterUrl:"https://images.pexels.com/photos/2280568/pexels-photo-2280568.jpeg?auto=compress&cs=tinysrgb&w=400",tags:["physics","formulas","equations"]},{id:"3",title:"Periodic Table Elements",cards:[{id:"1",question:"Atomic number of Oxygen",answer:"8"},{id:"2",question:"Symbol for Gold",answer:"Au"},{id:"3",question:"Halogens group number",answer:"Group 17"}],createdDate:"2024-01-14T11:00:00Z",userId:"5",userName:"Alex Rodriguez",userProfilePicture:"https://images.pexels.com/photos/1560932/pexels-photo-1560932.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:95,posterUrl:"https://images.pexels.com/photos/256262/pexels-photo-256262.jpeg?auto=compress&cs=tinysrgb&w=400",tags:["chemistry","periodic-table","elements"]},{id:"4",title:"Computer Science Basics",cards:[{id:"1",question:"What is a binary digit?",answer:"A bit (0 or 1)"},{id:"2",question:"What is an algorithm?",answer:"A set of rules for solving a problem"},{id:"3",question:"What is a variable?",answer:"A storage location"}],createdDate:"2024-01-13T16:00:00Z",userId:"3",userName:"Mike Chen",userProfilePicture:"https://images.pexels.com/photos/1594951/pexels-photo-1594951.jpeg?auto=compress&cs=tinysrgb&w=150",isPublic:!0,saves:210,posterUrl:"https://images.pexels.com/photos/34600/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=400",tags:["computer-science","programming","basics"]}].filter(y=>{var k,g;const f=y.title.toLowerCase().includes(n.toLowerCase())||y.cards.some(h=>h.question.toLowerCase().includes(n.toLowerCase())||h.answer.toLowerCase().includes(n.toLowerCase()))||((k=y.tags)==null?void 0:k.some(h=>h.toLowerCase().includes(n.toLowerCase()))),v=o==="all"||((g=y.tags)==null?void 0:g.some(h=>{switch(o){case"mathematics":return["calculus","mathematics","algebra","geometry"].includes(h.toLowerCase());case"physics":return["physics","formulas","equations"].includes(h.toLowerCase());case"chemistry":return["chemistry","periodic-table","elements"].includes(h.toLowerCase());case"computer science":return["computer-science","programming","basics"].includes(h.toLowerCase());case"biology":return["biology","life-science"].includes(h.toLowerCase());default:return!0}}));return f&&v}),p=y=>{switch(y){case"flipcard":return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/4050306/pexels-photo-4050306.jpeg?auto=compress&cs=tinysrgb&w=400"}},m=y=>{t(y)};return s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Public Flip Card Sets"}),s.jsx("p",{className:"text-gray-400",children:"Discover and save flashcard sets shared by the community"})]})}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:n,onChange:y=>a(y.target.value),placeholder:"Search flip card sets by title, content, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:y=>c(y.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.map(y=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden",children:s.jsx("img",{src:y.posterUrl||p("flipcard"),alt:y.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ne,{className:"w-5 h-5 text-purple-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-purple-400 transition-colors text-sm",children:y.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:f=>{f.preventDefault(),l(y)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Preview Set",children:s.jsx(ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:f=>{f.preventDefault(),m(y.id)},className:"p-1 text-gray-400 hover:text-purple-400 transition-colors",title:"Save Set",children:s.jsx(Mt,{className:"w-4 h-4"})})]})]}),s.jsxs("p",{className:"text-gray-400 text-xs mb-3",children:[y.cards.length," cards"]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full",children:y.userProfilePicture?s.jsx("img",{src:y.userProfilePicture,alt:y.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:y.userName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Mt,{className:"w-3 h-3"}),s.jsx("span",{children:y.saves})]})]})]},y.id)),u.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ne,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No flip card sets found"}),s.jsx("p",{className:"text-gray-400",children:"Try adjusting your search terms or filters"})]})]}),i&&s.jsx(Ty,{set:i,onClose:()=>l(null),onSaveFlipCard:t,isLoggedIn:r})]})})}const Ly=({community:e,onClose:t,onJoinCommunity:r,isLoggedIn:n})=>{var l;if(!e)return null;const a=o=>{switch(o){case"community":return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400"}},i=()=>{n?r(e.id):alert("Please log in to join communities")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4 overflow-y-auto",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full p-8 shadow-2xl border border-gray-700 relative m-auto",onClick:o=>o.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:s.jsx(Te,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx(J,{className:"w-8 h-8 text-teal-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.name}),s.jsx("span",{className:"text-teal-400 font-medium",children:"Community Preview"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-xl overflow-hidden",children:s.jsx("img",{src:e.posterUrl||a("community"),alt:e.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start space-x-3 text-gray-400",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:s.jsx(J,{className:"w-6 h-6 text-gray-500 m-2"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium text-gray-300",children:[e.memberCount," members"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Created on ",new Date(e.createdDate).toLocaleDateString()]})]})]}),s.jsx("div",{className:"bg-gray-700/50 p-6 rounded-xl border border-gray-600",children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(l=e.tags)==null?void 0:l.map(o=>s.jsxs("span",{className:"bg-gray-700 text-gray-300 text-xs px-3 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Tr,{className:"w-3 h-3"}),s.jsx("span",{children:o})]},o))}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.isPrivate?s.jsx(ve,{className:"w-4 h-4 text-yellow-500"}):s.jsx(Ke,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:e.isPrivate?"Private Community":"Public Community"})]}),s.jsxs("div",{className:"flex space-x-4 mt-4",children:[!e.isMember&&s.jsxs("button",{onClick:i,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(J,{className:"w-5 h-5"}),s.jsx("span",{children:"Join Community"})]}),s.jsxs("button",{className:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Yt,{className:"w-5 h-5"}),s.jsx("span",{children:"View Posts"})]})]})]})]})})};function Iy({onNavigate:e,user:t,onJoinCommunity:r,isLoggedIn:n}){const[a,i]=C.useState(null),[l,o]=C.useState(!1),[c,d]=C.useState(null),[u,p]=C.useState(""),[m,y]=C.useState("all"),[f,v]=C.useState(""),k=[{id:"1",name:"Computer Science Hub",description:"A community for CS students to share resources, discuss algorithms, and collaborate on projects.",posterUrl:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"2",memberCount:1247,isPrivate:!1,tags:["computer-science","programming","algorithms"],createdDate:"2024-01-01T00:00:00Z",isMember:!0},{id:"2",name:"Mathematics Masters",description:"Advanced mathematics discussions, problem solving, and research collaboration.",posterUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"3",memberCount:856,isPrivate:!0,tags:["mathematics","calculus","algebra"],createdDate:"2024-01-05T00:00:00Z",isMember:!1},{id:"3",name:"Physics Phenomena",description:"Exploring the wonders of physics from quantum mechanics to astrophysics.",posterUrl:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"4",memberCount:634,isPrivate:!1,tags:["physics","quantum","astrophysics"],createdDate:"2024-01-10T00:00:00Z",isMember:!0},{id:"4",name:"Chemistry Corner",description:"Organic, inorganic, and analytical chemistry discussions and lab tips.",posterUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"5",memberCount:423,isPrivate:!1,tags:["chemistry","organic","lab"],createdDate:"2024-01-12T00:00:00Z",isMember:!1},{id:"5",name:"Biology Study Group",description:"Explore life sciences and biological research together.",posterUrl:"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"6",memberCount:789,isPrivate:!1,tags:["biology"],createdDate:"2024-01-07T00:00:00Z",isMember:!1},{id:"6",name:"Engineering Solutions",description:"Collaborative problem solving for engineering challenges.",posterUrl:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"7",memberCount:945,isPrivate:!1,tags:["engineering"],createdDate:"2024-01-06T00:00:00Z",isMember:!1}],g=[{id:"1",userId:"2",userName:"Sarah Johnson",userProfilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",content:"Just finished implementing a binary search tree in Python! The recursive approach really clicked for me. Anyone want to discuss different traversal methods?",timestamp:"2024-01-15T14:30:00Z",communityId:a==null?void 0:a.id},{id:"2",userId:"3",userName:"Mike Chen",content:"Working on dynamic programming problems. The coin change problem is a great starting point for understanding optimal substructure. Here's my solution approach...",timestamp:"2024-01-15T12:15:00Z",communityId:a==null?void 0:a.id}],h=k.filter(b=>{const S=b.name.toLowerCase().includes(u.toLowerCase())||b.description.toLowerCase().includes(u.toLowerCase())||b.tags.some(_=>_.toLowerCase().includes(u.toLowerCase())),w=m==="all"||b.tags.some(_=>{switch(m){case"mathematics":return["mathematics","calculus","algebra"].includes(_.toLowerCase());case"physics":return["physics","quantum","astrophysics"].includes(_.toLowerCase());case"chemistry":return["chemistry","organic","lab"].includes(_.toLowerCase());case"computer science":return["computer-science","programming","algorithms"].includes(_.toLowerCase());case"biology":return["biology"].includes(_.toLowerCase());case"engineering":return["engineering"].includes(_.toLowerCase());default:return!0}});return S&&w}),x=b=>{if(!n){alert("You must be logged in to join a community."),e("login");return}r?r(b):(console.log("Joining community:",b),alert("Request to join sent! (Placeholder)"))},j=b=>{if(b.preventDefault(),!n){alert("You must be logged in to create posts.");return}f.trim()&&a&&(console.log("Creating post in community:",a.id,f),v(""))},N=b=>{switch(b){case"community":return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400";default:return"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=400"}};return a?s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 overflow-hidden mb-8 shadow-lg",children:[a.posterUrl&&s.jsxs("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-purple-600 relative",children:[s.jsx("img",{src:a.posterUrl,alt:a.name,className:"w-full h-full object-cover opacity-60"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:a.name}),a.isPrivate?s.jsx(ve,{className:"w-5 h-5 text-yellow-500"}):s.jsx(Ke,{className:"w-5 h-5 text-green-500"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:a.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(J,{className:"w-4 h-4"}),s.jsxs("span",{children:[a.memberCount," members"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(je,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created ",new Date(a.createdDate).toLocaleDateString()]})]})]})]}),s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-xl transition-colors flex items-center justify-center",children:"Back to Communities"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(b=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-gray-800 text-gray-300 text-sm rounded-full border border-gray-600",children:[s.jsx(Tr,{className:"w-3 h-3 mr-1"}),b]},b))})]})]}),n&&a.isMember&&s.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsx("form",{onSubmit:j,className:"space-y-4",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-sm",children:t!=null&&t.profilePicture?s.jsx("img",{src:t.profilePicture,alt:t.name,className:"w-10 h-10 rounded-xl object-cover"}):s.jsx(V,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:f,onChange:b=>v(b.target.value),placeholder:`Share something with ${a.name}...`,className:"w-full p-4 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none text-white placeholder-gray-400",rows:3}),s.jsx("div",{className:"flex justify-end mt-3",children:s.jsxs("button",{type:"submit",disabled:!f.trim(),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700 text-white px-6 py-2 rounded-xl flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 disabled:transform-none disabled:cursor-not-allowed shadow-lg",children:[s.jsx(Sr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Post"})]})})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Community Feed"}),n&&a.isMember?s.jsxs(s.Fragment,{children:[g.map(b=>s.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-sm",children:b.userProfilePicture?s.jsx("img",{src:b.userProfilePicture,alt:b.userName,className:"w-10 h-10 rounded-xl object-cover"}):s.jsx(V,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("p",{className:"font-medium text-white",children:b.userName}),s.jsx("span",{className:"text-sm text-gray-500",children:""}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(b.timestamp).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-300",children:b.content})]})]})},b.id)),g.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No posts yet. Be the first to share something!"})]})]}):s.jsxs("div",{className:"text-center py-12 bg-gray-900 rounded-2xl border border-gray-700 p-8",children:[s.jsx(ve,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"This is a private community."}),s.jsx("p",{className:"text-gray-400",children:"You must be a member to view posts and participate in the discussion."}),s.jsxs("button",{onClick:()=>x(a.id),className:"mt-6 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold px-6 py-3 rounded-xl flex items-center justify-center mx-auto space-x-2 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(J,{className:"w-5 h-5"}),s.jsx("span",{children:"Request to Join"})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Public Communities"}),s.jsx("p",{className:"text-gray-400",children:"Discover and join study groups and subject-specific communities"})]})}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:u,onChange:b=>p(b.target.value),placeholder:"Search communities by name, description, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:m,onChange:b=>y(b.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"engineering",children:"Engineering"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.map(b=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden",children:s.jsx("img",{src:b.posterUrl||N("community"),alt:b.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(J,{className:"w-5 h-5 text-teal-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-teal-400 transition-colors text-sm",children:b.name})]}),s.jsxs("div",{className:"flex items-center space-x-1 ml-auto",children:[s.jsx("button",{onClick:S=>{S.preventDefault(),d(b),o(!0)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),!b.isMember&&s.jsx("button",{onClick:S=>{S.preventDefault(),x(b.id)},className:"p-1 text-gray-400 hover:text-teal-400 transition-colors",title:b.isPrivate?"Request to Join":"Join Community",children:s.jsx(bs,{className:"w-4 h-4"})}),b.isPrivate?s.jsx(ve,{className:"w-4 h-4 text-yellow-500"}):s.jsx(Ke,{className:"w-4 h-4 text-green-500"})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:b.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-teal-500 to-blue-600 rounded-full",children:s.jsx(J,{className:"w-3 h-3 text-white"})}),s.jsxs("span",{children:[b.memberCount," members"]})]}),s.jsx("span",{children:b.isPrivate?"Private":"Public"})]})]},b.id)),h.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(J,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No communities found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search terms or filters"})]})]}),l&&c&&s.jsx(Ly,{community:c,onClose:()=>{o(!1),d(null)},onJoinCommunity:x,isLoggedIn:n})]})})}function My({onNavigate:e,user:t,onAddNotification:r,isLoggedIn:n}){const[a,i]=C.useState(null),[l,o]=C.useState(""),[c,d]=C.useState("all"),p=[{id:"1",title:"Calculus Study Group",description:"Working through derivatives and integrals. Bring your questions!",hostId:"2",hostName:"Sarah Johnson",hostProfilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",participants:[{id:"2",name:"Sarah Johnson",email:"sarah@example.com",followers:156,following:89,profileVisibility:"public",joinDate:"2024-01-10T00:00:00Z"},{id:"3",name:"Mike Chen",email:"mike@example.com",followers:203,following:145,profileVisibility:"public",joinDate:"2024-01-05T00:00:00Z"}],scheduledTime:"2025-07-01T19:00:00Z",duration:120,isActive:!1,maxParticipants:8,subject:"Mathematics",meetingUrl:"https://meet.example.com/calculus-study",isPublic:!0,tags:["calculus","mathematics"],posterUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:"2",title:"Physics Problem Solving",description:"Live Q&A to clarify concepts on quantum mechanics and wave theory.",hostId:"4",hostName:"Emma Davis",hostProfilePicture:"https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&w=150",participants:[{id:"4",name:"Emma Davis",email:"emma@example.com",followers:89,following:67,profileVisibility:"public",joinDate:"2024-01-15T00:00:00Z"}],scheduledTime:"2025-06-27T15:30:00Z",duration:90,isActive:!0,maxParticipants:6,subject:"Physics",meetingUrl:"https://meet.example.com/physics-qa",isPublic:!0,tags:["physics","quantum"],posterUrl:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:"3",title:"Chemistry Lab Techniques",description:"Discussing safe and effective lab practices for organic chemistry.",hostId:"5",hostName:"Leo Varghese",hostProfilePicture:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150",participants:[],scheduledTime:"2025-07-02T11:00:00Z",duration:60,isActive:!1,maxParticipants:10,subject:"Chemistry",meetingUrl:"https://meet.example.com/chem-lab",isPublic:!0,tags:["chemistry","lab","organic"],posterUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:"4",title:"Programming Workshop",description:"Practice coding interview questions on arrays and linked lists.",hostId:"6",hostName:"Mike Chen",participants:[],scheduledTime:"2025-07-05T20:00:00Z",duration:120,isActive:!1,maxParticipants:15,subject:"Computer Science",meetingUrl:"https://meet.example.com/coding-workshop",isPublic:!0,tags:["computer-science","algorithms"],posterUrl:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400"}].filter(v=>{const k=v.isPublic&&(v.title.toLowerCase().includes(l.toLowerCase())||v.description.toLowerCase().includes(l.toLowerCase())||v.subject.toLowerCase().includes(l.toLowerCase())||v.tags.some(h=>h.toLowerCase().includes(l.toLowerCase()))),g=c==="all"||v.subject.toLowerCase()===c.toLowerCase();return k&&g}),m=v=>{if(!n){r&&r({type:"warning",title:"Login Required",message:"You must be logged in to join a session."}),e("login");return}v.meetingUrl?window.open(v.meetingUrl,"_blank"):(console.log("Joining session:",v.id),r&&r({type:"success",title:"Session Joined",message:"You have successfully joined the session!"}))},y=v=>{if(!n){r&&r({type:"warning",title:"Login Required",message:"You must be logged in to join a session."}),e("login");return}v.meetingUrl?window.open(v.meetingUrl,"_blank"):r&&r({type:"error",title:"Meeting Unavailable",message:"Meeting link is not available yet."})},f=v=>{if(!n){r&&r({type:"warning",title:"Login Required",message:"You must be logged in to get notifications."}),e("login");return}console.log("Setting notification for session:",v),r&&r({type:"info",title:"Notification Set",message:"You will be notified when the session starts!"})};return a?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 transition-opacity duration-300",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 p-8 max-w-3xl w-full shadow-2xl transform scale-95 animate-fade-in-up",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:a.title}),s.jsxs("div",{className:"space-y-6 mb-8",children:[s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:a.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[s.jsx(V,{className:"w-6 h-6 text-blue-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Hosted by:"}),s.jsx("p",{className:"text-white font-semibold",children:a.hostName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[s.jsx(ae,{className:"w-6 h-6 text-purple-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Subject:"}),s.jsx("p",{className:"text-white font-semibold",children:a.subject})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[a.isPublic?s.jsx(Ke,{className:"w-6 h-6 text-green-400"}):s.jsx(ve,{className:"w-6 h-6 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Visibility:"}),s.jsx("p",{className:"text-white font-semibold",children:a.isPublic?"Public":"Private"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[s.jsx(je,{className:"w-6 h-6 text-orange-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"}),s.jsx("p",{className:"text-white font-semibold",children:new Date(a.scheduledTime).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[s.jsx(ys,{className:"w-6 h-6 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Time:"}),s.jsxs("p",{className:"text-white font-semibold",children:[new Date(a.scheduledTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," (",a.duration," min)"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[s.jsx(J,{className:"w-6 h-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Attendees:"}),s.jsxs("p",{className:"text-white font-semibold",children:[a.participants.length,"/",a.maxParticipants]})]})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-semibold text-gray-300 mb-3",children:"Who's joining:"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:a.participants.map(v=>s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-full pr-4 py-2 pl-2 border border-gray-700",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:v.profilePicture?s.jsx("img",{src:v.profilePicture,alt:v.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx(V,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-200 text-sm",children:v.name})]},v.id))})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"flex-1 px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 transition-colors font-medium",children:"Close"}),a.isActive?s.jsxs("button",{onClick:()=>y(a),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 px-6 rounded-xl text-lg font-bold transition-all transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[s.jsx(be,{className:"w-5 h-5"}),s.jsx("span",{children:"Join Live Session"})]}):s.jsx("button",{onClick:()=>m(a),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 px-6 rounded-xl text-lg font-bold transition-all transform hover:scale-105 shadow-lg",children:"Join Session"})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Public Study Sessions"}),s.jsx("p",{className:"text-gray-400",children:"Discover and join upcoming or live study sessions"})]})}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:v=>o(v.target.value),placeholder:"Search study sessions by title, subject, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.map(v=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsxs("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden relative",children:[s.jsx("img",{src:v.posterUrl,alt:v.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),v.isActive&&s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-green-600 text-white text-xs rounded-full font-medium",children:"Live"}),v.isNotified&&!v.isActive&&s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs rounded-full font-medium",children:"Notify Set"}),s.jsxs("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded",children:[v.duration,"m"]})]}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[v.isActive?s.jsx(ke,{className:"w-5 h-5 text-green-400"}):s.jsx(je,{className:"w-5 h-5 text-blue-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-blue-400 transition-colors text-sm",children:v.title})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:k=>{k.preventDefault(),i(v)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),v.isActive?s.jsx("button",{onClick:k=>{k.preventDefault(),y(v)},className:"p-1 text-green-400 hover:text-green-300 transition-colors",title:"Join Live Session",children:s.jsx(be,{className:"w-4 h-4"})}):s.jsx("button",{onClick:k=>{k.preventDefault(),f(v.id)},className:"p-1 text-blue-400 hover:text-blue-300 transition-colors",title:"Get Notified",children:s.jsx(Zl,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:v.hostProfilePicture?s.jsx("img",{src:v.hostProfilePicture,alt:v.hostName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:v.hostName})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ys,{className:"w-3 h-3"}),s.jsxs("span",{children:[v.duration,"m"]})]})]})]},v.id)),p.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(je,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No public study sessions found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search terms or filters"})]})]})]})})}function Ay({onNavigate:e,onSaveInfovid:t,isLoggedIn:r}){const[n,a]=C.useState(null),[i,l]=C.useState(""),[o,c]=C.useState("all"),u=[{id:"1",title:"Understanding Derivatives in 5 Minutes",description:"Quick explanation of derivatives with visual examples",videoUrl:"https://example.com/video1.mp4",thumbnailUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"2",creatorName:"Sarah Johnson",creatorProfilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",duration:300,views:1247,likes:89,tags:["calculus","derivatives","mathematics"],subject:"Mathematics",createdDate:"2024-01-15T10:00:00Z",isLiked:!1},{id:"2",title:"Quantum Physics Explained Simply",description:"Understanding quantum mechanics through simple analogies",videoUrl:"https://example.com/video2.mp4",thumbnailUrl:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"4",creatorName:"Emma Davis",duration:420,views:856,likes:67,tags:["quantum","physics","waves"],subject:"Physics",createdDate:"2024-01-14T15:30:00Z",isLiked:!1},{id:"3",title:"Organic Chemistry Reactions",description:"Step-by-step breakdown of common organic reactions",videoUrl:"https://example.com/video3.mp4",thumbnailUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"5",creatorName:"Alex Rodriguez",duration:360,views:634,likes:45,tags:["organic","chemistry","reactions"],subject:"Chemistry",createdDate:"2024-01-13T12:00:00Z",isLiked:!1},{id:"4",title:"Programming Fundamentals",description:"Basic programming concepts explained clearly",videoUrl:"https://example.com/video4.mp4",thumbnailUrl:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"3",creatorName:"Mike Chen",duration:480,views:923,likes:78,tags:["programming","fundamentals","algorithms"],subject:"Computer Science",createdDate:"2024-01-12T18:45:00Z",isLiked:!1}].filter(k=>{const g=k.title.toLowerCase().includes(i.toLowerCase())||k.description.toLowerCase().includes(i.toLowerCase())||k.tags.some(x=>x.toLowerCase().includes(i.toLowerCase())),h=o==="all"||k.subject.toLowerCase()===o.toLowerCase();return g&&h}),p=k=>{r||(alert("Please log in to like this video!"),e("login"))},m=k=>{r?t&&t(k):(alert("Please log in to save this infovid!"),e("login"))},y=k=>{navigator.share?navigator.share({title:k.title,text:k.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},f=k=>{const g=Math.floor(k/60),h=k%60;return`${g}:${h.toString().padStart(2,"0")}`},v=k=>{switch(k.toLowerCase()){case"mathematics":return"bg-purple-600";case"physics":return"bg-blue-600";case"chemistry":return"bg-green-600";case"computer science":return"bg-pink-600";default:return"bg-gray-600"}};return s.jsx("div",{className:"min-h-screen bg-gray-950",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Public Infovids"}),s.jsx("p",{className:"text-gray-400",children:"Learn through short, engaging educational videos"})]})}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:i,onChange:k=>l(k.target.value),placeholder:"Search infovids by title, description, or tags...",className:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ge,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:k=>c(k.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"computer science",children:"Computer Science"}),s.jsx("option",{value:"biology",children:"Biology"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.map(k=>s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 hover:shadow-lg transition-all duration-200 group",children:[s.jsxs("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden relative",children:[s.jsx("img",{src:k.thumbnailUrl,alt:k.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),s.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 ${v(k.subject)} text-white text-xs rounded font-medium`,children:k.subject}),s.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded",children:f(k.duration)}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx("button",{onClick:()=>a(k),className:"p-3 bg-white bg-opacity-20 rounded-full backdrop-blur-sm hover:bg-opacity-30 transition-colors",children:s.jsx(be,{className:"w-6 h-6 text-white"})})})]}),s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ke,{className:"w-5 h-5 text-pink-400"}),s.jsx("h4",{className:"font-semibold text-white group-hover:text-pink-400 transition-colors text-sm",children:k.title})]}),s.jsxs("div",{className:"flex items-center space-x-1 ml-auto",children:[s.jsx("button",{onClick:g=>{g.preventDefault(),a(k)},className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Details",children:s.jsx(ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:g=>{g.preventDefault(),m(k.id)},className:"p-1 text-gray-400 hover:text-pink-400 transition-colors",title:"Save Infovid",children:s.jsx(Mt,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2",children:k.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full",children:k.creatorProfilePicture?s.jsx("img",{src:k.creatorProfilePicture,alt:k.creatorName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(V,{className:"w-3 h-3 text-white"})}),s.jsx("span",{children:k.creatorName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ye,{className:"w-3 h-3"}),s.jsx("span",{children:k.views})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(zs,{className:"w-3 h-3"}),s.jsx("span",{children:k.likes})]})]})]})]},k.id)),u.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ke,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No infovids found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search terms or filters"}),s.jsxs("button",{onClick:()=>e("login"),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl flex items-center space-x-2 mx-auto transition-colors shadow-lg",children:[s.jsx(tt,{className:"w-5 h-5"}),s.jsx("span",{children:"Login to Create an Infovid"})]})]})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"max-w-4xl w-full",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl overflow-hidden border border-gray-700",children:[s.jsx("div",{className:"aspect-video bg-black relative",children:s.jsx("video",{src:n.videoUrl,poster:n.thumbnailUrl,controls:!0,autoPlay:!0,className:"w-full h-full object-contain",children:"Your browser does not support the video tag."})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-white text-xl mb-2",children:n.title}),s.jsx("p",{className:"text-gray-400 text-sm",children:n.description})]}),s.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-white transition-colors",children:""})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full",children:n.creatorProfilePicture?s.jsx("img",{src:n.creatorProfilePicture,alt:n.creatorName,className:"w-8 h-8 rounded-full object-cover"}):s.jsx(V,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm",children:n.creatorName})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ye,{className:"w-4 h-4"}),s.jsx("span",{children:n.views})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ys,{className:"w-4 h-4"}),s.jsx("span",{children:f(n.duration)})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>p(n.id),className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors",children:s.jsx(zs,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>m(n.id),className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors",children:s.jsx(Mt,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(n),className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors",children:s.jsx(sc,{className:"w-5 h-5"})})]})]})]})]})})})]})})}function $y({course:e,onPaymentComplete:t,onCancel:r}){const[n,a]=C.useState("card"),[i,l]=C.useState(!1),[o,c]=C.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",email:"",billingAddress:{street:"",city:"",state:"",zipCode:"",country:""}}),d=(v,k)=>{if(v.startsWith("billing.")){const g=v.split(".")[1];c(h=>({...h,billingAddress:{...h.billingAddress,[g]:k}}))}else c(g=>({...g,[v]:k}))},u=v=>{const k=v.replace(/\s+/g,"").replace(/[^0-9]/gi,""),g=k.match(/\d{4,16}/g),h=g&&g[0]||"",x=[];for(let j=0,N=h.length;j<N;j+=4)x.push(h.substring(j,j+4));return x.length?x.join(" "):k},p=v=>{const k=v.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return k.length>=2?k.substring(0,2)+"/"+k.substring(2,4):k},m=async v=>{v.preventDefault(),l(!0),setTimeout(()=>{const k={id:Date.now().toString(),userId:"1",courseId:e.id,courseName:e.title,amount:e.price,currency:e.currency,purchaseDate:new Date().toISOString(),paymentMethod:n==="card"?"Credit Card":"PayPal",status:"completed"};t(k),l(!1)},3e3)},y=e.price*.1,f=e.price+y;return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-4xl w-full",children:s.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 overflow-hidden shadow-2xl",children:s.jsxs("div",{className:"flex flex-col lg:flex-row",children:[s.jsxs("div",{className:"lg:w-2/5 bg-gradient-to-br from-blue-900/50 to-purple-900/50 p-8",children:[s.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-gray-300 hover:text-white mb-6 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Course"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full aspect-video object-cover rounded-xl mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[s.jsx(V,{className:"w-4 h-4"}),s.jsxs("span",{children:["by ",e.instructorName]})]})]}),s.jsxs("div",{className:"space-y-3 border-t border-gray-700 pt-6",children:[s.jsxs("div",{className:"flex justify-between text-gray-300",children:[s.jsx("span",{children:"Course Price"}),s.jsxs("span",{children:["$",e.price.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-300",children:[s.jsx("span",{children:"Tax"}),s.jsxs("span",{children:["$",y.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xl font-bold text-white border-t border-gray-700 pt-3",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",f.toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-800/50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-green-400 mb-2",children:[s.jsx(ve,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Secure Payment"})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Your payment information is encrypted and secure. 30-day money-back guarantee."})]})]}),s.jsxs("div",{className:"lg:w-3/5 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Complete Your Purchase"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Payment Method"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>a("card"),className:`p-4 border rounded-xl transition-colors flex items-center justify-center space-x-2 ${n==="card"?"border-blue-500 bg-blue-900/20 text-blue-400":"border-gray-600 text-gray-400 hover:border-gray-500"}`,children:[s.jsx(bf,{className:"w-5 h-5"}),s.jsx("span",{children:"Credit Card"})]}),s.jsxs("button",{type:"button",onClick:()=>a("paypal"),className:`p-4 border rounded-xl transition-colors flex items-center justify-center space-x-2 ${n==="paypal"?"border-blue-500 bg-blue-900/20 text-blue-400":"border-gray-600 text-gray-400 hover:border-gray-500"}`,children:[s.jsx(Zh,{className:"w-5 h-5"}),s.jsx("span",{children:"PayPal"})]})]})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n==="card"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cardholder Name"}),s.jsx("input",{type:"text",value:o.cardholderName,onChange:v=>d("cardholderName",v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Card Number"}),s.jsx("input",{type:"text",value:o.cardNumber,onChange:v=>d("cardNumber",u(v.target.value)),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"1234 5678 9012 3456",maxLength:19,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Expiry Date"}),s.jsx("input",{type:"text",value:o.expiryDate,onChange:v=>d("expiryDate",p(v.target.value)),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"MM/YY",maxLength:5,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"CVV"}),s.jsx("input",{type:"text",value:o.cvv,onChange:v=>d("cvv",v.target.value.replace(/\D/g,"")),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"123",maxLength:4,required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:o.email,onChange:v=>d("email",v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"john@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Billing Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",value:o.billingAddress.street,onChange:v=>d("billing.street",v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Street Address",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",value:o.billingAddress.city,onChange:v=>d("billing.city",v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"City",required:!0}),s.jsx("input",{type:"text",value:o.billingAddress.state,onChange:v=>d("billing.state",v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"State",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",value:o.billingAddress.zipCode,onChange:v=>d("billing.zipCode",v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"ZIP Code",required:!0}),s.jsx("input",{type:"text",value:o.billingAddress.country,onChange:v=>d("billing.country",v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-white placeholder-gray-400",placeholder:"Country",required:!0})]})]})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none disabled:cursor-not-allowed shadow-lg flex items-center justify-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Processing Payment..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ve,{className:"w-5 h-5"}),s.jsxs("span",{children:["Complete Purchase - $",f.toFixed(2)]})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-400",children:"By completing your purchase, you agree to our Terms of Service and Privacy Policy."})})]})]})})})})}function Od({onNavigate:e,isLoggedIn:t}){const r=[{icon:de,title:"Smart Notes",description:"Upload and organize your study materials with AI-powered summaries and insights.",color:"from-blue-500 to-blue-600",view:"notes"},{icon:ne,title:"Flip Cards",description:"Create flashcards automatically from your notes or manually for effective memorization.",color:"from-purple-500 to-purple-600",view:"flipcards"},{icon:J,title:"Communities",description:"Join subject-specific communities to connect with fellow learners.",color:"from-teal-500 to-teal-600",view:"communities"},{icon:je,title:"Study Sessions",description:"Schedule or join collaborative study sessions with video conferencing.",color:"from-green-500 to-green-600",view:"study-sessions"},{icon:ke,title:"Infovids",description:"Watch and create short educational videos on complex topics.",color:"from-pink-500 to-pink-600",view:"infovids"},{icon:ae,title:"EduStore",description:"Access premium courses, e-books, and educational resources.",color:"from-yellow-500 to-yellow-600",view:"store"}],n=[{title:"Public Notes",description:"Browse study materials shared by the community",icon:de,color:"from-blue-500 to-blue-600",view:"public-notes"},{title:"Public Flip Cards",description:"Discover flashcard sets on various subjects",icon:ne,color:"from-purple-500 to-purple-600",view:"public-flipcards"},{title:"Public Communities",description:"Join subject-specific learning groups",icon:J,color:"from-teal-500 to-teal-600",view:"public-communities"},{title:"Public Study Sessions",description:"Participate in upcoming collaborative sessions",icon:je,color:"from-green-500 to-green-600",view:"public-sessions"},{title:"Public Infovids",description:"Watch educational videos from the community",icon:ke,color:"from-pink-500 to-pink-600",view:"public-infovids"}];return s.jsxs("div",{className:"min-h-screen bg-gray-950",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-teal-900/20"}),[...Array(20)].map((a,i)=>s.jsx("div",{className:`absolute animate-float-slow opacity-10 ${i%4===0?"text-blue-400":i%4===1?"text-purple-400":i%4===2?"text-teal-400":"text-pink-400"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${Math.random()*20+20}px`},children:i%4===0?s.jsx(ae,{}):i%4===1?s.jsx(ne,{}):i%4===2?s.jsx(fs,{}):s.jsx(J,{})},i)),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 relative z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 mb-6",children:"Your Growth, Our Community"}),s.jsx("p",{className:"text-xl sm:text-2xl text-gray-300 max-w-3xl mx-auto mb-8",children:"The ultimate learning platform for students to collaborate, share knowledge, and achieve academic excellence together."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsxs("button",{onClick:()=>e(t?"dashboard":"login"),className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-xl shadow-lg transform transition-all duration-300 hover:scale-105 flex items-center space-x-2",children:[s.jsx("span",{children:t?"Go to Dashboard":"Get Started"}),s.jsx(Pt,{className:"w-5 h-5"})]}),s.jsxs("button",{onClick:()=>e("explore"),className:"px-8 py-4 bg-gray-800 hover:bg-gray-700 text-white font-bold rounded-xl shadow-lg transform transition-all duration-300 hover:scale-105 flex items-center space-x-2",children:[s.jsx(Ce,{className:"w-5 h-5"}),s.jsx("span",{children:"Explore"})]})]})]})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Supercharge Your Learning"}),s.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"StudyMates combines powerful tools and a supportive community to transform how you learn and collaborate."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((a,i)=>s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 border border-gray-700 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-[1.02]",children:[s.jsx("div",{className:`inline-flex p-4 rounded-xl bg-gradient-to-r ${a.color} mb-6 shadow-lg`,children:s.jsx(a.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:a.title}),s.jsx("p",{className:"text-gray-400 mb-6",children:a.description}),s.jsxs("button",{onClick:()=>e(t?a.view:"login"),className:"text-blue-400 hover:text-blue-300 font-medium flex items-center space-x-2 transition-colors",children:[s.jsx("span",{children:t?"Explore Now":"Sign In to Access"}),s.jsx(Pt,{className:"w-4 h-4"})]})]},i))})]}),s.jsx("div",{className:"bg-gray-900/50 py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Explore Public Content"}),s.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Discover a wealth of educational resources shared by our community, no account required."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((a,i)=>s.jsxs("button",{onClick:()=>e(a.view),className:"bg-gray-800 hover:bg-gray-700 rounded-xl p-6 border border-gray-700 text-left transition-all duration-300 flex items-start space-x-4",children:[s.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${a.color} shadow-lg`,children:s.jsx(a.icon,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:a.title}),s.jsx("p",{className:"text-gray-400 text-sm",children:a.description})]})]},i))})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 via-purple-900/50 to-teal-900/50 rounded-3xl p-10 sm:p-16 border border-gray-700 shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:[...Array(10)].map((a,i)=>s.jsx("div",{className:"absolute",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,fontSize:`${Math.random()*30+20}px`},children:i%5===0?s.jsx(ae,{}):i%5===1?s.jsx(ne,{}):i%5===2?s.jsx(fs,{}):i%5===3?s.jsx(J,{}):s.jsx(nm,{})},i))}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[s.jsx(Ya,{className:"w-6 h-6 text-yellow-400 animate-pulse"}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Join Our Learning Community"}),s.jsx(Ya,{className:"w-6 h-6 text-yellow-400 animate-pulse"})]}),s.jsx("p",{className:"text-xl text-gray-300 text-center max-w-3xl mx-auto mb-10",children:"Create an account to unlock all features, connect with study partners, and take your learning to the next level."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsxs("button",{onClick:()=>e("login"),className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-xl shadow-lg transform transition-all duration-300 hover:scale-105 flex items-center space-x-2 w-full sm:w-auto justify-center",children:[s.jsx("span",{children:t?"Go to Dashboard":"Sign Up Now"}),s.jsx(Pt,{className:"w-5 h-5"})]}),s.jsxs("button",{onClick:()=>e("explore"),className:"px-8 py-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-bold rounded-xl shadow-lg transform transition-all duration-300 hover:scale-105 backdrop-blur-sm w-full sm:w-auto justify-center flex items-center space-x-2",children:[s.jsx(Ce,{className:"w-5 h-5"}),s.jsx("span",{children:"Explore First"})]})]})]})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes float-slow {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        .animate-float-slow {
          animation: float-slow 6s ease-in-out infinite;
        }
      `})]})}function Uy(){const[e,t]=C.useState("home"),[r,n]=C.useState("home"),[a,i]=C.useState(!1),[l,o]=C.useState(null),[c,d]=C.useState([]),[u,p]=C.useState(null),[m,y]=C.useState(["home"]),[f,v]=C.useState([]),[k,g]=C.useState([]),[h,x]=C.useState([]),[j,N]=C.useState([]),[b,S]=C.useState([]),[w,_]=C.useState([]),[D,O]=C.useState([]),[Q,P]=C.useState([]),[q,M]=C.useState([]),[B,H]=C.useState([]),[I,U]=C.useState([]),[E,Y]=C.useState([]);C.useEffect(()=>{(async()=>{const{data:z}=await Et.auth.getSession();z.session&&(i(!0),G(z.session.user.id))})();const{data:$}=Et.auth.onAuthStateChange(async(z,oe)=>{z==="SIGNED_IN"&&oe?(i(!0),G(oe.user.id)):z==="SIGNED_OUT"&&(i(!1),o(null))});return()=>{$.subscription.unsubscribe()}},[]);const G=async A=>{try{const{data:$,error:z}=await Et.from("users").select("*").eq("id",A).maybeSingle();if(z){console.error("Error fetching user data:",z);return}$?(o({id:$.id,name:$.name,email:$.email,profilePicture:$.profile_picture,bio:$.bio,education:$.education,location:$.location,followers:$.followers||0,following:$.following||0,profileVisibility:$.profile_visibility||"public",joinDate:$.join_date||$.created_at}),mt(A)):console.log("User profile not found in database")}catch($){console.error("Error fetching user data:",$)}},mt=async A=>{v([{id:"1",title:"Advanced Calculus Concepts",summary:"Comprehensive guide to derivatives, integrals, and their applications.",content:"Detailed notes on calculus concepts including limits, derivatives, and integrals...",tags:["calculus","mathematics","derivatives"],uploadDate:"2024-01-15T10:00:00Z",fileType:"pdf",userId:"1",userName:"You",isPublic:!0,saves:234,posterUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400"},{id:"2",title:"Quantum Physics Fundamentals",summary:"Introduction to quantum mechanics and wave-particle duality.",content:"Notes covering the basics of quantum physics...",tags:["physics","quantum","mechanics"],uploadDate:"2024-01-14T15:30:00Z",fileType:"pdf",userId:"1",userName:"You",isPublic:!1,saves:0,posterUrl:"https://images.pexels.com/photos/2280549/pexels-photo-2280549.jpeg?auto=compress&cs=tinysrgb&w=400"}]),g([{id:"1",title:"Calculus Quick Review",cards:[{id:"1",question:"What is a derivative?",answer:"Rate of change of a function"},{id:"2",question:"What is an integral?",answer:"Area under a curve"},{id:"3",question:"Chain rule formula",answer:"d/dx[f(g(x))] = f'(g(x))  g'(x)"}],createdDate:"2024-01-16T09:00:00Z",userId:"1",userName:"You",isPublic:!0,saves:156,posterUrl:"https://images.pexels.com/photos/5926392/pexels-photo-5926392.jpeg?auto=compress&cs=tinysrgb&w=400",tags:["calculus","mathematics","derivatives"]}]),N([{id:"1",type:"note_upload",title:"Uploaded New Note",description:"Advanced Calculus Concepts",timestamp:"2024-01-15T10:00:00Z",relatedId:"1"},{id:"2",type:"flipcard_create",title:"Created Flip Card Set",description:"Calculus Quick Review",timestamp:"2024-01-16T09:00:00Z",relatedId:"1"}]),S([{id:"1",name:"Mathematics Study Group",description:"A community for math enthusiasts to share resources and discuss concepts.",posterUrl:"https://images.pexels.com/photos/3862132/pexels-photo-3862132.jpeg?auto=compress&cs=tinysrgb&w=400",creatorId:"1",memberCount:156,isPrivate:!1,tags:["mathematics","calculus","algebra"],createdDate:"2024-01-01T00:00:00Z",isMember:!0}]),M([{id:"1",participants:[{id:"1",name:(l==null?void 0:l.name)||"You",email:(l==null?void 0:l.email)||"you@example.com",followers:0,following:0,profileVisibility:"public",joinDate:"2024-01-01T00:00:00Z"},{id:"2",name:"Sarah Johnson",email:"sarah@example.com",profilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",followers:156,following:89,profileVisibility:"public",joinDate:"2024-01-10T00:00:00Z"}],lastActivity:"2024-01-20T14:30:00Z",type:"private",messages:[{id:"1",senderId:"2",senderName:"Sarah Johnson",content:"Hi there! I saw your calculus notes. They were really helpful!",timestamp:"2024-01-20T14:25:00Z"},{id:"2",senderId:"1",senderName:(l==null?void 0:l.name)||"You",content:"Thanks! I'm glad they were useful. Let me know if you have any questions!",timestamp:"2024-01-20T14:30:00Z"}]}])},pt=async A=>{o({id:"1",name:A.name,email:A.email,followers:0,following:0,profileVisibility:"public",joinDate:new Date().toISOString()}),i(!0),t("dashboard"),te({type:"success",title:"Welcome!",message:`Welcome to StudyMates, ${A.name}!`})},Ss=async()=>{await Et.auth.signOut(),i(!1),o(null),t("home"),y(["home"])},re=A=>{n(e),t(A),y($=>[...$,A])},At=()=>{if(m.length>1){const A=[...m];A.pop();const $=A[A.length-1];t($),y(A)}},te=A=>{const $={id:Date.now().toString(),...A,timestamp:new Date().toISOString()};d(z=>[$,...z])},An=A=>{d($=>$.filter(z=>z.id!==A))},$n=()=>{d([])},Un=A=>{const $={...A,id:Date.now().toString()};v(oe=>[$,...oe]);const z={id:Date.now().toString(),type:"note_upload",title:"Uploaded New Note",description:A.title,timestamp:new Date().toISOString(),relatedId:$.id};N(oe=>[z,...oe]),te({type:"success",title:"Note Uploaded",message:`Your note "${A.title}" has been uploaded successfully!`})},On=A=>{v($=>$.filter(z=>z.id!==A)),te({type:"info",title:"Note Deleted",message:"Your note has been deleted successfully."})},Ir=A=>{const $={...A,id:Date.now().toString()};g(oe=>[$,...oe]);const z={id:Date.now().toString(),type:"flipcard_create",title:"Created Flip Card Set",description:A.title,timestamp:new Date().toISOString(),relatedId:$.id};N(oe=>[z,...oe]),te({type:"success",title:"Flip Card Set Created",message:`Your flip card set "${A.title}" has been created successfully!`})},ki=A=>{g($=>$.filter(z=>z.id!==A)),te({type:"info",title:"Flip Card Set Deleted",message:"Your flip card set has been deleted successfully."})},Rn=A=>{N($=>$.filter(z=>z.id!==A))},Fn=()=>{N([]),te({type:"info",title:"Activities Cleared",message:"All activities have been cleared successfully."})},Si=A=>{const $={id:Date.now().toString(),userId:(l==null?void 0:l.id)||"1",userName:(l==null?void 0:l.name)||"You",userProfilePicture:l==null?void 0:l.profilePicture,content:A,timestamp:new Date().toISOString()};x(z=>[$,...z]),te({type:"success",title:"Post Created",message:"Your post has been created successfully."})},Ci=A=>{l&&(o({...l,...A}),te({type:"success",title:"Profile Updated",message:"Your profile has been updated successfully."}))},Mr=A=>{Y($=>[...$,A]),l&&o({...l,following:l.following+1}),te({type:"success",title:"User Followed",message:`You are now following ${A.name}.`})},T=A=>{Y($=>$.filter(z=>z.id!==A.id)),l&&o({...l,following:Math.max(0,l.following-1)}),te({type:"info",title:"User Unfollowed",message:`You have unfollowed ${A.name}.`})},X=A=>{Mr(A)},kt=A=>{te({type:"success",title:"Note Saved",message:"The note has been saved to your collection."})},$t=A=>{te({type:"success",title:"Flip Card Set Saved",message:"The flip card set has been saved to your collection."})},Ws=A=>{S(z=>z.map(oe=>oe.id===A?{...oe,isMember:!0}:oe));const $=b.find(z=>z.id===A);if($){const z={id:Date.now().toString(),type:"community_join",title:"Joined Community",description:$.name,timestamp:new Date().toISOString(),relatedId:A};N(oe=>[z,...oe]),te({type:"success",title:"Community Joined",message:`You have joined the "${$.name}" community.`})}},_i=A=>{const $={...A,id:Date.now().toString(),creatorId:(l==null?void 0:l.id)||"1",memberCount:1,createdDate:new Date().toISOString(),isMember:!0};S(oe=>[$,...oe]);const z={id:Date.now().toString(),type:"community_join",title:"Created Community",description:A.name,timestamp:new Date().toISOString(),relatedId:$.id};N(oe=>[z,...oe]),te({type:"success",title:"Community Created",message:`Your community "${A.name}" has been created successfully!`})},zn=A=>{S($=>$.filter(z=>z.id!==A)),te({type:"info",title:"Community Deleted",message:"The community has been deleted successfully."})},Em=A=>{const $={...A,id:Date.now().toString(),creatorId:(l==null?void 0:l.id)||"1",views:0,likes:0,createdDate:new Date().toISOString(),isLiked:!1};_(z=>[$,...z]),te({type:"success",title:"Infovid Created",message:`Your infovid "${A.title}" has been created successfully!`})},Tm=A=>{_($=>$.filter(z=>z.id!==A)),te({type:"info",title:"Infovid Deleted",message:"The infovid has been deleted successfully."})},Dm=A=>{te({type:"success",title:"Infovid Saved",message:"The infovid has been saved to your collection."})},Lm=A=>{const $={...A,id:Date.now().toString(),instructorId:(l==null?void 0:l.id)||"1",enrollments:0,rating:0,reviews:0,createdDate:new Date().toISOString(),isPublished:!0};O(z=>[$,...z]),te({type:"success",title:"Resource Created",message:`Your resource "${A.title}" has been created successfully!`})},Im=A=>{O($=>$.filter(z=>z.id!==A)),te({type:"info",title:"Resource Deleted",message:"The resource has been deleted successfully."})},cc=A=>{const $=D.find(z=>z.id===A);$&&(p($),re("payment"))},Mm=A=>{P(z=>[A,...z]);const $={id:Date.now().toString(),type:"course_purchase",title:"Purchased Course",description:A.courseName,timestamp:new Date().toISOString(),relatedId:A.courseId};N(z=>[$,...z]),te({type:"success",title:"Purchase Complete",message:`You have successfully purchased "${A.courseName}"!`}),re("store")},Am=A=>{const $={...A,id:Date.now().toString(),hostId:(l==null?void 0:l.id)||"1",hostName:(l==null?void 0:l.name)||"You",hostProfilePicture:l==null?void 0:l.profilePicture,participants:[{id:(l==null?void 0:l.id)||"1",name:(l==null?void 0:l.name)||"You",email:(l==null?void 0:l.email)||"you@example.com",followers:(l==null?void 0:l.followers)||0,following:(l==null?void 0:l.following)||0,profileVisibility:(l==null?void 0:l.profileVisibility)||"public",joinDate:(l==null?void 0:l.joinDate)||new Date().toISOString()}],isActive:!1};H(z=>[$,...z]),te({type:"success",title:"Study Session Created",message:`Your study session "${A.title}" has been created successfully!`})},$m=A=>{H($=>$.filter(z=>z.id!==A)),te({type:"info",title:"Study Session Deleted",message:"The study session has been deleted successfully."})},Um=(A,$,z)=>{const oe={id:Date.now().toString(),senderId:(l==null?void 0:l.id)||"1",senderName:(l==null?void 0:l.name)||"You",content:$,timestamp:new Date().toISOString(),attachedResource:z};M(St=>St.map(Gt=>Gt.id===A?{...Gt,messages:[...Gt.messages||[],oe],lastActivity:new Date().toISOString(),lastMessage:oe}:Gt))},Om=A=>{const $=[...I,...E].find(St=>St.id===A);if(!$)return;if(q.find(St=>St.type==="private"&&St.participants.length===2&&St.participants.some(Gt=>Gt.id===A)&&St.participants.some(Gt=>Gt.id===(l==null?void 0:l.id)))){re("chat");return}const oe={id:Date.now().toString(),participants:[{id:(l==null?void 0:l.id)||"1",name:(l==null?void 0:l.name)||"You",email:(l==null?void 0:l.email)||"you@example.com",followers:(l==null?void 0:l.followers)||0,following:(l==null?void 0:l.following)||0,profileVisibility:(l==null?void 0:l.profileVisibility)||"public",joinDate:(l==null?void 0:l.joinDate)||new Date().toISOString()},$],lastActivity:new Date().toISOString(),type:"private",messages:[]};M(St=>[oe,...St]),re("chat"),te({type:"info",title:"Chat Created",message:`You can now chat with ${$.name}.`})},Rm=()=>{t("home")},Fm=()=>{if(e==="login"||!a&&e!=="home")return s.jsx(Zg,{onAuth:pt,onSkipSignIn:Rm});if(a&&!l&&e!=="home")return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Na,{className:"w-8 h-8 animate-spin text-blue-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading your profile..."})]})});switch(e){case"home":return s.jsx(Od,{onNavigate:re,isLoggedIn:a});case"dashboard":return s.jsx(ry,{user:l,notes:f,flipCardSets:k,posts:h,recentActivities:j,onNavigate:re,onCreatePost:Si,onDeleteActivity:Rn,onDeleteAllActivities:Fn});case"notes":return s.jsx(ay,{notes:f,onAddNote:Un,onDeleteNote:On});case"flipcards":return s.jsx(ly,{flipCardSets:k,notes:f,onCreateSet:Ir,onDeleteSet:ki});case"profile":return s.jsx(cy,{user:l,notes:f,flipCardSets:k,purchases:Q,recentActivities:j,savedCommunities:b.filter(A=>A.isMember),savedSessions:B,savedInfovids:w,savedCourses:D,followers:I,following:E,onUpdateProfile:Ci,onDeleteActivity:Rn,onDeleteAllActivities:Fn,onNavigate:re,onFollowUser:Mr,onUnfollowUser:T,onFollowBack:X});case"chat":return s.jsx(fy,{user:l,chats:q,notes:f,flipCardSets:k,communities:b,onSendMessage:Um,onCreateChat:Om});case"explore":return s.jsx(gy,{currentUser:l,isLoggedIn:a,onFollowUser:Mr,onUnfollowUser:T,onSaveNote:kt,onSaveFlipCard:$t,onJoinCommunity:Ws,onPurchaseCourse:cc,onAddNotification:te});case"communities":return s.jsx(vy,{user:l,communities:b,posts:h,onCreateCommunity:_i,onJoinCommunity:Ws,onDeleteCommunity:zn});case"study-sessions":return s.jsx(wy,{user:l,sessions:B,onCreateSession:Am,onDeleteSession:$m});case"infovids":return s.jsx(Ny,{user:l,infovids:w,onCreateInfovid:Em,onDeleteInfovid:Tm});case"store":return s.jsx(Sy,{user:l,isLoggedIn:a,onPurchaseCourse:cc,onAddNotification:te});case"my-store":return s.jsx(_y,{user:l,purchases:Q,savedCourses:D,onNavigate:re,onCreateResource:Lm,onDeleteResource:Im});case"payment":return u?s.jsx($y,{course:u,onPaymentComplete:Mm,onCancel:()=>re("store")}):s.jsx("div",{children:"No course selected for payment."});case"public-notes":return s.jsx(Ey,{onNavigate:re,onSaveNote:kt,isLoggedIn:a});case"public-flipcards":return s.jsx(Dy,{onNavigate:re,onSaveFlipCard:$t,isLoggedIn:a});case"public-communities":return s.jsx(Iy,{onNavigate:re,user:l,onJoinCommunity:Ws,isLoggedIn:a});case"public-sessions":return s.jsx(My,{onNavigate:re,user:l,onAddNotification:te,isLoggedIn:a});case"public-infovids":return s.jsx(Ay,{onNavigate:re,onSaveInfovid:Dm,isLoggedIn:a});default:return s.jsx(Od,{onNavigate:re,isLoggedIn:a})}};return s.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col",children:[e!=="login"&&s.jsx(ey,{user:l,onLogout:Ss,currentView:e,onNavigate:re,onNavigateBack:At,showBackButton:m.length>1,notifications:c,onDismissNotification:An,onClearAllNotifications:$n,isLoggedIn:a}),s.jsx("main",{className:"flex-1",children:Fm()}),e!=="login"&&s.jsxs(s.Fragment,{children:[s.jsx(ty,{}),s.jsx(sy,{currentView:e,onNavigate:re})]})]})}Kh(document.getElementById("root")).render(s.jsx(C.StrictMode,{children:s.jsx(Uy,{})}));
